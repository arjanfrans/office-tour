(this["webpackJsonpthe-office"]=this["webpackJsonpthe-office"]||[]).push([[0],{15:function(e,t,i){e.exports=i(22)},20:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var n=i(3),a=i.n(n),r=i(12),s=i.n(r),l=(i(20),i(8)),h=i.n(l),o=i(13),p=i(2),d=i(1),c=i(6),u=i(5),y=i(0),v=i(14),g=i(7),w=i(9),f=i(10),I=i(4),O=function(e){Object(c.a)(i,e);var t=Object(u.a)(i);function i(e,n,a){var r;return Object(p.a)(this,i),(r=t.call(this,Object(w.a)(Object(w.a)({},n),{},{width:20,height:20,collisionType:y.CollisionType.Active}))).engine=e,r.view=a,r.speed=100,r._direction=i.DIRECTION_DOWN,r}return Object(d.a)(i,[{key:"direction",get:function(){return this._direction}}]),Object(d.a)(i,[{key:"draw",value:function(e,t){var n;this.view&&(null===(n=this.view)||void 0===n||n.update());Object(f.a)(Object(I.a)(i.prototype),"draw",this).call(this,e,t)}},{key:"update",value:function(e,t){e.input.keyboard.isHeld(y.Input.Keys.Up)?(this.vel.y=-this.speed,this._direction=i.DIRECTION_UP):e.input.keyboard.wasReleased(y.Input.Keys.Up)&&(this.vel.y=0),e.input.keyboard.isHeld(y.Input.Keys.Down)?(this.vel.y=this.speed,this._direction=i.DIRECTION_DOWN):e.input.keyboard.wasReleased(y.Input.Keys.Down)&&(this.vel.y=0),e.input.keyboard.isHeld(y.Input.Keys.Right)?(this.vel.x=this.speed,this._direction=i.DIRECTION_RIGHT):e.input.keyboard.wasReleased(y.Input.Keys.Right)&&(this.vel.x=0),e.input.keyboard.isHeld(y.Input.Keys.Left)?(this.vel.x=-this.speed,this._direction=i.DIRECTION_LEFT):e.input.keyboard.wasReleased(y.Input.Keys.Left)&&(this.vel.x=0),Object(f.a)(Object(I.a)(i.prototype),"update",this).call(this,e,t)}}]),i}(y.Actor);O.DIRECTION_UP="up",O.DIRECTION_DOWN="down",O.DIRECTION_RIGHT="right",O.DIRECTION_LEFT="left";var D=function(){function e(t,i){Object(p.a)(this,e),this.engine=t,this.data=i,this.layers=new Map,this.objects=new Map;var n,a=Object(g.a)(i.layers);try{for(a.s();!(n=a.n()).done;){var r=n.value;this.layers.set(r.name,r)}}catch(s){a.e(s)}finally{a.f()}this.parseObjectLayers()}return Object(d.a)(e,[{key:"getLayer",value:function(e){var t=this.layers.get(e);return t||null}},{key:"getPlayer",value:function(){var t=this.objects.get(e.PLAYER_NAME);if(!t)throw new Error("No Player found in map.");return new O(this.engine,{x:t.x,y:t.y})}},{key:"parseObjectLayers",value:function(){var t,i=Object(g.a)(this.layers.values());try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.type===e.OBJECT_LAYER&&n.objects){var a,r=Object(g.a)(n.objects);try{for(r.s();!(a=r.n()).done;){var s=a.value;this.objects.set(s.name,s)}}catch(l){r.e(l)}finally{r.f()}}}}catch(l){i.e(l)}finally{i.f()}}}]),e}();D.OBJECT_LAYER="objectgroup",D.TILE_LAYER="tilelayer",D.PLAYER_NAME="player";var b=function(){function e(t,i,n){Object(p.a)(this,e),this.engine=t,this.player=i,this.texture=n,this.upAnimation=void 0,this.leftAnimation=void 0,this.rightAnimation=void 0,this.downAnimation=void 0,this.idleDownSprite=void 0,this.idleUpSprite=void 0,this.idleLeftSprite=void 0,this.idleRightSprite=void 0;var a=new y.SpriteSheet(this.texture,3,4,16,16);this.downAnimation=a.getAnimationByIndices(this.engine,[0,1,2],e.ANIMATION_SPEED),this.leftAnimation=a.getAnimationByIndices(this.engine,[3,4,5],e.ANIMATION_SPEED),this.rightAnimation=a.getAnimationByIndices(this.engine,[6,7,8],e.ANIMATION_SPEED),this.upAnimation=a.getAnimationByIndices(this.engine,[9,10,11],e.ANIMATION_SPEED),this.idleDownSprite=a.getSprite(1),this.idleLeftSprite=a.getSprite(4),this.idleRightSprite=a.getSprite(7),this.idleUpSprite=a.getSprite(10),this.player.addDrawing("up",this.upAnimation),this.player.addDrawing("left",this.leftAnimation),this.player.addDrawing("right",this.rightAnimation),this.player.addDrawing("down",this.downAnimation),this.player.addDrawing("idleUp",this.idleUpSprite),this.player.addDrawing("idleDown",this.idleDownSprite),this.player.addDrawing("idleRight",this.idleRightSprite),this.player.addDrawing("idleLeft",this.idleLeftSprite),this.player.setDrawing("idleDown")}return Object(d.a)(e,[{key:"update",value:function(){this.player.vel.x>0?this.player.setDrawing("right"):this.player.vel.x<0?this.player.setDrawing("left"):this.player.vel.y>0?this.player.setDrawing("down"):this.player.vel.y<0?this.player.setDrawing("up"):this.player.direction===O.DIRECTION_UP?this.player.setDrawing("idleUp"):this.player.direction===O.DIRECTION_DOWN?this.player.setDrawing("idleDown"):this.player.direction===O.DIRECTION_LEFT?this.player.setDrawing("idleLeft"):this.player.setDrawing("idleRight")}}]),e}();b.ANIMATION_SPEED=100;var E=function(){function e(t){Object(p.a)(this,e),this.engine=t,this.level1=void 0,this.spriteSheets=new Map,this.playerTexture=void 0,this.level1=new v.TiledResource("/assets/maps/level1.json"),this.playerTexture=new y.Texture("/assets/characters/player.png")}return Object(d.a)(e,[{key:"init",value:function(){var e=this.level1.getTileMap();this.parseMap(),this.engine.add(e)}},{key:"parseMap",value:function(){var e=this.level1.getData(),t=new D(this.engine,e).getPlayer();t.view=new b(this.engine,t,this.playerTexture),this.engine.add(t)}},{key:"getSpriteSheet",value:function(e){var t=this.spriteSheets.get(e);return t||null}},{key:"getLoadableResources",value:function(){return[this.level1,this.playerTexture]}}]),e}(),A=function(e){Object(c.a)(i,e);var t=Object(u.a)(i);function i(){return Object(p.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e=Object(o.a)(h.a.mark((function e(){var t,i,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.Engine({width:800,height:600,canvasElementId:"game"}),i=new E(t),n=new y.Loader(i.getLoadableResources()),e.next=5,t.start(n);case 5:i.init();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("canvas",{id:"game"})}}]),i}(a.a.Component);s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e2ef8e98.chunk.js.map