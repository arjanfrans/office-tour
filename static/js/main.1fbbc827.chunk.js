(this["webpackJsonpthe-office"]=this["webpackJsonpthe-office"]||[]).push([[0],{15:function(e,t,i){e.exports=i(22)},20:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var n=i(3),a=i.n(n),s=i(12),r=i.n(s),l=(i(20),i(8)),h=i.n(l),o=i(13),c=i(2),d=i(1),p=i(7),u=i(6),y=i(0),v=i(5),g=i(14),f=i(9),w=i(10),O=i(4),I=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(e,n,a){var s;return Object(c.a)(this,i),(s=t.call(this,Object(f.a)(Object(f.a)({},n),{},{width:20,height:20,collisionType:y.CollisionType.Active}))).engine=e,s.view=a,s.speed=100,s._direction=i.DIRECTION_DOWN,s}return Object(d.a)(i,[{key:"direction",get:function(){return this._direction}}]),Object(d.a)(i,[{key:"draw",value:function(e,t){var n;this.view&&(null===(n=this.view)||void 0===n||n.update());Object(w.a)(Object(O.a)(i.prototype),"draw",this).call(this,e,t)}},{key:"update",value:function(e,t){e.input.keyboard.isHeld(y.Input.Keys.Up)?(this.vel.y=-this.speed,this._direction=i.DIRECTION_UP):e.input.keyboard.wasReleased(y.Input.Keys.Up)&&(this.vel.y=0),e.input.keyboard.isHeld(y.Input.Keys.Down)?(this.vel.y=this.speed,this._direction=i.DIRECTION_DOWN):e.input.keyboard.wasReleased(y.Input.Keys.Down)&&(this.vel.y=0),e.input.keyboard.isHeld(y.Input.Keys.Right)?(this.vel.x=this.speed,this._direction=i.DIRECTION_RIGHT):e.input.keyboard.wasReleased(y.Input.Keys.Right)&&(this.vel.x=0),e.input.keyboard.isHeld(y.Input.Keys.Left)?(this.vel.x=-this.speed,this._direction=i.DIRECTION_LEFT):e.input.keyboard.wasReleased(y.Input.Keys.Left)&&(this.vel.x=0),Object(w.a)(Object(O.a)(i.prototype),"update",this).call(this,e,t)}}]),i}(y.Actor);I.DIRECTION_UP="up",I.DIRECTION_DOWN="down",I.DIRECTION_RIGHT="right",I.DIRECTION_LEFT="left";var b=function(){function e(t,i){Object(c.a)(this,e),this.engine=t,this.data=i,this.layers=new Map,this.objects=new Map,this.collisions=new Map;var n,a=Object(v.a)(i.layers);try{for(a.s();!(n=a.n()).done;){var s=n.value;this.layers.set(s.name,s)}}catch(r){a.e(r)}finally{a.f()}this.parseObjectLayers()}return Object(d.a)(e,[{key:"getLayer",value:function(e){var t=this.layers.get(e);return t||null}},{key:"getCollisionActors",value:function(){var e,t=[],i=Object(v.a)(this.collisions.values());try{for(i.s();!(e=i.n()).done;){var n=e.value;t.push(new y.Actor({x:n.x+n.width/2,y:n.y+n.height/2,width:n.width,height:n.height,collisionType:y.CollisionType.Fixed}))}}catch(a){i.e(a)}finally{i.f()}return t}},{key:"getPlayer",value:function(){var t=this.objects.get(e.PLAYER_NAME);if(!t)throw new Error("No Player found in map.");return new I(this.engine,{x:t.x,y:t.y})}},{key:"parseObjectLayers",value:function(){var t,i=Object(v.a)(this.layers.values());try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.type===e.OBJECT_LAYER&&n.objects)if(n.name.startsWith("object")){var a,s=Object(v.a)(n.objects);try{for(s.s();!(a=s.n()).done;){var r=a.value;this.objects.set(r.name,r)}}catch(c){s.e(c)}finally{s.f()}}else if(n.name.startsWith("collision")){var l,h=Object(v.a)(n.objects);try{for(h.s();!(l=h.n()).done;){var o=l.value;this.collisions.set(o.id.toString(),o)}}catch(c){h.e(c)}finally{h.f()}}}}catch(c){i.e(c)}finally{i.f()}}}]),e}();b.OBJECT_LAYER="objectgroup",b.TILE_LAYER="tilelayer",b.PLAYER_NAME="player";var D=function(){function e(t,i,n){Object(c.a)(this,e),this.engine=t,this.player=i,this.texture=n,this.upAnimation=void 0,this.leftAnimation=void 0,this.rightAnimation=void 0,this.downAnimation=void 0,this.idleDownSprite=void 0,this.idleUpSprite=void 0,this.idleLeftSprite=void 0,this.idleRightSprite=void 0;var a=new y.SpriteSheet(this.texture,3,4,16,16);this.downAnimation=a.getAnimationByIndices(this.engine,[0,1,2],e.ANIMATION_SPEED),this.leftAnimation=a.getAnimationByIndices(this.engine,[3,4,5],e.ANIMATION_SPEED),this.rightAnimation=a.getAnimationByIndices(this.engine,[6,7,8],e.ANIMATION_SPEED),this.upAnimation=a.getAnimationByIndices(this.engine,[9,10,11],e.ANIMATION_SPEED),this.idleDownSprite=a.getSprite(1),this.idleLeftSprite=a.getSprite(4),this.idleRightSprite=a.getSprite(7),this.idleUpSprite=a.getSprite(10),this.player.addDrawing("up",this.upAnimation),this.player.addDrawing("left",this.leftAnimation),this.player.addDrawing("right",this.rightAnimation),this.player.addDrawing("down",this.downAnimation),this.player.addDrawing("idleUp",this.idleUpSprite),this.player.addDrawing("idleDown",this.idleDownSprite),this.player.addDrawing("idleRight",this.idleRightSprite),this.player.addDrawing("idleLeft",this.idleLeftSprite),this.player.setDrawing("idleDown")}return Object(d.a)(e,[{key:"update",value:function(){this.player.vel.x>0?this.player.setDrawing("right"):this.player.vel.x<0?this.player.setDrawing("left"):this.player.vel.y>0?this.player.setDrawing("down"):this.player.vel.y<0?this.player.setDrawing("up"):this.player.direction===I.DIRECTION_UP?this.player.setDrawing("idleUp"):this.player.direction===I.DIRECTION_DOWN?this.player.setDrawing("idleDown"):this.player.direction===I.DIRECTION_LEFT?this.player.setDrawing("idleLeft"):this.player.setDrawing("idleRight")}}]),e}();D.ANIMATION_SPEED=100;var E=function(){function e(t){Object(c.a)(this,e),this.engine=t,this.level1=void 0,this.spriteSheets=new Map,this.playerTexture=void 0,this.level1=new g.TiledResource("/assets/maps/level1.json"),this.playerTexture=new y.Texture("/assets/characters/player.png")}return Object(d.a)(e,[{key:"init",value:function(){var e=this.level1.getTileMap();this.parseMap(),this.engine.add(e)}},{key:"parseMap",value:function(){var e=this.level1.getData(),t=new b(this.engine,e),i=t.getPlayer();i.view=new D(this.engine,i,this.playerTexture),this.engine.add(i);var n,a=Object(v.a)(t.getCollisionActors());try{for(a.s();!(n=a.n()).done;){var s=n.value;this.engine.add(s)}}catch(r){a.e(r)}finally{a.f()}}},{key:"getSpriteSheet",value:function(e){var t=this.spriteSheets.get(e);return t||null}},{key:"getLoadableResources",value:function(){return[this.level1,this.playerTexture]}}]),e}(),j=function(e){Object(p.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e=Object(o.a)(h.a.mark((function e(){var t,i,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.Engine({width:800,height:600,canvasElementId:"game"}),i=new E(t),n=new y.Loader(i.getLoadableResources()),e.next=5,t.start(n);case 5:i.init();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("canvas",{id:"game"})}}]),i}(a.a.Component);r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(j,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1fbbc827.chunk.js.map