/*! For license information please see 2.77c3ceb1.chunk.js.LICENSE.txt */
(this["webpackJsonpthe-office"]=this["webpackJsonpthe-office"]||[]).push([[2],[function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=139)}([function(t,e,n){var r=n(5),i=n(48).f,o=n(16),a=n(49),s=n(30),l=n(79),u=n(83);t.exports=function(t,e){var n,c,h,f,p,d=t.target,g=t.global,y=t.stat;if(n=g?r:y?r[d]||s(d,{}):(r[d]||{}).prototype)for(c in e){if(f=e[c],h=t.noTargetGet?(p=i(n,c))&&p.value:n[c],!u(g?c:d+(y?".":"#")+c,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(n,c,f,t)}}},function(t,e,n){var r=n(5),i=n(45),o=n(8),a=n(46),s=n(52),l=n(86),u=i("wks"),c=r.Symbol,h=l?c:c&&c.withoutSetter||a;t.exports=function(t){return o(u,t)||(s&&o(c,t)?u[t]=c[t]:u[t]=h("Symbol."+t)),u[t]}},function(t,e,n){var r=n(11),i=n(4),o=n(8),a=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],u=!!o(e,"ACCESSORS")&&e.ACCESSORS,c=o(e,0)?e[0]:l,h=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(u&&!r)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:l}):t[1]=1,n.call(t,c,h)}))}},function(t,e,n){var r=n(15),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(77))},function(t,e,n){var r=n(28);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(11),i=n(43),o=n(17),a=n(31),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(4);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(1),i=n(53),o=n(9),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(26),i=n(28);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(40),i=n(26),o=n(6),a=n(3),s=n(23),l=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h;return function(p,d,g,y){for(var _,m,v=o(p),b=i(v),w=r(d,g,3),x=a(b.length),P=0,E=y||s,S=e?E(p,x):n?E(p,0):void 0;x>P;P++)if((f||P in b)&&(m=w(_=b[P],P,v),t))if(e)S[P]=m;else if(m)switch(t){case 3:return!0;case 5:return _;case 6:return P;case 2:l.call(S,_)}else if(c)return!1;return h?-1:u||c?c:S}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(11),i=n(9),o=n(25);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(35);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(15),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(31),i=n(9),o=n(25);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var r=n(7),i=n(18),o=n(1)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(4),i=n(1),o=n(55),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(4),i=n(35),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(36),i=n(5),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r,i,o,a=n(76),s=n(5),l=n(7),u=n(16),c=n(8),h=n(32),f=n(34),p=s.WeakMap;if(a){var d=new p,g=d.get,y=d.has,_=d.set;r=function(t,e){return _.call(d,t,e),e},i=function(t){return g.call(d,t)||{}},o=function(t){return y.call(d,t)}}else{var m=h("state");f[m]=!0,r=function(t,e){return u(t,m,e),e},i=function(t){return c(t,m)?t[m]:{}},o=function(t){return c(t,m)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(5),i=n(16);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(45),i=n(46),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(5);t.exports=r},function(t,e,n){var r=n(13),i=n(3),o=n(19),a=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(8),i=n(6),o=n(32),a=n(85),s=o("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},function(t,e,n){var r=n(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(42),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(5),i=n(30),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r=n(11),i=n(4),o=n(44);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),i=n(7),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(33),i=n(42);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){"use strict";var r=n(0),i=n(84),o=n(39),a=n(90),s=n(54),l=n(16),u=n(49),c=n(1),h=n(33),f=n(20),p=n(51),d=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,y=c("iterator"),_=function(){return this};t.exports=function(t,e,n,c,p,m,v){i(n,e,c);var b,w,x,P=function(t){if(t===p&&C)return C;if(!g&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",S=!1,k=t.prototype,A=k[y]||k["@@iterator"]||p&&k[p],C=!g&&A||P(p),T="Array"==e&&k.entries||A;if(T&&(b=o(T.call(new t)),d!==Object.prototype&&b.next&&(h||o(b)===d||(a?a(b,d):"function"!=typeof b[y]&&l(b,y,_)),s(b,E,!0,!0),h&&(f[E]=_))),"values"==p&&A&&"values"!==A.name&&(S=!0,C=function(){return A.call(this)}),h&&!v||k[y]===C||l(k,y,C),f[e]=C,p)if(w={values:P("values"),keys:m?C:P("keys"),entries:P("entries")},v)for(x in w)!g&&!S&&x in k||u(k,x,w[x]);else r({target:e,proto:!0,forced:g||S},w);return w}},function(t,e,n){var r=n(11),i=n(78),o=n(25),a=n(13),s=n(31),l=n(8),u=n(43),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(l(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(5),i=n(16),o=n(8),a=n(30),s=n(41),l=n(29),u=l.get,c=l.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),c(n).source=h.join("string"==typeof e?e:"")),t!==r?(l?!f&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(t,e,n){var r=n(8),i=n(13),o=n(37).indexOf,a=n(34);t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){"use strict";var r,i,o,a=n(39),s=n(16),l=n(8),u=n(1),c=n(33),h=u("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),c||l(r,h)||s(r,h,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var r=n(4);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r,i=n(17),o=n(87),a=n(38),s=n(34),l=n(89),u=n(44),c=n(32)("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[c]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[c]=t):n=p(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(9).f,i=n(8),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r,i,o=n(5),a=n(103),s=o.process,l=s&&s.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){"use strict";var r=n(18),i=n(3),o=n(40);t.exports=function t(e,n,a,s,l,u,c,h){for(var f,p=l,d=0,g=!!c&&o(c,h,3);d<s;){if(d in a){if(f=g?g(a[d],d,n):a[d],u>0&&r(f))p=t(e,n,f,i(f.length),p,u-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}d++}return p}},function(t,e,n){var r=n(21),i=n(6),o=n(26),a=n(3),s=function(t){return function(e,n,s,l){r(n);var u=i(e),c=o(u),h=a(u.length),f=t?h-1:0,p=t?-1:1;if(s<2)for(;;){if(f in c){l=c[f],f+=p;break}if(f+=p,t?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:h>f;f+=p)f in c&&(l=n(l,c[f],f,u));return l}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){"use strict";var r=n(59),i=n.n(r)()(!0);i.push([t.i,"/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n","",{version:3,sources:["webpack://Loader.css"],names:[],mappings:"AAAA,yBAAyB;;AAEzB;EACE,qBAAqB;EACrB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ;;+BAE6B;EAC7B,8BAA8B;EAC9B,SAAS;EACT,qBAAqB;EACrB,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;EACf,cAAc;EACd,eAAe;EACf,kBAAkB;EAClB,8DAA8D;EAC9D,wBAAwB;EACxB,qBAAqB;;EAErB,gDAAgD,EAAE,oCAAoC;EACtF,6CAA6C,EAAE,iBAAiB;EAChE,4CAA4C,EAAE,sBAAsB;EACpE,2CAA2C,EAAE,iBAAiB;EAC9D,wCAAwC;AAC1C;;AAEA;;;EAGE;;AAEF;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,uDAAuD;EACvD,UAAU;EACV,SAAS;EACT,QAAQ;EACR,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,iBAAiB;EACjB,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,uBAAuB;EACvB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,oCAAoC;AACpC;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,sBAAsB;AACtB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,UAAU;EACZ;EACA;IACE,UAAU;EACZ;AACF",sourcesContent:["/* Buttons styles start */\n\nbutton#excalibur-play {\n  display: inline-block;\n  position: relative;\n  z-index: 999;\n  border-radius: 6px;\n  border: none;\n  /*border: 3px solid;\n    border-color: white;\n    box-shadow: 0 0 10px #ccc;*/\n  padding: 1rem 1.5rem 1rem 4rem;\n  margin: 0;\n  text-decoration: none;\n  background: #00b233;\n  color: #ffffff;\n  font-family: sans-serif;\n  font-size: 2rem;\n  line-height: 1;\n  cursor: pointer;\n  text-align: center;\n  transition: background 250ms ease-in-out, transform 150ms ease;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n\n  -webkit-animation: excalibur-button-fadein 200ms; /* Safari, Chrome and Opera > 12.1 */\n  -moz-animation: excalibur-button-fadein 200ms; /* Firefox < 16 */\n  -ms-animation: excalibur-button-fadein 200ms; /* Internet Explorer */\n  -o-animation: excalibur-button-fadein 200ms; /* Opera < 12.1 */\n  animation: excalibur-button-fadein 200ms;\n}\n\n/*\nbutton#excalibur-play {\n  display: none;\n}*/\n\nbutton#excalibur-play:after {\n  position: absolute;\n  content: '';\n  border: 8px solid;\n  border-color: transparent transparent transparent white;\n  left: 35px;\n  top: 24px;\n  width: 0;\n  height: 0;\n}\n\nbutton#excalibur-play:before {\n  position: absolute;\n  content: '';\n  border: 3px solid;\n  left: 19px;\n  top: 14px;\n  border-radius: 20px;\n  width: 30px;\n  height: 30px;\n}\n\nbutton#excalibur-play:hover,\nbutton#excalibur-play:focus {\n  background: #00982c;\n}\n\nbutton#excalibur-play:focus {\n  outline: 1px solid #fff;\n  outline-offset: -4px;\n}\n\nbutton#excalibur-play:active {\n  transform: scale(0.99);\n}\n\n@keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Firefox < 16 */\n@-moz-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Safari, Chrome and Opera > 12.1 */\n@-webkit-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Internet Explorer */\n@-ms-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* Opera < 12.1 */\n@-o-keyframes excalibur-button-fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n"],sourceRoot:""}]),e.a=i},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r,i,o=t[1]||"",a=t[3];if(!a)return o;if(e&&"function"==typeof btoa){var s=(n=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(l).concat([s]).join("\n")}return[o].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},,,,,,,,,,,,,,function(t,e,n){n(74),n(92),n(100),n(101),n(102),n(104),n(106),n(107),n(109),n(110),n(111),n(112),n(113),n(114),n(116),n(117),n(118),n(119),n(120),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(131),n(132),n(133);var r=n(36);t.exports=r.Array},function(t,e,n){"use strict";var r=n(75).charAt,i=n(29),o=n(47),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(15),i=n(28),o=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(5),i=n(41),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(8),i=n(80),o=n(48),a=n(9);t.exports=function(t,e){for(var n=i(e),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(t,c)||s(t,c,l(e,c))}}},function(t,e,n){var r=n(27),i=n(81),o=n(82),a=n(17);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(50),i=n(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(4),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==u||n!=l&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var r=n(51).IteratorPrototype,i=n(53),o=n(25),a=n(54),s=n(20),l=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,u,!1,!0),s[u]=l,t}},function(t,e,n){var r=n(4);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(52);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(11),i=n(9),o=n(17),a=n(88);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,l=0;s>l;)i.f(t,n=r[l++],e[n]);return t}},function(t,e,n){var r=n(50),i=n(38);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(27);t.exports=r("document","documentElement")},function(t,e,n){var r=n(17),i=n(91);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(0),i=n(93);r({target:"Array",stat:!0,forced:!n(99)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(40),i=n(6),o=n(94),a=n(95),s=n(3),l=n(22),u=n(96);t.exports=function(t){var e,n,c,h,f,p,d=i(t),g="function"==typeof this?this:Array,y=arguments.length,_=y>1?arguments[1]:void 0,m=void 0!==_,v=u(d),b=0;if(m&&(_=r(_,y>2?arguments[2]:void 0,2)),null==v||g==Array&&a(v))for(n=new g(e=s(d.length));e>b;b++)p=m?_(d[b],b):d[b],l(n,b,p);else for(f=(h=v.call(d)).next,n=new g;!(c=f.call(h)).done;b++)p=m?o(h,_,[c.value,b],!0):c.value,l(n,b,p);return n.length=b,n}},function(t,e,n){var r=n(17);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(1),i=n(20),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r=n(97),i=n(20),o=n(1)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(98),i=n(35),o=n(1)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r={};r[n(1)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(1)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){n(0)({target:"Array",stat:!0},{isArray:n(18)})},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(22);r({target:"Array",stat:!0,forced:i((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(18),a=n(7),s=n(6),l=n(3),u=n(22),c=n(23),h=n(24),f=n(1),p=n(55),d=f("isConcatSpreadable"),g=p>=51||!i((function(){var t=[];return t[d]=!1,t.concat()[0]!==t})),y=h("concat"),_=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!g||!y},{concat:function(t){var e,n,r,i,o,a=s(this),h=c(a,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(_(o=-1===e?a:arguments[e])){if(f+(i=l(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in o&&u(h,f,o[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(h,f++,o)}return h.length=f,h}})},function(t,e,n){var r=n(27);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(0),i=n(105),o=n(12);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(t,e,n){"use strict";var r=n(6),i=n(19),o=n(3),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),l=i(t,s),u=i(e,s),c=arguments.length>2?arguments[2]:void 0,h=a((void 0===c?s:i(c,s))-u,s-l),f=1;for(u<l&&l<u+h&&(f=-1,u+=h-1,l+=h-1);h-- >0;)u in n?n[l]=n[u]:delete n[l],l+=f,u+=f;return n}},function(t,e,n){"use strict";var r=n(0),i=n(14).every,o=n(10),a=n(2),s=o("every"),l=a("every");r({target:"Array",proto:!0,forced:!s||!l},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),i=n(108),o=n(12);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,n){"use strict";var r=n(6),i=n(19),o=n(3);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(0),i=n(14).filter,o=n(24),a=n(2),s=o("filter"),l=a("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(14).find,o=n(12),a=n(2),s=!0,l=a("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!l},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var r=n(0),i=n(14).findIndex,o=n(12),a=n(2),s=!0,l=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!l},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){"use strict";var r=n(0),i=n(56),o=n(6),a=n(3),s=n(15),l=n(23);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),r=l(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:s(t)),r}})},function(t,e,n){"use strict";var r=n(0),i=n(56),o=n(6),a=n(3),s=n(21),l=n(23);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),r=a(n.length);return s(t),(e=l(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(0),i=n(115);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(14).forEach,i=n(10),o=n(2),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(0),i=n(37).includes,o=n(12);r({target:"Array",proto:!0,forced:!n(2)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){"use strict";var r=n(0),i=n(37).indexOf,o=n(10),a=n(2),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(t){return l?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(13),i=n(12),o=n(20),a=n(29),s=n(47),l=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){l(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var r=n(0),i=n(26),o=n(13),a=n(10),s=[].join,l=i!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:l||!u},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,n){var r=n(0),i=n(121);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(13),i=n(15),o=n(3),a=n(10),s=n(2),l=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,h=a("lastIndexOf"),f=s("indexOf",{ACCESSORS:!0,1:0}),p=c||!h||!f;t.exports=p?function(t){if(c)return u.apply(this,arguments)||0;var e=r(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=l(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,e,n){"use strict";var r=n(0),i=n(14).map,o=n(24),a=n(2),s=o("map"),l=a("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(57).left,o=n(10),a=n(2),s=o("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(57).right,o=n(10),a=n(2),s=o("reduceRight"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(18),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){"use strict";var r=n(0),i=n(7),o=n(18),a=n(19),s=n(3),l=n(13),u=n(22),c=n(1),h=n(24),f=n(2),p=h("slice"),d=f("slice",{ACCESSORS:!0,0:0,1:2}),g=c("species"),y=[].slice,_=Math.max;r({target:"Array",proto:!0,forced:!p||!d},{slice:function(t,e){var n,r,c,h=l(this),f=s(h.length),p=a(t,f),d=a(void 0===e?f:e,f);if(o(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[g])&&(n=void 0):n=void 0,n===Array||void 0===n))return y.call(h,p,d);for(r=new(void 0===n?Array:n)(_(d-p,0)),c=0;p<d;p++,c++)p in h&&u(r,c,h[p]);return r.length=c,r}})},function(t,e,n){"use strict";var r=n(0),i=n(14).some,o=n(10),a=n(2),s=o("some"),l=a("some");r({target:"Array",proto:!0,forced:!s||!l},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(21),o=n(6),a=n(4),s=n(10),l=[],u=l.sort,c=a((function(){l.sort(void 0)})),h=a((function(){l.sort(null)})),f=s("sort");r({target:"Array",proto:!0,forced:c||!h||!f},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},function(t,e,n){n(130)("Array")},function(t,e,n){"use strict";var r=n(27),i=n(9),o=n(1),a=n(11),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(0),i=n(19),o=n(15),a=n(3),s=n(6),l=n(23),u=n(22),c=n(24),h=n(2),f=c("splice"),p=h("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var n,r,c,h,f,p,y=s(this),_=a(y.length),m=i(t,_),v=arguments.length;if(0===v?n=r=0:1===v?(n=0,r=_-m):(n=v-2,r=g(d(o(e),0),_-m)),_+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=l(y,r),h=0;h<r;h++)(f=m+h)in y&&u(c,h,y[f]);if(c.length=r,n<r){for(h=m;h<_-r;h++)p=h+n,(f=h+r)in y?y[p]=y[f]:delete y[p];for(h=_;h>_-r+n;h--)delete y[h-1]}else if(n>r)for(h=_-r;h>m;h--)p=h+n-1,(f=h+r-1)in y?y[p]=y[f]:delete y[p];for(h=0;h<n;h++)y[h+m]=arguments[h+2];return y.length=_-r+n,c}})},function(t,e,n){n(12)("flat")},function(t,e,n){n(12)("flatMap")},function(t,e,n){n(135),n(137),n(138);var r=n(36);t.exports=r.Function},function(t,e,n){n(0)({target:"Function",proto:!0},{bind:n(136)})},function(t,e,n){"use strict";var r=n(21),i=n(7),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function r(){var i=n.concat(o.call(arguments));return this instanceof r?s(e,i.length,i):e.apply(t,i)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var r=n(11),i=n(9).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(7),i=n(9),o=n(39),a=n(1)("hasInstance"),s=Function.prototype;a in s||i.f(s,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){"use strict";n.r(e),n.d(e,"EX_VERSION",(function(){return Zi})),n.d(e,"ScrollPreventionMode",(function(){return ti})),n.d(e,"Engine",(function(){return ai})),n.d(e,"DisplayMode",(function(){return Wt})),n.d(e,"Resolution",(function(){return Kt})),n.d(e,"Screen",(function(){return Yt})),n.d(e,"Actor",(function(){return mn})),n.d(e,"CollisionType",(function(){return at})),n.d(e,"Vector",(function(){return V})),n.d(e,"Ray",(function(){return q})),n.d(e,"Line",(function(){return Q})),n.d(e,"Projection",(function(){return G})),n.d(e,"GlobalCoordinates",(function(){return Z})),n.d(e,"vec",(function(){return X})),n.d(e,"StrategyContainer",(function(){return Un})),n.d(e,"Axis",(function(){return _n})),n.d(e,"LockCameraToActorStrategy",(function(){return Qn})),n.d(e,"LockCameraToActorAxisStrategy",(function(){return Gn})),n.d(e,"ElasticToActorStrategy",(function(){return Zn})),n.d(e,"RadiusAroundActorStrategy",(function(){return Xn})),n.d(e,"LimitCameraBoundsStrategy",(function(){return Kn})),n.d(e,"Camera",(function(){return Yn})),n.d(e,"Class",(function(){return Jt})),n.d(e,"Configurable",(function(){return fe})),n.d(e,"Debug",(function(){return xr})),n.d(e,"FrameStats",(function(){return Pr})),n.d(e,"PhysicsStats",(function(){return Er})),n.d(e,"EventDispatcher",(function(){return $t})),n.d(e,"MediaEvent",(function(){return ui})),n.d(e,"NativeSoundEvent",(function(){return ci})),n.d(e,"NativeSoundProcessedEvent",(function(){return hi})),n.d(e,"EventTypes",(function(){return rt})),n.d(e,"GameEvent",(function(){return st})),n.d(e,"KillEvent",(function(){return lt})),n.d(e,"PreKillEvent",(function(){return ut})),n.d(e,"PostKillEvent",(function(){return ct})),n.d(e,"GameStartEvent",(function(){return ht})),n.d(e,"GameStopEvent",(function(){return ft})),n.d(e,"PreDrawEvent",(function(){return pt})),n.d(e,"PostDrawEvent",(function(){return dt})),n.d(e,"PreDebugDrawEvent",(function(){return gt})),n.d(e,"PostDebugDrawEvent",(function(){return yt})),n.d(e,"PreUpdateEvent",(function(){return _t})),n.d(e,"PostUpdateEvent",(function(){return mt})),n.d(e,"PreFrameEvent",(function(){return vt})),n.d(e,"PostFrameEvent",(function(){return bt})),n.d(e,"GamepadConnectEvent",(function(){return wt})),n.d(e,"GamepadDisconnectEvent",(function(){return xt})),n.d(e,"GamepadButtonEvent",(function(){return Pt})),n.d(e,"GamepadAxisEvent",(function(){return Et})),n.d(e,"SubscribeEvent",(function(){return St})),n.d(e,"UnsubscribeEvent",(function(){return kt})),n.d(e,"VisibleEvent",(function(){return At})),n.d(e,"HiddenEvent",(function(){return Ct})),n.d(e,"PreCollisionEvent",(function(){return Tt})),n.d(e,"PostCollisionEvent",(function(){return Ot})),n.d(e,"CollisionStartEvent",(function(){return Mt})),n.d(e,"CollisionEndEvent",(function(){return Bt})),n.d(e,"InitializeEvent",(function(){return Dt})),n.d(e,"ActivateEvent",(function(){return Rt})),n.d(e,"DeactivateEvent",(function(){return jt})),n.d(e,"ExitViewPortEvent",(function(){return zt})),n.d(e,"EnterViewPortEvent",(function(){return Ft})),n.d(e,"EnterTriggerEvent",(function(){return It})),n.d(e,"ExitTriggerEvent",(function(){return Lt})),n.d(e,"Label",(function(){return Jn})),n.d(e,"FontStyle",(function(){return qn})),n.d(e,"FontUnit",(function(){return Hn})),n.d(e,"TextAlign",(function(){return Wn})),n.d(e,"BaseAlign",(function(){return Vn})),n.d(e,"Loader",(function(){return Mn})),n.d(e,"Particle",(function(){return pi})),n.d(e,"ParticleEmitter",(function(){return di})),n.d(e,"EmitterType",(function(){return oi})),n.d(e,"CollisionResolutionStrategy",(function(){return K})),n.d(e,"BroadphaseStrategy",(function(){return Y})),n.d(e,"Integrator",(function(){return $})),n.d(e,"Physics",(function(){return it})),n.d(e,"PromiseState",(function(){return u})),n.d(e,"Promise",(function(){return p})),n.d(e,"Scene",(function(){return mr})),n.d(e,"TileMap",(function(){return En})),n.d(e,"Cell",(function(){return kn})),n.d(e,"TileSprite",(function(){return Sn})),n.d(e,"Timer",(function(){return xn})),n.d(e,"Trigger",(function(){return nr})),n.d(e,"ScreenElement",(function(){return bn})),n.d(e,"UIActor",(function(){return wn})),n.d(e,"ActionContext",(function(){return Ue})),n.d(e,"RotationType",(function(){return pe})),n.d(e,"Actions",(function(){return o})),n.d(e,"Internal",(function(){return gi})),n.d(e,"Body",(function(){return We})),n.d(e,"isCollider",(function(){return en})),n.d(e,"Collider",(function(){return nn})),n.d(e,"BoundingBox",(function(){return Zt})),n.d(e,"Circle",(function(){return qt})),n.d(e,"CollisionContact",(function(){return Nt})),n.d(e,"CollisionJumpTable",(function(){return Ut})),n.d(e,"ClosestLine",(function(){return Ht})),n.d(e,"ClosestLineJumpTable",(function(){return Vt})),n.d(e,"CollisionGroup",(function(){return Je})),n.d(e,"CollisionGroupManager",(function(){return yi})),n.d(e,"TreeNode",(function(){return Rn})),n.d(e,"DynamicTree",(function(){return jn})),n.d(e,"DynamicTreeCollisionBroadphase",(function(){return zn})),n.d(e,"Edge",(function(){return Qt})),n.d(e,"Pair",(function(){return tn})),n.d(e,"ConvexPolygon",(function(){return Gt})),n.d(e,"Side",(function(){return f})),n.d(e,"Shape",(function(){return He})),n.d(e,"Animation",(function(){return we})),n.d(e,"Color",(function(){return tt})),n.d(e,"Polygon",(function(){return mi})),n.d(e,"Sprite",(function(){return ye})),n.d(e,"SpriteSheet",(function(){return bi})),n.d(e,"SpriteFont",(function(){return wi})),n.d(e,"Effects",(function(){return i})),n.d(e,"ExResponse",(function(){return xi})),n.d(e,"has_initialize",(function(){return Pi})),n.d(e,"hasOnInitialize",(function(){return Ei})),n.d(e,"has_preupdate",(function(){return Si})),n.d(e,"hasOnPreUpdate",(function(){return ki})),n.d(e,"has_postupdate",(function(){return Ai})),n.d(e,"hasOnPostUpdate",(function(){return Ci})),n.d(e,"hasPreDraw",(function(){return Ti})),n.d(e,"hasPostDraw",(function(){return Oi})),n.d(e,"PerlinGenerator",(function(){return Di})),n.d(e,"PerlinDrawer2D",(function(){return Ri})),n.d(e,"Random",(function(){return d})),n.d(e,"ColorBlindness",(function(){return hr})),n.d(e,"ColorBlindCorrector",(function(){return br})),n.d(e,"Resource",(function(){return ee})),n.d(e,"Sound",(function(){return Ui})),n.d(e,"AudioContextFactory",(function(){return An})),n.d(e,"AudioInstanceFactory",(function(){return zi})),n.d(e,"AudioInstance",(function(){return Fi})),n.d(e,"WebAudioInstance",(function(){return Ii})),n.d(e,"Texture",(function(){return me})),n.d(e,"Gif",(function(){return Wi})),n.d(e,"Stream",(function(){return Qi})),n.d(e,"ParseGif",(function(){return Gi})),n.d(e,"Component",(function(){return on})),n.d(e,"TagComponent",(function(){return an})),n.d(e,"AddedComponent",(function(){return un})),n.d(e,"isAddedComponent",(function(){return cn})),n.d(e,"RemovedComponent",(function(){return hn})),n.d(e,"isRemovedComponent",(function(){return fn})),n.d(e,"Entity",(function(){return pn})),n.d(e,"EntityManager",(function(){return gr})),n.d(e,"Query",(function(){return pr})),n.d(e,"QueryManager",(function(){return dr})),n.d(e,"SystemType",(function(){return ir})),n.d(e,"System",(function(){return ar})),n.d(e,"AddedEntity",(function(){return sr})),n.d(e,"isAddedSystemEntity",(function(){return lr})),n.d(e,"RemovedEntity",(function(){return ur})),n.d(e,"isRemoveSystemEntity",(function(){return cr})),n.d(e,"SystemManager",(function(){return yr})),n.d(e,"Events",(function(){return r})),n.d(e,"Input",(function(){return s})),n.d(e,"Traits",(function(){return l})),n.d(e,"Util",(function(){return c})),n.d(e,"BrowserComponent",(function(){return ei})),n.d(e,"BrowserEvents",(function(){return ni})),n.d(e,"maxMessages",(function(){return L})),n.d(e,"resetObsoleteCounter",(function(){return U})),n.d(e,"obsolete",(function(){return W})),n.d(e,"Detector",(function(){return Dn})),n.d(e,"CullingBox",(function(){return qe})),n.d(e,"EasingFunctions",(function(){return Ne})),n.d(e,"LogLevel",(function(){return M})),n.d(e,"Logger",(function(){return R})),n.d(e,"ConsoleAppender",(function(){return j})),n.d(e,"ScreenAppender",(function(){return z})),n.d(e,"SortedList",(function(){return Fn})),n.d(e,"BinaryTreeNode",(function(){return In})),n.d(e,"MockedElement",(function(){return Ln}));var r={};n.r(r),n.d(r,"EventTypes",(function(){return rt})),n.d(r,"GameEvent",(function(){return st})),n.d(r,"KillEvent",(function(){return lt})),n.d(r,"PreKillEvent",(function(){return ut})),n.d(r,"PostKillEvent",(function(){return ct})),n.d(r,"GameStartEvent",(function(){return ht})),n.d(r,"GameStopEvent",(function(){return ft})),n.d(r,"PreDrawEvent",(function(){return pt})),n.d(r,"PostDrawEvent",(function(){return dt})),n.d(r,"PreDebugDrawEvent",(function(){return gt})),n.d(r,"PostDebugDrawEvent",(function(){return yt})),n.d(r,"PreUpdateEvent",(function(){return _t})),n.d(r,"PostUpdateEvent",(function(){return mt})),n.d(r,"PreFrameEvent",(function(){return vt})),n.d(r,"PostFrameEvent",(function(){return bt})),n.d(r,"GamepadConnectEvent",(function(){return wt})),n.d(r,"GamepadDisconnectEvent",(function(){return xt})),n.d(r,"GamepadButtonEvent",(function(){return Pt})),n.d(r,"GamepadAxisEvent",(function(){return Et})),n.d(r,"SubscribeEvent",(function(){return St})),n.d(r,"UnsubscribeEvent",(function(){return kt})),n.d(r,"VisibleEvent",(function(){return At})),n.d(r,"HiddenEvent",(function(){return Ct})),n.d(r,"PreCollisionEvent",(function(){return Tt})),n.d(r,"PostCollisionEvent",(function(){return Ot})),n.d(r,"CollisionStartEvent",(function(){return Mt})),n.d(r,"CollisionEndEvent",(function(){return Bt})),n.d(r,"InitializeEvent",(function(){return Dt})),n.d(r,"ActivateEvent",(function(){return Rt})),n.d(r,"DeactivateEvent",(function(){return jt})),n.d(r,"ExitViewPortEvent",(function(){return zt})),n.d(r,"EnterViewPortEvent",(function(){return Ft})),n.d(r,"EnterTriggerEvent",(function(){return It})),n.d(r,"ExitTriggerEvent",(function(){return Lt}));var i={};n.r(i),n.d(i,"Grayscale",(function(){return ne})),n.d(i,"Invert",(function(){return re})),n.d(i,"Opacity",(function(){return ie})),n.d(i,"Colorize",(function(){return oe})),n.d(i,"Lighten",(function(){return ae})),n.d(i,"Darken",(function(){return se})),n.d(i,"Saturate",(function(){return le})),n.d(i,"Desaturate",(function(){return ue})),n.d(i,"Fill",(function(){return ce}));var o={};n.r(o),n.d(o,"EaseTo",(function(){return Pe})),n.d(o,"MoveTo",(function(){return Ee})),n.d(o,"MoveBy",(function(){return Se})),n.d(o,"Follow",(function(){return ke})),n.d(o,"Meet",(function(){return Ae})),n.d(o,"RotateTo",(function(){return Ce})),n.d(o,"RotateBy",(function(){return Te})),n.d(o,"ScaleTo",(function(){return Oe})),n.d(o,"ScaleBy",(function(){return Me})),n.d(o,"Delay",(function(){return Be})),n.d(o,"Blink",(function(){return De})),n.d(o,"Fade",(function(){return Re})),n.d(o,"Die",(function(){return je})),n.d(o,"CallMethod",(function(){return ze})),n.d(o,"Repeat",(function(){return Fe})),n.d(o,"RepeatForever",(function(){return Ie})),n.d(o,"ActionQueue",(function(){return Le}));var a={};n.r(a),n.d(a,"line",(function(){return Ze})),n.d(a,"point",(function(){return Xe})),n.d(a,"vector",(function(){return Ke})),n.d(a,"roundRect",(function(){return Ye})),n.d(a,"circle",(function(){return $e}));var s={};n.r(s),n.d(s,"Gamepads",(function(){return $r})),n.d(s,"Gamepad",(function(){return Jr})),n.d(s,"Buttons",(function(){return Gr})),n.d(s,"Axes",(function(){return Zr})),n.d(s,"PointerType",(function(){return kr})),n.d(s,"PointerScope",(function(){return Ar})),n.d(s,"Pointer",(function(){return Rr})),n.d(s,"Pointers",(function(){return Kr})),n.d(s,"NativePointerButton",(function(){return Mr})),n.d(s,"PointerButton",(function(){return Br})),n.d(s,"WheelDeltaMode",(function(){return Dr})),n.d(s,"PointerEvent",(function(){return zr})),n.d(s,"PointerEventFactory",(function(){return Fr})),n.d(s,"PointerDragEvent",(function(){return Ir})),n.d(s,"PointerUpEvent",(function(){return Lr})),n.d(s,"PointerDownEvent",(function(){return Nr})),n.d(s,"PointerMoveEvent",(function(){return Ur})),n.d(s,"PointerEnterEvent",(function(){return Hr})),n.d(s,"PointerLeaveEvent",(function(){return Wr})),n.d(s,"PointerCancelEvent",(function(){return Vr})),n.d(s,"WheelEvent",(function(){return qr})),n.d(s,"createPointerEventByName",(function(){return Qr})),n.d(s,"Keys",(function(){return vr})),n.d(s,"KeyEvent",(function(){return Cr})),n.d(s,"Keyboard",(function(){return Tr}));var l={};n.r(l),n.d(l,"CapturePointer",(function(){return Ge})),n.d(l,"OffscreenCulling",(function(){return Qe})),n.d(l,"TileMapCollisionDetection",(function(){return Ve}));var u,c={};function h(){"undefined"==typeof window&&(window={audioContext:function(){}}),"undefined"==typeof window||window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setInterval(t,1e3/60)}),"undefined"==typeof window||window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(){}),"undefined"==typeof window||window.AudioContext||(window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext),"undefined"==typeof window||window.devicePixelRatio||(window.devicePixelRatio=window.devicePixelRatio||1)}n.r(c),n.d(c,"TwoPI",(function(){return g})),n.d(c,"extend",(function(){return y})),n.d(c,"base64Encode",(function(){return _})),n.d(c,"nullish",(function(){return m})),n.d(c,"clamp",(function(){return v})),n.d(c,"randomInRange",(function(){return b})),n.d(c,"randomIntInRange",(function(){return w})),n.d(c,"canonicalizeAngle",(function(){return x})),n.d(c,"toDegrees",(function(){return P})),n.d(c,"toRadians",(function(){return E})),n.d(c,"getPosition",(function(){return S})),n.d(c,"addItemToArray",(function(){return k})),n.d(c,"removeItemFromArray",(function(){return A})),n.d(c,"contains",(function(){return C})),n.d(c,"getOppositeSide",(function(){return T})),n.d(c,"getSideFromDirection",(function(){return O})),n.d(c,"Collection",(function(){return B})),n.d(c,"fail",(function(){return D})),n.d(c,"DrawUtil",(function(){return a})),n(73),n(134),function(t){t[t.Resolved=0]="Resolved",t[t.Rejected=1]="Rejected",t[t.Pending=2]="Pending"}(u||(u={}));var f,p=function(){function t(){this._state=u.Pending,this._successCallbacks=[],this._rejectCallback=function(){}}return t.resolve=function(e){return(new t).resolve(e)},t.reject=function(e){return(new t).reject(e)},t.join=function(){var e=[];if(arguments.length>0&&!Array.isArray(arguments[0]))for(var n=0;n<arguments.length;n++)e[n-0]=arguments[n];else 1===arguments.length&&Array.isArray(arguments[0])&&(e=arguments[0]);var r=new t;if(!e||!e.length)return r.resolve();var i=e.length,o=0,a=0,s=[];return e.forEach((function(t){t.then((function(){(o+=1)===i?r.resolve():o+a+s.length===i&&r.reject(s)}),(function(){o+(a+=1)+s.length===i&&r.reject(s)})).error((function(t){s.push(t),s.length+o+a===i&&r.reject(s)}))})),r},t.prototype.then=function(t,e){if(t&&(this._successCallbacks.push(t),this.state()===u.Resolved))try{t.call(this,this._value)}catch(t){this._handleError(t)}if(e&&(this._rejectCallback=e,this.state()===u.Rejected))try{e.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.error=function(t){return t&&(this._errorCallback=t),this},t.prototype.resolve=function(t){var e=this;if(this._state!==u.Pending)throw new Error("Cannot resolve a promise that is not in a pending state!");this._value=t;try{this._state=u.Resolved,this._successCallbacks.forEach((function(t){t.call(e,e._value)}))}catch(t){this._handleError(t)}return this},t.prototype.reject=function(t){if(this._state!==u.Pending)throw new Error("Cannot reject a promise that is not in a pending state!");this._value=t;try{this._state=u.Rejected,this._rejectCallback.call(this,this._value)}catch(t){this._handleError(t)}return this},t.prototype.state=function(){return this._state},t.prototype._handleError=function(t){if(!this._errorCallback)throw t;this._errorCallback.call(this,t)},t}(),d=function(){function t(t){this.seed=t,this._lowerMask=2147483647,this._upperMask=2147483648,this._w=32,this._n=624,this._m=397,this._a=2567483615,this._u=11,this._s=7,this._b=2636928640,this._t=15,this._c=4022730752,this._l=18,this._f=1812433253,this._mt=new Array(this._n),this._mt[0]=(t||Date.now())>>>0;for(var e=1;e<this._n;e++){var n=this._mt[e-1]^this._mt[e-1]>>>this._w-2;this._mt[e]=(this._f*((4294901760&n)>>>16)<<16)+this._f*(65535&n)+e>>>0}this._index=this._n}return t.prototype._twist=function(){for(var t=[0,this._a],e=0,n=0;n<this._n-this._m;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+this._m]^e>>>1^4294967295&t[1&e];for(;n<this._n-1;n++)e=this._mt[n]&this._upperMask|this._mt[n+1]&this._lowerMask,this._mt[n]=this._mt[n+(this._m-this._n)]^e>>>1^4294967295&t[1&e];e=this._mt[this._n-1]&this._upperMask|this._mt[0]&this._lowerMask,this._mt[this._n-1]=this._mt[this._m-1]^e>>>1^4294967295&t[1&e],this._index=0},t.prototype.nextInt=function(){this._index>=this._n&&this._twist();var t=this._mt[this._index++];return t^=t>>>this._u,t^=t<<this._s&this._b,t^=t<<this._t&this._c,(t^=t>>>this._l)>>>0},t.prototype.next=function(){return this.nextInt()*(1/4294967296)},t.prototype.floating=function(t,e){return(e-t)*this.next()+t},t.prototype.integer=function(t,e){return Math.floor((e-t+1)*this.next()+t)},t.prototype.bool=function(t){return void 0===t&&(t=.5),this.next()<=t},t.prototype.pickOne=function(t){return t[this.integer(0,t.length-1)]},t.prototype.pickSet=function(t,e,n){return void 0===n&&(n=!1),n?this._pickSetWithDuplicates(t,e):this._pickSetWithoutDuplicates(t,e)},t.prototype._pickSetWithoutDuplicates=function(t,e){if(e>t.length||e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 < n <= length");if(e===t.length)return t;for(var n=new Array(e),r=0,i=t.slice(0);r<e;){var o=this.integer(0,i.length-1);n[r++]=i[o],i.splice(o,1)}return n},t.prototype._pickSetWithDuplicates=function(t,e){if(e<0)throw new Error("Invalid number of elements to pick, must pick a value 0 <= n < MAX_INT");for(var n=new Array(e),r=0;r<e;r++)n[r]=this.pickOne(t);return n},t.prototype.shuffle=function(t){for(var e=t.slice(0),n=null,r=0;r<e.length-2;r++){var i=this.integer(r,e.length-1);n=e[r],e[r]=e[i],e[i]=n}return e},t.prototype.range=function(t,e,n){for(var r=new Array(t),i=0;i<t;i++)r[i]=this.integer(e,n);return r},t.prototype.d4=function(){return this.integer(1,4)},t.prototype.d6=function(){return this.integer(1,6)},t.prototype.d8=function(){return this.integer(1,8)},t.prototype.d10=function(){return this.integer(1,10)},t.prototype.d12=function(){return this.integer(1,12)},t.prototype.d20=function(){return this.integer(1,20)},t}();!function(t){t.None="None",t.Top="Top",t.Bottom="Bottom",t.Left="Left",t.Right="Right"}(f||(f={}));var g=2*Math.PI;function y(){var t={},e=!1,n=0,r=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],n++);var i="function"==typeof Object.assign,o=null;for(o=i?Object.assign:function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e&&"[object Object]"===Object.prototype.toString.call(n[r])?t[r]=y(!0,t[r],n[r]):t[r]=n[r])};n<r;n++){var a=arguments[n];i?o(t,a):o(a)}return t}function _(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r=0;r<t.length;){var i=255&t.charCodeAt(r++),o=255&t.charCodeAt(r++),a=255&t.charCodeAt(r++),s=i>>2,l=(3&i)<<4|o>>4,u=void 0,c=void 0;isNaN(o)?u=c=64:(u=(15&o)<<2|a>>6,c=isNaN(a)?64:63&a),n+=e.charAt(s)+e.charAt(l)+e.charAt(u)+e.charAt(c)}return n}function m(t,e){return null!=t?t:e}function v(t,e,n){return Math.min(Math.max(e,t),n)}function b(t,e,n){return void 0===n&&(n=new d),n?n.floating(t,e):t+Math.random()*(e-t)}function w(t,e,n){return void 0===n&&(n=new d),n?n.integer(t,e):Math.round(b(t,e))}function x(t){var e=t;if(t>g)for(;e>g;)e-=g;if(t<0)for(;e<0;)e+=g;return e}function P(t){return 180/Math.PI*t}function E(t){return t/180*Math.PI}function S(t){var e=0,n=0;return function t(n){e+=n.offsetLeft,n.offsetParent&&t(n.offsetParent)}(t),function t(e){n+=e.offsetTop,e.offsetParent&&t(e.offsetParent)}(t),new V(e,n)}function k(t,e){return-1===e.indexOf(t)&&(e.push(t),!0)}function A(t,e){var n;return(n=e.indexOf(t))>-1&&(e.splice(n,1),!0)}function C(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function T(t){return t===f.Top?f.Bottom:t===f.Bottom?f.Top:t===f.Left?f.Right:t===f.Right?f.Left:f.None}function O(t){for(var e=[V.Left,V.Right,V.Up,V.Down],n=[f.Left,f.Right,f.Top,f.Bottom],r=-Number.MAX_VALUE,i=-1,o=0;o<e.length;o++)e[o].dot(t)>r&&(r=e[o].dot(t),i=o);return n[i]}var M,B=function(){function t(e){void 0===e&&(e=t.DefaultSize),this._internalArray=null,this._endPointer=0,this._internalArray=new Array(e)}return t.prototype._resize=function(){for(var t=2*this._internalArray.length,e=new Array(t),n=this.count(),r=0;r<n;r++)e[r]=this._internalArray[r];delete this._internalArray,this._internalArray=e},t.prototype.push=function(t){return this._endPointer===this._internalArray.length&&this._resize(),this._internalArray[this._endPointer++]=t},t.prototype.pop=function(){return this._endPointer=this._endPointer-1<0?0:this._endPointer-1,this._internalArray[this._endPointer]},t.prototype.count=function(){return this._endPointer},t.prototype.clear=function(){this._endPointer=0},t.prototype.internalSize=function(){return this._internalArray.length},t.prototype.elementAt=function(t){if(t>=this.count())throw new Error("Invalid index "+t);return this._internalArray[t]},t.prototype.insert=function(t,e){return t>=this.count()&&this._resize(),this._internalArray[t]=e},t.prototype.remove=function(t){var e=this.count();if(0===e)throw new Error("Invalid parameter "+t);for(var n=this._internalArray[t],r=t;r<e;r++)this._internalArray[r]=this._internalArray[r+1];return this._endPointer--,n},t.prototype.removeElement=function(t){var e=this._internalArray.indexOf(t);this.remove(e)},t.prototype.toArray=function(){return this._internalArray.slice(0,this._endPointer)},t.prototype.forEach=function(t){for(var e=0,n=this.count();e<n;e++)t.call(this,this._internalArray[e],e)},t.prototype.map=function(t){for(var e=this.count(),n=0;n<e;n++)this._internalArray[n]=t.call(this,this._internalArray[n],n)},t.DefaultSize=200,t}();function D(t){throw new Error(t)}!function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Fatal=4]="Fatal"}(M||(M={}));var R=function(){function t(){if(this._appenders=[],this.defaultLevel=M.Info,t._instance)throw new Error("Logger is a singleton");return t._instance=this,t._instance.addAppender(new j),t._instance}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.addAppender=function(t){this._appenders.push(t)},t.prototype.clearAppenders=function(){this._appenders.length=0},t.prototype._log=function(t,e){null==t&&(t=this.defaultLevel);for(var n=this._appenders.length,r=0;r<n;r++)t>=this.defaultLevel&&this._appenders[r].log(t,e)},t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Debug,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Info,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Warn,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Error,t)},t.prototype.fatal=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log(M.Fatal,t)},t._instance=null,t}(),j=function(){function t(){}return t.prototype.log=function(t,e){if(console||console.log||!console.warn||!console.error){var n=[];n.unshift.apply(n,e),n.unshift("["+M[t]+"] : "),t<M.Warn?console.log.apply?console.log.apply(console,n):console.log(n.join(" ")):t<M.Error?console.warn.apply?console.warn.apply(console,n):console.warn(n.join(" ")):console.error.apply?console.error.apply(console,n):console.error(n.join(" "))}},t}(),z=function(){function t(t,e){this._messages=[],this._canvas=document.createElement("canvas"),this._canvas.width=t||window.innerWidth,this._canvas.height=e||window.innerHeight,this._canvas.style.position="absolute",this._ctx=this._canvas.getContext("2d"),document.body.appendChild(this._canvas)}return t.prototype.log=function(t,e){var n=e.join(",");this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._messages.unshift("["+M[t]+"] : "+n);for(var r=10,i=1,o=0;o<this._messages.length;o++)this._ctx.fillStyle="rgba(255,255,255,"+i.toFixed(2)+")",this._ctx.fillText(this._messages[o],200,r),r+=10,i=i>0?i-.05:0},t}(),F=function(){return(F=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},I=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},L=5,N={},U=function(){for(var t in N)N[t]=0},H=function(t,e){N[t]<L&&(R.getInstance().warn(t),console.trace&&e.showStackTrace&&console.trace()),N[t]++};function W(t){return t=y({},{message:"This feature will be removed in future versions of Excalibur.",alternateMethod:null,showStackTrack:!1},t),function(e,n,r){if(r&&"function"!=typeof r.value&&"function"!=typeof r.get&&"function"!=typeof r.set)throw new SyntaxError("Only classes/functions/getters/setters can be marked as obsolete");var i=(e.name||"")+(e.name&&n?".":"")+(n||"")+" is marked obsolete: "+t.message+(t.alternateMethod?" Use "+t.alternateMethod+" instead":"");N[i]||(N[i]=0);var o=r?F({},r):e;if(!r){var a=function(){var e=Array.prototype.slice.call(arguments);return H(i,t),new(o.bind.apply(o,I([void 0],e)))};return a.prototype=o.prototype,a}return r&&r.value?(o.value=function(){return H(i,t),r.value.apply(this,arguments)},o):(r&&r.get&&(o.get=function(){return H(i,t),r.get.apply(this,arguments)}),r&&r.set&&(o.set=function(){return H(i,t),r.set.apply(this,arguments)}),o)}}var V=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t,"Zero",{get:function(){return new t(0,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"One",{get:function(){return new t(1,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Half",{get:function(){return new t(.5,.5)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Up",{get:function(){return new t(0,-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Down",{get:function(){return new t(0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Left",{get:function(){return new t(-1,0)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Right",{get:function(){return new t(1,0)},enumerable:!1,configurable:!0}),t.fromAngle=function(e){return new t(Math.cos(e),Math.sin(e))},t.isValid=function(t){return null!=t&&!isNaN(t.x)&&!isNaN(t.y)&&t.x!==1/0&&t.y!==1/0&&t.x!==-1/0&&t.y!==-1/0},t.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.setTo=function(t,e){this.x=t,this.y=e},t.prototype.equals=function(t,e){return void 0===e&&(e=.001),Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e},t.prototype.distance=function(e){return e||(e=t.Zero),Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},t.prototype.magnitude=function(){return this.distance()},Object.defineProperty(t.prototype,"size",{get:function(){return this.distance()},set:function(t){var e=this.normalize().scale(t);this.x=e.x,this.y=e.y},enumerable:!1,configurable:!0}),t.prototype.normalize=function(){var e=this.distance();return e>0?new t(this.x/e,this.y/e):new t(0,1)},t.prototype.average=function(t){return this.add(t).scale(.5)},t.prototype.scale=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y):new t(this.x*e,this.y*e)},t.prototype.add=function(e){return new t(this.x+e.x,this.y+e.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.addEqual=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.subEqual=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scaleEqual=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(e){return e instanceof t?this.x*e.y-this.y*e.x:"number"==typeof e?new t(e*this.y,-e*this.x):void 0},t.prototype.perpendicular=function(){return new t(this.y,-this.x)},t.prototype.normal=function(){return this.perpendicular().normalize()},t.prototype.negate=function(){return this.scale(-1)},t.prototype.toAngle=function(){return Math.atan2(this.y,this.x)},t.prototype.rotate=function(e,n){n||(n=new t(0,0));var r=Math.sin(e),i=Math.cos(e);return new t(i*(this.x-n.x)-r*(this.y-n.y)+n.x,r*(this.x-n.x)+i*(this.y-n.y)+n.y)},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([W({message:"will be removed in favour of `.size` in version 0.25.0"})],t.prototype,"magnitude",null),t}(),q=function(){function t(t,e){this.pos=t,this.dir=e.normalize()}return t.prototype.intersect=function(t){var e=t.begin.sub(this.pos);if(0===this.dir.cross(t.getSlope())&&0!==e.cross(this.dir))return-1;var n=this.dir.cross(t.getSlope());if(0===n)return-1;var r=e.cross(t.getSlope())/n;if(r>=0){var i=e.cross(this.dir)/n/t.getLength();if(i>=0&&i<=1)return r}return-1},t.prototype.getPoint=function(t){return this.pos.add(this.dir.scale(t))},t}(),Q=function(){function t(t,e){this.begin=t,this.end=e}return Object.defineProperty(t.prototype,"slope",{get:function(){return(this.end.y-this.begin.y)/(this.end.x-this.begin.x)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intercept",{get:function(){return this.begin.y-this.slope*this.begin.x},enumerable:!1,configurable:!0}),t.prototype.normal=function(){return this.end.sub(this.begin).normal()},t.prototype.getSlope=function(){var t=this.begin,e=this.end,n=t.distance(e);return e.sub(t).scale(1/n)},t.prototype.getEdge=function(){var t=this.begin;return this.end.sub(t)},t.prototype.getLength=function(){var t=this.begin,e=this.end;return t.distance(e)},Object.defineProperty(t.prototype,"midpoint",{get:function(){return this.begin.add(this.end).scale(.5)},enumerable:!1,configurable:!0}),t.prototype.flip=function(){return new t(this.end,this.begin)},t.prototype.distanceToPoint=function(t){var e=t.x,n=t.y,r=this.getLength(),i=this.end.y-this.begin.y,o=this.end.x-this.begin.x;return Math.abs(i*e-o*n+this.end.x*this.begin.y-this.end.y*this.begin.x)/r},t.prototype.findVectorToPoint=function(t){var e=this.begin.sub(t),n=this.getSlope();return e.sub(n.scale(e.dot(n)))},t.prototype.findPoint=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.slope,r=this.intercept;if(null!==t)return new V(t,n*t+r);if(null!==e)return new V((e-r)/n,e);throw new Error("You must provide an X or a Y value")},t.prototype.hasPoint=function(){var t,e=0;if("number"==typeof arguments[0]&&"number"==typeof arguments[1])t=new V(arguments[0],arguments[1]),e=arguments[2]||0;else{if(!(arguments[0]instanceof V))throw"Could not determine the arguments for Vector.hasPoint";t=arguments[0],e=arguments[1]||0}var n=t.x-this.begin.x,r=t.y-this.begin.y,i=this.end.x-this.begin.x,o=this.end.y-this.begin.y,a=n*o-r*i;return!(Math.abs(a)>e)&&(Math.abs(i)>=Math.abs(o)?i>0?this.begin.x<=t.x&&t.x<=this.end.x:this.end.x<=t.x&&t.x<=this.begin.x:o>0?this.begin.y<=t.y&&t.y<=this.end.y:this.end.y<=t.y&&t.y<=this.begin.y)},t}(),G=function(){function t(t,e){this.min=t,this.max=e}return t.prototype.overlaps=function(t){return this.max>t.min&&t.max>this.min},t.prototype.getOverlap=function(t){return this.overlaps(t)?this.max>t.max?t.max-this.min:this.max-t.min:0},t}(),Z=function(){function t(t,e,n){this.worldPos=t,this.pagePos=e,this.screenPos=n}return t.fromPagePosition=function(e,n,r){var i,o,a,s;3===arguments.length?(a=new V(i=e,o=n),s=r):(i=(a=e).x,o=a.y,s=n);var l=i-S(s.canvas).x,u=o-S(s.canvas).y,c=new V(l,u),h=s.screenToWorldCoordinates(c);return new t(h,a,c)},t}();function X(t,e){return new V(t,e)}var K,Y,$,J=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},tt=function(){function t(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=null!=r?r:1}return t.fromRGB=function(e,n,r,i){return new t(e,n,r,i)},t.fromHex=function(e){var n;if(n=e.match(/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i)){var r=parseInt(n[1],16),i=parseInt(n[2],16),o=parseInt(n[3],16),a=1;return n[4]&&(a=parseInt(n[4],16)/255),new t(r,i,o,a)}throw new Error("Invalid hex string: "+e)},t.fromHSL=function(t,e,n,r){return void 0===r&&(r=1),new et(t,e,n,r).toRGBA()},t.prototype.lighten=function(t){void 0===t&&(t=.1);var e=et.fromRGBA(this.r,this.g,this.b,this.a);return e.l+=(1-e.l)*t,e.toRGBA()},t.prototype.darken=function(t){void 0===t&&(t=.1);var e=et.fromRGBA(this.r,this.g,this.b,this.a);return e.l-=e.l*t,e.toRGBA()},t.prototype.saturate=function(t){void 0===t&&(t=.1);var e=et.fromRGBA(this.r,this.g,this.b,this.a);return e.s+=e.s*t,e.toRGBA()},t.prototype.desaturate=function(t){void 0===t&&(t=.1);var e=et.fromRGBA(this.r,this.g,this.b,this.a);return e.s-=e.s*t,e.toRGBA()},t.prototype.multiply=function(e){return new t(e.r/255*this.r/255*255,e.g/255*this.g/255*255,e.b/255*this.b/255*255,e.a*this.a)},t.prototype.mulitiply=function(t){return this.multiply(t)},t.prototype.screen=function(t){var e=t.invert(),n=t.invert();return e.multiply(n).invert()},t.prototype.invert=function(){return new t(255-this.r,255-this.g,255-this.b,1-this.a)},t.prototype.average=function(e){return new t((e.r+this.r)/2,(e.g+this.g)/2,(e.b+this.b)/2,(e.a+this.a)/2)},t.prototype.toString=function(t){switch(void 0===t&&(t="rgb"),t){case"rgb":return this.toRGBA();case"hsl":return this.toHSLA();case"hex":return this.toHex();default:throw new Error("Invalid Color format")}},t.prototype._componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+this._componentToHex(this.r)+this._componentToHex(this.g)+this._componentToHex(this.b)},t.prototype.toRGBA=function(){var t=String(this.r.toFixed(0))+", "+String(this.g.toFixed(0))+", "+String(this.b.toFixed(0));return void 0!==this.a||null!==this.a?"rgba("+t+", "+String(this.a)+")":"rgb("+t+")"},t.prototype.toHSLA=function(){return et.fromRGBA(this.r,this.g,this.b,this.a).toString()},t.prototype.fillStyle=function(){return this.toString()},t.prototype.clone=function(){return new t(this.r,this.g,this.b,this.a)},Object.defineProperty(t,"Black",{get:function(){return t.fromHex("#000000")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"White",{get:function(){return t.fromHex("#FFFFFF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Gray",{get:function(){return t.fromHex("#808080")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LightGray",{get:function(){return t.fromHex("#D3D3D3")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DarkGray",{get:function(){return t.fromHex("#A9A9A9")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Yellow",{get:function(){return t.fromHex("#FFFF00")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Orange",{get:function(){return t.fromHex("#FFA500")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Red",{get:function(){return t.fromHex("#FF0000")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Vermilion",{get:function(){return t.fromHex("#FF5B31")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Vermillion",{get:function(){return t.Vermilion},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Rose",{get:function(){return t.fromHex("#FF007F")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Magenta",{get:function(){return t.fromHex("#FF00FF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Violet",{get:function(){return t.fromHex("#7F00FF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Blue",{get:function(){return t.fromHex("#0000FF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Azure",{get:function(){return t.fromHex("#007FFF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Cyan",{get:function(){return t.fromHex("#00FFFF")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Viridian",{get:function(){return t.fromHex("#59978F")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Green",{get:function(){return t.fromHex("#00FF00")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Chartreuse",{get:function(){return t.fromHex("#7FFF00")},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Transparent",{get:function(){return t.fromHex("#FFFFFF00")},enumerable:!1,configurable:!0}),J([W({message:"Alias for incorrect spelling used in older versions, use multiply instead, will be removed in v0.25.0"})],t.prototype,"mulitiply",null),J([W({message:"Alias for incorrect spelling used in older versions",alternateMethod:"Vermilion"})],t,"Vermillion",null),t}(),et=function(){function t(t,e,n,r){this.h=t,this.s=e,this.l=n,this.a=r}return t.hue2rgb=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t.fromRGBA=function(e,n,r,i){e/=255,n/=255,r/=255;var o,a,s=Math.max(e,n,r),l=Math.min(e,n,r),u=(s+l)/2;if(s===l)o=a=0;else{var c=s-l;switch(a=u>.5?c/(2-s-l):c/(s+l),s){case e:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-e)/c+2;break;case r:o=(e-n)/c+4}o/=6}return new t(o,a,u,i)},t.prototype.toRGBA=function(){var e,n,r;if(0===this.s)e=n=r=this.l;else{var i=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,o=2*this.l-i;e=t.hue2rgb(o,i,this.h+1/3),n=t.hue2rgb(o,i,this.h),r=t.hue2rgb(o,i,this.h-1/3)}return new tt(255*e,255*n,255*r,this.a)},t.prototype.toString=function(){return"hsla("+this.h.toFixed(0)+", "+this.s.toFixed(0)+", "+this.l.toFixed(0)+", "+this.a.toFixed(0)+")"},t}();!function(t){t[t.Box=0]="Box",t[t.RigidBody=1]="RigidBody"}(K||(K={})),function(t){t[t.Naive=0]="Naive",t[t.DynamicAABBTree=1]="DynamicAABBTree"}(Y||(Y={})),function(t){t[t.Euler=0]="Euler"}($||($={}));var nt,rt,it=function(){function t(){}return t.useBoxPhysics=function(){t.collisionResolutionStrategy=K.Box},t.useRigidBodyPhysics=function(){t.collisionResolutionStrategy=K.RigidBody},Object.defineProperty(t,"dynamicTreeVelocityMultiplyer",{get:function(){return t.dynamicTreeVelocityMultiplier},set:function(e){t.dynamicTreeVelocityMultiplier=e},enumerable:!1,configurable:!0}),t.acc=new V(0,0),t.enabled=!0,t.collisionPasses=5,t.broadphaseStrategy=Y.DynamicAABBTree,t.broadphaseDebug=!1,t.showCollisionNormals=!1,t.showMotionVectors=!1,t.showBounds=!1,t.showArea=!1,t.showContacts=!1,t.showNormals=!1,t.collisionResolutionStrategy=K.Box,t.defaultMass=10,t.integrator=$.Euler,t.integrationSteps=1,t.allowRigidBodyRotation=!0,t.collisionShift=.001,t.dynamicTreeVelocityMultiplier=2,t.boundsPadding=5,t.surfaceEpsilon=.1,t.checkForFastBodies=!0,t.disableMinimumSpeedForFastBody=!1,function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([W({message:"Alias for incorrect spelling used in older versions, will be removed in v0.25.0",alternateMethod:"dynamicTreeVelocityMultiplier"})],t,"dynamicTreeVelocityMultiplyer",null),t}(),ot=(nt=function(t,e){return(nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t.Kill="kill",t.PreKill="prekill",t.PostKill="postkill",t.PreDraw="predraw",t.PostDraw="postdraw",t.PreDebugDraw="predebugdraw",t.PostDebugDraw="postdebugdraw",t.PreUpdate="preupdate",t.PostUpdate="postupdate",t.PreFrame="preframe",t.PostFrame="postframe",t.PreCollision="precollision",t.CollisionStart="collisionstart",t.CollisionEnd="collisionend",t.PostCollision="postcollision",t.Initialize="initialize",t.Activate="activate",t.Deactivate="deactivate",t.ExitViewport="exitviewport",t.EnterViewport="enterviewport",t.ExitTrigger="exit",t.EnterTrigger="enter",t.Connect="connect",t.Disconnect="disconnect",t.Button="button",t.Axis="axis",t.Subscribe="subscribe",t.Unsubscribe="unsubscribe",t.Visible="visible",t.Hidden="hidden",t.Start="start",t.Stop="stop",t.PointerUp="pointerup",t.PointerDown="pointerdown",t.PointerMove="pointermove",t.PointerEnter="pointerenter",t.PointerLeave="pointerleave",t.PointerCancel="pointercancel",t.PointerWheel="pointerwheel",t.Up="up",t.Down="down",t.Move="move",t.Enter="enter",t.Leave="leave",t.Cancel="cancel",t.Wheel="wheel",t.Press="press",t.Release="release",t.Hold="hold",t.PointerDragStart="pointerdragstart",t.PointerDragEnd="pointerdragend",t.PointerDragEnter="pointerdragenter",t.PointerDragLeave="pointerdragleave",t.PointerDragMove="pointerdragmove"}(rt||(rt={}));var at,st=function(){function t(){this._bubbles=!0}return Object.defineProperty(t.prototype,"bubbles",{get:function(){return this._bubbles},set:function(t){this._bubbles=t},enumerable:!1,configurable:!0}),t.prototype.stopPropagation=function(){this.bubbles=!1},t}(),lt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),ut=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),ct=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),ht=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),ft=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),pt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ctx=e,i.delta=n,i.target=r,i}return ot(e,t),e}(st),dt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ctx=e,i.delta=n,i.target=r,i}return ot(e,t),e}(st),gt=function(t){function e(e,n){var r=t.call(this)||this;return r.ctx=e,r.target=n,r}return ot(e,t),e}(st),yt=function(t){function e(e,n){var r=t.call(this)||this;return r.ctx=e,r.target=n,r}return ot(e,t),e}(st),_t=function(t){function e(e,n,r){var i=t.call(this)||this;return i.engine=e,i.delta=n,i.target=r,i}return ot(e,t),e}(st),mt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.engine=e,i.delta=n,i.target=r,i}return ot(e,t),e}(st),vt=function(t){function e(e,n){var r=t.call(this)||this;return r.engine=e,r.prevStats=n,r.target=e,r}return ot(e,t),e}(st),bt=function(t){function e(e,n){var r=t.call(this)||this;return r.engine=e,r.stats=n,r.target=e,r}return ot(e,t),e}(st),wt=function(t){function e(e,n){var r=t.call(this)||this;return r.index=e,r.gamepad=n,r.target=n,r}return ot(e,t),e}(st),xt=function(t){function e(e,n){var r=t.call(this)||this;return r.index=e,r.gamepad=n,r.target=n,r}return ot(e,t),e}(st),Pt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.button=e,i.value=n,i.target=r,i}return ot(e,t),e}(st),Et=function(t){function e(e,n,r){var i=t.call(this)||this;return i.axis=e,i.value=n,i.target=r,i}return ot(e,t),e}(st),St=function(t){function e(e,n){var r=t.call(this)||this;return r.topic=e,r.handler=n,r}return ot(e,t),e}(st),kt=function(t){function e(e,n){var r=t.call(this)||this;return r.topic=e,r.handler=n,r}return ot(e,t),e}(st),At=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),Ct=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),Tt=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.other=n,o.side=r,o.intersection=i,o.target=e,o}return ot(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(st),Ot=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.other=n,o.side=r,o.intersection=i,o.target=e,o}return ot(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(st),Mt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.other=n,i.pair=r,i.target=e,i}return ot(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(st),Bt=function(t){function e(e,n){var r=t.call(this)||this;return r.other=n,r.target=e,r}return ot(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this.target},set:function(t){this.target=t},enumerable:!1,configurable:!0}),e}(st),Dt=function(t){function e(e,n){var r=t.call(this)||this;return r.engine=e,r.target=n,r}return ot(e,t),e}(st),Rt=function(t){function e(e,n){var r=t.call(this)||this;return r.oldScene=e,r.target=n,r}return ot(e,t),e}(st),jt=function(t){function e(e,n){var r=t.call(this)||this;return r.newScene=e,r.target=n,r}return ot(e,t),e}(st),zt=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),Ft=function(t){function e(e){var n=t.call(this)||this;return n.target=e,n}return ot(e,t),e}(st),It=function(t){function e(e,n){var r=t.call(this)||this;return r.target=e,r.actor=n,r}return ot(e,t),e}(st),Lt=function(t){function e(e,n){var r=t.call(this)||this;return r.target=e,r.actor=n,r}return ot(e,t),e}(st);!function(t){t.PreventCollision="PreventCollision",t.Passive="Passive",t.Active="Active",t.Fixed="Fixed"}(at||(at={}));var Nt=function(){function t(t,e,n,r,i){this.colliderA=t,this.colliderB=e,this.mtv=n,this.point=r,this.normal=i}return t.prototype.resolve=function(t){if(t===K.RigidBody)this._resolveRigidBodyCollision();else{if(t!==K.Box)throw new Error("Unknown collision resolution strategy");this._resolveBoxCollision()}},t.prototype._applyBoxImpulse=function(t,e,n){if(t.type===at.Active&&e.type!==at.Passive){t.type===at.Active&&e.type===at.Active&&(n=n.scale(.5)),t.body.pos.y+=n.y,t.body.pos.x+=n.x;var r=n.normalize();if(r.dot(t.body.vel)<0){var i=r.scale(r.dot(t.body.vel.negate()));t.body.vel=t.body.vel.add(i)}t.emit("postcollision",new Ot(t,e,O(n),n))}},t.prototype._resolveBoxCollision=function(){var t=O(this.mtv),e=this.mtv.negate();this.colliderA.emit("precollision",new Tt(this.colliderA,this.colliderB,t,e)),this.colliderB.emit("precollision",new Tt(this.colliderB,this.colliderA,T(t),e.negate())),this._applyBoxImpulse(this.colliderA,this.colliderB,e),this._applyBoxImpulse(this.colliderB,this.colliderA,e.negate())},t.prototype._resolveRigidBodyCollision=function(){var t=this.colliderA.body,e=this.colliderB.body,n=this.mtv,r=this.normal;if(t!==e){var i=O(this.mtv);if(this.colliderA.emit("precollision",new Tt(this.colliderA,this.colliderB,i,this.mtv)),this.colliderB.emit("precollision",new Tt(this.colliderB,this.colliderA,T(i),this.mtv.negate())),this.colliderA.type!==at.Passive&&this.colliderB.type!==at.Passive){var o=this.colliderA.type===at.Fixed?0:1/this.colliderA.mass,a=this.colliderB.type===at.Fixed?0:1/this.colliderB.mass,s=this.colliderA.type===at.Fixed?0:1/this.colliderA.inertia,l=this.colliderB.type===at.Fixed?0:1/this.colliderB.inertia,u=Math.min(this.colliderA.bounciness,this.colliderB.bounciness),c=Math.min(this.colliderA.friction,this.colliderB.friction),h=(r=r.normalize()).normal().normalize(),f=this.point.sub(this.colliderA.center),p=this.point.sub(this.colliderB.center),d=e.vel.add(p.cross(-e.rx)).sub(t.vel.sub(f.cross(t.rx))),g=d.dot(r),y=d.dot(h),_=f.dot(h),m=f.dot(r),v=p.dot(h),b=p.dot(r);if(!(g>0)){var w=-(1+u)*g/(o+a+s*_*_+l*v*v);if(this.colliderA.type===at.Fixed?(e.vel=e.vel.add(r.scale(w*a)),it.allowRigidBodyRotation&&(e.rx-=w*l*-p.cross(r)),e.addMtv(n)):this.colliderB.type===at.Fixed?(t.vel=t.vel.sub(r.scale(w*o)),it.allowRigidBodyRotation&&(t.rx+=w*s*-f.cross(r)),t.addMtv(n.negate())):(e.vel=e.vel.add(r.scale(w*a)),t.vel=t.vel.sub(r.scale(w*o)),it.allowRigidBodyRotation&&(e.rx-=w*l*-p.cross(r),t.rx+=w*s*-f.cross(r)),e.addMtv(n.scale(.5)),t.addMtv(n.scale(-.5))),c&&y){var x=d.sub(r.scale(d.dot(r))).normalize(),P=d.dot(x)/(o+a+m*m*s+b*b*l),E=new V(0,0);E=Math.abs(P)<=w*c?x.scale(P).negate():x.scale(-w*c),this.colliderA.type===at.Fixed?(e.vel=e.vel.add(E.scale(a)),it.allowRigidBodyRotation&&(e.rx+=E.dot(x)*l*p.cross(x))):this.colliderB.type===at.Fixed?(t.vel=t.vel.sub(E.scale(o)),it.allowRigidBodyRotation&&(t.rx-=E.dot(x)*s*f.cross(x))):(e.vel=e.vel.add(E.scale(a)),t.vel=t.vel.sub(E.scale(o)),it.allowRigidBodyRotation&&(e.rx+=E.dot(x)*l*p.cross(x),t.rx-=E.dot(x)*s*f.cross(x)))}this.colliderA.emit("postcollision",new Ot(this.colliderA,this.colliderB,i,this.mtv)),this.colliderB.emit("postcollision",new Ot(this.colliderB,this.colliderA,T(i),this.mtv.negate()))}}}},t}(),Ut={CollideCircleCircle:function(t,e){var n=t.radius+e.radius,r=t.worldPos,i=e.worldPos;if(r.distance(i)>n)return null;var o=i.sub(r).normalize(),a=o.scale(n-i.distance(r)),s=t.getFurthestPoint(o);return new Nt(t.collider,e.collider,a,s,o)},CollideCirclePolygon:function(t,e){var n=t.testSeparatingAxisTheorem(e);if(!n)return null;var r=n.dot(e.center.sub(t.center));n=r<0?n.negate():n;var i=[],o=e.getFurthestPoint(n.negate()),a=t.getFurthestPoint(n);return t.contains(o)&&i.push(o),e.contains(a)&&i.push(a),0===i.length?null:new Nt(t.collider,e.collider,n,2===i.length?i[0].average(i[1]):i[0],n.normalize())},CollideCircleEdge:function(t,e){var n=t.center,r=e.end.sub(e.begin),i=r.dot(e.end.sub(n)),o=r.dot(n.sub(e.begin));if(o<=0){var a=e.begin.sub(n),s=a.dot(a);return s>t.radius*t.radius?null:new Nt(t.collider,e.collider,a.normalize().scale(t.radius-Math.sqrt(s)),e.begin,a.normalize())}if(i<=0){var l=e.end.sub(n),u=l.dot(l);return u>t.radius*t.radius?null:new Nt(t.collider,e.collider,l.normalize().scale(t.radius-Math.sqrt(u)),e.end,l.normalize())}var c=r.dot(r),h=e.begin.scale(i).add(e.end.scale(o)).scale(1/c),f=n.sub(h),p=f.dot(f);if(p>t.radius*t.radius)return null;var d=r.perpendicular();d.dot(n.sub(e.begin))<0&&(d.x=-d.x,d.y=-d.y);var g=(d=d.normalize()).scale(Math.abs(t.radius-Math.sqrt(p)));return new Nt(t.collider,e.collider,g.negate(),h,d.negate())},CollideEdgeEdge:function(){return null},CollidePolygonEdge:function(t,e){var n=e.end.sub(e.begin).normal();if(t.contains(e.begin)){var r=t.getClosestFace(e.begin),i=r.distance,o=r.face;if(i)return new Nt(t.collider,e.collider,i.negate(),e.begin.add(i.negate()),o.normal().negate())}if(t.contains(e.end)){var a=t.getClosestFace(e.end);if(i=a.distance,o=a.face,i)return new Nt(t.collider,e.collider,i.negate(),e.end.add(i.negate()),o.normal().negate())}var s=t.center,l=e.center.sub(s).normalize(),u=new Gt({collider:e.collider,points:[e.begin,e.end,e.end.add(l.scale(30)),e.begin.add(l.scale(30))]}),c=t.testSeparatingAxisTheorem(u);return c?(n=n.dot(l)<0?n.negate():n,c=c.dot(l)<0?c.negate():c,new Nt(t.collider,e.collider,c,t.getFurthestPoint(n),n)):null},CollidePolygonPolygon:function(t,e){var n=t.testSeparatingAxisTheorem(e);if(!n)return null;var r=n.dot(e.center.sub(t.center));n=r<0?n.negate():n;var i=[],o=t.getFurthestPoint(n),a=e.getFurthestPoint(n.negate());e.contains(o)&&i.push(o),t.contains(a)&&i.push(a),0===i.length&&i.push(a);var s=2===i.length?i[0].add(i[1]).scale(.5):i[0];return new Nt(t.collider,e.collider,n,s,n.normalize())}};function Ht(t,e,n,r){var i=t.sub(n),o=e.dot(e),a=e.dot(r),s=r.dot(r),l=e.dot(i),u=r.dot(i),c=o*s-a*a,h=c,f=c;if(0===c||c<=.01){var p=l/a;return new Q(t,n.add(r.scale(p)))}var d=a*u-s*l,g=o*u-a*l;return d<0?(d=0,g=u,f=s):d>h&&(d=h,g=u+a,f=s),g<0?(g=0,-l<0?d=0:-l>o?d=h:(d=-l,h=o)):g>f&&(g=f,-l+a<0?d=0:-l+a>o?d=h:(d=-l+a,h=o)),d=Math.abs(d)<.001?0:d/h,g=Math.abs(g)<.001?0:g/f,new Q(t.add(e.scale(d)),n.add(r.scale(g)))}var Wt,Vt={PolygonPolygonClosestLine:function(t,e){var n=e.worldPos,r=n.sub(t.worldPos),i=r.negate(),o=new q(t.worldPos,r),a=new q(n,i),s=t.rayCast(o).add(o.dir.scale(.1)),l=e.rayCast(a).add(a.dir.scale(.1)),u=t.getClosestFace(s),c=e.getClosestFace(l);return Ht(u.face.begin,u.face.getEdge(),c.face.begin,c.face.getEdge())},PolygonEdgeClosestLine:function(t,e){var n=e.worldPos.sub(t.worldPos),r=new q(t.worldPos,n),i=t.rayCast(r).add(r.dir.scale(.1)),o=t.getClosestFace(i),a=o.face.begin,s=o.face.getEdge(),l=e.asLine();return Ht(a,s,l.begin,l.getEdge())},PolygonCircleClosestLine:function(t,e){var n=e.worldPos,r=n.sub(t.worldPos),i=new q(t.worldPos,r.normalize()),o=t.rayCast(i).add(i.dir.scale(.1)),a=t.getClosestFace(o),s=a.face.begin,l=a.face.getEdge(),u=(l.x*(n.x-s.x)+l.y*(n.y-s.y))/(l.x*l.x+l.y*l.y);u>1?u=1:u<0&&(u=0);var c=Math.sqrt(Math.pow(s.x+l.x*u-n.x,2)+Math.pow(s.y+l.y*u-n.y,2))-e.radius,h=(s.x+l.x*u-n.x)*e.radius/(e.radius+c),f=(s.y+l.y*u-n.y)*e.radius/(e.radius+c);return new Q(l.scale(u).add(s),new V(n.x+h,n.y+f))},CircleCircleClosestLine:function(t,e){var n=e.worldPos.sub(t.worldPos),r=t.worldPos.sub(e.worldPos),i=new q(t.worldPos,n),o=new q(e.worldPos,r),a=t.rayCast(i),s=e.rayCast(o);return new Q(a,s)},CircleEdgeClosestLine:function(t,e){var n=t.worldPos,r=e.asLine(),i=r.begin,o=r.getEdge(),a=(o.x*(n.x-i.x)+o.y*(n.y-i.y))/(o.x*o.x+o.y*o.y);a>1?a=1:a<0&&(a=0);var s=Math.sqrt(Math.pow(i.x+o.x*a-n.x,2)+Math.pow(i.y+o.y*a-n.y,2))-t.radius,l=(i.x+o.x*a-n.x)*t.radius/(t.radius+s),u=(i.y+o.y*a-n.y)*t.radius/(t.radius+s);return new Q(o.scale(a).add(i),new V(n.x+l,n.y+u))},EdgeEdgeClosestLine:function(t,e){var n=t.asLine(),r=n.begin,i=n.getEdge(),o=e.asLine();return Ht(r,i,o.begin,o.getEdge())}},qt=function(){function t(t){this.offset=V.Zero,this.offset=t.offset||V.Zero,this.radius=t.radius||0,this.collider=t.collider||null}return Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t({offset:this.offset.clone(),radius:this.radius,collider:null})},Object.defineProperty(t.prototype,"center",{get:function(){return this.collider&&this.collider.body?this.offset.add(this.collider.body.pos):this.offset},enumerable:!1,configurable:!0}),t.prototype.contains=function(t){var e=this.offset;return this.collider&&this.collider.body&&(e=this.collider.body.pos),e.distance(t)<=this.radius},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=this.center,r=t.dir,i=t.pos,o=Math.sqrt(Math.pow(r.dot(i.sub(n)),2)-Math.pow(i.sub(n).distance(),2)+Math.pow(this.radius,2));if(o<0)return null;var a=0;if(0===o)return(a=-r.dot(i.sub(n)))>0&&a<e?t.getPoint(a):null;var s=-r.dot(i.sub(n))+o,l=-r.dot(i.sub(n))-o,u=[];s>=0&&u.push(s),l>=0&&u.push(l);var c=Math.min.apply(Math,u);return c<=e?t.getPoint(c):null},t.prototype.getClosestLineBetween=function(e){if(e instanceof t)return Vt.CircleCircleClosestLine(this,e);if(e instanceof Gt)return Vt.PolygonCircleClosestLine(e,this).flip();if(e instanceof Qt)return Vt.CircleEdgeClosestLine(this,e).flip();throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof t)return Ut.CollideCircleCircle(this,e);if(e instanceof Gt)return Ut.CollideCirclePolygon(this,e);if(e instanceof Qt)return Ut.CollideCircleEdge(this,e);throw new Error("Circle could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){return this.center.add(t.normalize().scale(this.radius))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=V.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),new Zt(this.offset.x+t.x-this.radius,this.offset.y+t.y-this.radius,this.offset.x+t.x+this.radius,this.offset.y+t.y+this.radius)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return new Zt(this.offset.x-this.radius,this.offset.y-this.radius,this.offset.x+this.radius,this.offset.y+this.radius)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){return(this.collider?this.collider.mass:it.defaultMass)*this.radius*this.radius/2},enumerable:!1,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){var e=t.axes,n=t.center,r=t.getFurthestPoint(this.offset.sub(n));e.push(this.offset.sub(r).normalize());for(var i=Number.MAX_VALUE,o=null,a=-1,s=0;s<e.length;s++){var l=t.project(e[s]),u=this.project(e[s]),c=l.getOverlap(u);if(c<=0)return null;c<i&&(i=c,o=e[s],a=s)}return a<0?null:o.normalize().scale(i)},t.prototype.recalc=function(){},t.prototype.project=function(t){var e=[],n=this.center.dot(t);return e.push(n),e.push(n+this.radius),e.push(n-this.radius),new G(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,n){void 0===e&&(e=tt.Green),void 0===n&&(n=V.Zero);var r=n.add(this.offset);t.beginPath(),t.fillStyle=e.toString(),t.arc(r.x,r.y,this.radius,0,2*Math.PI),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=tt.Green);var n=this.collider.body,r=n?n.pos.add(this.offset):this.offset,i=n?n.rotation:0;t.beginPath(),t.strokeStyle=e.toString(),t.arc(r.x,r.y,this.radius,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(Math.cos(i)*this.radius+r.x,Math.sin(i)*this.radius+r.y),t.closePath(),t.stroke()},t}(),Qt=function(){function t(t){this.begin=t.begin||V.Zero,this.end=t.end||V.Zero,this.collider=t.collider||null,this.offset=this.center}return t.prototype.clone=function(){return new t({begin:this.begin.clone(),end:this.end.clone(),collider:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.begin.average(this.end).add(this._getBodyPos())},enumerable:!1,configurable:!0}),t.prototype._getBodyPos=function(){var t=V.Zero;return this.collider&&this.collider.body&&(t=this.collider.body.pos),t},t.prototype._getTransformedBegin=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.begin.rotate(e).add(this._getBodyPos())},t.prototype._getTransformedEnd=function(){var t=this.collider?this.collider.body:null,e=t?t.rotation:0;return this.end.rotate(e).add(this._getBodyPos())},t.prototype.getSlope=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd(),n=t.distance(e);return e.sub(t).scale(1/n)},t.prototype.getLength=function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return t.distance(e)},t.prototype.contains=function(){return!1},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=this._getTransformedBegin().sub(t.pos);if(0===t.dir.cross(this.getSlope())&&0!==n.cross(t.dir))return null;var r=t.dir.cross(this.getSlope());if(0===r)return null;var i=n.cross(this.getSlope())/r;if(i>=0&&i<=e){var o=n.cross(t.dir)/r/this.getLength();if(o>=0&&o<=1)return t.getPoint(i)}return null},t.prototype.getClosestLineBetween=function(e){if(e instanceof qt)return Vt.CircleEdgeClosestLine(e,this);if(e instanceof Gt)return Vt.PolygonEdgeClosestLine(e,this).flip();if(e instanceof t)return Vt.EdgeEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof qt)return Ut.CollideCircleEdge(e,this);if(e instanceof Gt)return Ut.CollidePolygonEdge(e,this);if(e instanceof t)return Ut.CollideEdgeEdge();throw new Error("Edge could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){var e=this._getTransformedBegin(),n=this._getTransformedEnd();return t.dot(e)>0?e:n},t.prototype._boundsFromBeginEnd=function(t,e){return new Zt(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y))},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this._getTransformedBegin(),e=this._getTransformedEnd();return this._boundsFromBeginEnd(t,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this._boundsFromBeginEnd(this.begin,this.end)},enumerable:!1,configurable:!0}),t.prototype.asLine=function(){return new Q(this._getTransformedBegin(),this._getTransformedEnd())},t.prototype.asLocalLine=function(){return new Q(this.begin,this.end)},Object.defineProperty(t.prototype,"axes",{get:function(){var t=this._getTransformedEnd().sub(this._getTransformedBegin()).normal(),e=[];return e.push(t),e.push(t.negate()),e.push(t.normal()),e.push(t.normal().negate()),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){var t=this.collider?this.collider.mass:it.defaultMass,e=this.end.sub(this.begin).distance()/2;return t*e*e},enumerable:!1,configurable:!0}),t.prototype.recalc=function(){},t.prototype.project=function(t){for(var e=[],n=[this._getTransformedBegin(),this._getTransformedEnd()],r=n.length,i=0;i<r;i++)e.push(n[i].dot(t));return new G(Math.min.apply(Math,e),Math.max.apply(Math,e))},t.prototype.draw=function(t,e,n){void 0===e&&(e=tt.Green),void 0===n&&(n=V.Zero);var r=this.begin.add(n),i=this.end.add(n);t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(i.x,i.y),t.closePath(),t.stroke()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=tt.Red);var n=this._getTransformedBegin(),r=this._getTransformedEnd();t.strokeStyle=e.toString(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(r.x,r.y),t.closePath(),t.stroke()},t}(),Gt=function(){function t(t){this._transformedPoints=[],this._axes=[],this._sides=[],this.offset=t.offset||V.Zero;var e=!!t.clockwiseWinding;this.points=(e?t.points.reverse():t.points)||[],this.collider=this.collider=t.collider||null,this._calculateTransformation()}return t.prototype.clone=function(){return new t({offset:this.offset.clone(),points:this.points.map((function(t){return t.clone()})),collider:null})},Object.defineProperty(t.prototype,"worldPos",{get:function(){return this.collider&&this.collider.body?this.collider.body.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){var t=this.collider?this.collider.body:null;return t?t.pos.add(this.offset):this.offset},enumerable:!1,configurable:!0}),t.prototype._calculateTransformation=function(){var t=this.collider?this.collider.body:null,e=t?t.pos.add(this.offset):this.offset,n=t?t.rotation:0,r=t?t.scale:V.One,i=this.points.length;this._transformedPoints.length=0;for(var o=0;o<i;o++)this._transformedPoints[o]=this.points[o].scale(r).rotate(n).add(e)},t.prototype.getTransformedPoints=function(){return this._transformedPoints.length&&(!this.collider||!this.collider.body||this.collider.body.oldPos.equals(this.collider.body.pos)&&this.collider.body.oldRotation===this.collider.body.rotation&&this.collider.body.oldScale===this.collider.body.scale)||this._calculateTransformation(),this._transformedPoints},t.prototype.getSides=function(){if(this._sides.length)return this._sides;for(var t=[],e=this.getTransformedPoints(),n=e.length,r=0;r<n;r++)t.push(new Q(e[r],e[(r-1+n)%n]));return this._sides=t,this._sides},t.prototype.recalc=function(){this._sides.length=0,this._axes.length=0,this._transformedPoints.length=0,this.getTransformedPoints(),this.getSides()},t.prototype.contains=function(t){var e=new q(t,new V(1,0));return this.getSides().reduce((function(t,n){return e.intersect(n)>=0?t+1:t}),0)%2!=0},t.prototype.getClosestLineBetween=function(e){if(e instanceof qt)return Vt.PolygonCircleClosestLine(this,e);if(e instanceof t)return Vt.PolygonPolygonClosestLine(this,e);if(e instanceof Qt)return Vt.PolygonEdgeClosestLine(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.collide=function(e){if(e instanceof qt)return Ut.CollideCirclePolygon(e,this);if(e instanceof t)return Ut.CollidePolygonPolygon(this,e);if(e instanceof Qt)return Ut.CollidePolygonEdge(this,e);throw new Error("Polygon could not collide with unknown CollisionShape "+typeof e)},t.prototype.getFurthestPoint=function(t){for(var e=this.getTransformedPoints(),n=null,r=-Number.MAX_VALUE,i=0;i<e.length;i++){var o=t.dot(e[i]);o>r&&(r=o,n=e[i])}return n},t.prototype.getClosestFace=function(t){for(var e=this.getSides(),n=Number.POSITIVE_INFINITY,r=-1,i=-1,o=0;o<e.length;o++){var a=e[o].distanceToPoint(t);a<n&&(n=a,r=o,i=a)}return-1!==r?{distance:e[r].normal().scale(i),face:e[r]}:null},Object.defineProperty(t.prototype,"bounds",{get:function(){var t=this.getTransformedPoints();return Zt.fromPoints(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return Zt.fromPoints(this.points)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inertia",{get:function(){for(var t=this.collider?this.collider.mass:it.defaultMass,e=0,n=0,r=0;r<this.points.length;r++){var i=(r+1)%this.points.length,o=this.points[i].cross(this.points[r]);e+=o*(this.points[r].dot(this.points[r])+this.points[r].dot(this.points[i])+this.points[i].dot(this.points[i])),n+=o}return t/6*(e/n)},enumerable:!1,configurable:!0}),t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);for(var n=this.getSides(),r=n.length,i=Number.MAX_VALUE,o=-1,a=0;a<r;a++){var s=t.intersect(n[a]);s>=0&&s<i&&s<=e&&(i=s,o=a)}return o>=0?t.getPoint(i):null},Object.defineProperty(t.prototype,"axes",{get:function(){if(this._axes.length)return this._axes;for(var t=[],e=this.getTransformedPoints(),n=e.length,r=0;r<n;r++)t.push(e[r].sub(e[(r+1)%n]).normal());return this._axes=t,this._axes},enumerable:!1,configurable:!0}),t.prototype.testSeparatingAxisTheorem=function(t){for(var e=t,n=this.axes.concat(e.axes),r=Number.MAX_VALUE,i=null,o=-1,a=0;a<n.length;a++){var s=this.project(n[a]),l=e.project(n[a]),u=s.getOverlap(l);if(u<=0)return null;u<r&&(r=u,i=n[a],o=a)}return-1===o?null:i.normalize().scale(r)},t.prototype.project=function(t){for(var e=this.getTransformedPoints(),n=e.length,r=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=0;o<n;o++){var a=e[o].dot(t);r=Math.min(r,a),i=Math.max(i,a)}return new G(r,i)},t.prototype.draw=function(t,e,n){void 0===e&&(e=tt.Green),void 0===n&&(n=V.Zero),t.beginPath(),t.fillStyle=e.toString();var r=n.add(this.offset),i=this.points[0].add(r);t.moveTo(i.x,i.y),this.points.map((function(t){return t.add(r)})).forEach((function(e){t.lineTo(e.x,e.y)})),t.lineTo(i.x,i.y),t.closePath(),t.fill()},t.prototype.debugDraw=function(t,e){void 0===e&&(e=tt.Red),t.beginPath(),t.strokeStyle=e.toString();var n=this.getTransformedPoints()[0];t.moveTo(n.x,n.y),this.getTransformedPoints().forEach((function(e){t.lineTo(e.x,e.y)})),t.lineTo(n.x,n.y),t.closePath(),t.stroke()},t}(),Zt=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),"object"==typeof t?(this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom):"number"==typeof t&&(this.left=t,this.top=e,this.right=n,this.bottom=r)}return t.getSideFromIntersection=function(t){return t&&t?Math.abs(t.x)>Math.abs(t.y)?t.x<0?f.Right:f.Left:t.y<0?f.Bottom:f.Top:f.None},t.fromPoints=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;a++)e[a].x<n&&(n=e[a].x),e[a].x>i&&(i=e[a].x),e[a].y<r&&(r=e[a].y),e[a].y>o&&(o=e[a].y);return new t(n,r,i,o)},t.fromDimension=function(e,n,r,i){return void 0===r&&(r=V.Half),void 0===i&&(i=V.Zero),new t(-e*r.x+i.x,-n*r.y+i.y,e-e*r.x+i.x,n-n*r.y+i.y)},Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new V((this.left+this.right)/2,(this.top+this.bottom)/2)},enumerable:!1,configurable:!0}),t.prototype.translate=function(e){return new t(this.left+e.x,this.top+e.y,this.right+e.x,this.bottom+e.y)},t.prototype.rotate=function(e,n){void 0===n&&(n=V.Zero);var r=this.getPoints().map((function(t){return t.rotate(e,n)}));return t.fromPoints(r)},t.prototype.scale=function(e,n){void 0===n&&(n=V.Zero);var r=this.translate(n);return new t(r.left*e.x,r.top*e.y,r.right*e.x,r.bottom*e.y)},t.prototype.getPerimeter=function(){return 2*(this.width+this.height)},t.prototype.getPoints=function(){var t=[];return t.push(new V(this.left,this.top)),t.push(new V(this.right,this.top)),t.push(new V(this.right,this.bottom)),t.push(new V(this.left,this.bottom)),t},t.prototype.toPolygon=function(t){var e=null;return t&&t.body&&t.body.collider&&(e=t.body.collider),new Gt({collider:e,points:this.getPoints(),offset:V.Zero})},t.prototype.rayCast=function(t,e){void 0===e&&(e=1/0);var n=-1/0,r=1/0,i=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,a=(this.left-t.pos.x)*i,s=(this.right-t.pos.x)*i;n=Math.min(a,s),r=Math.max(a,s);var l=(this.top-t.pos.y)*o,u=(this.bottom-t.pos.y)*o;return n=Math.max(n,Math.min(l,u)),(r=Math.min(r,Math.max(l,u)))>=Math.max(0,n)&&n<e},t.prototype.rayCastTime=function(t,e){void 0===e&&(e=1/0);var n=-1/0,r=1/0,i=0===t.dir.x?Number.MAX_VALUE:1/t.dir.x,o=0===t.dir.y?Number.MAX_VALUE:1/t.dir.y,a=(this.left-t.pos.x)*i,s=(this.right-t.pos.x)*i;n=Math.min(a,s),r=Math.max(a,s);var l=(this.top-t.pos.y)*o,u=(this.bottom-t.pos.y)*o;return n=Math.max(n,Math.min(l,u)),(r=Math.min(r,Math.max(l,u)))>=Math.max(0,n)&&n<e?n:-1},t.prototype.contains=function(e){return e instanceof V?this.left<=e.x&&this.top<=e.y&&this.bottom>=e.y&&this.right>=e.x:e instanceof t&&this.left<e.left&&this.top<e.top&&e.bottom<this.bottom&&e.right<this.right},t.prototype.combine=function(e){return new t(Math.min(this.left,e.left),Math.min(this.top,e.top),Math.max(this.right,e.right),Math.max(this.bottom,e.bottom))},Object.defineProperty(t.prototype,"dimensions",{get:function(){return new V(this.width,this.height)},enumerable:!1,configurable:!0}),t.prototype.intersect=function(t){var e=this.combine(t);if(e.width<t.width+this.width&&e.height<t.height+this.height&&!e.dimensions.equals(t.dimensions)&&!e.dimensions.equals(this.dimensions)){var n=0;n=this.right>=t.left&&this.right<=t.right?t.left-this.right:t.right-this.left;var r=0;return r=this.top<=t.bottom&&this.top>=t.top?t.bottom-this.top:t.top-this.bottom,Math.abs(n)<Math.abs(r)?new V(n,0):new V(0,r)}return e.dimensions.equals(t.dimensions)||e.dimensions.equals(this.dimensions)?(n=0,n=this.width-t.width>=0?this.right-t.right<=t.left-this.left?t.left-this.right:t.right-this.left:t.right-this.right<=this.left-t.left?this.left-t.right:this.right-t.left,r=0,r=this.height-t.height>=0?this.bottom-t.bottom<=t.top-this.top?t.top-this.bottom:t.bottom-this.top:t.bottom-this.bottom<=this.top-t.top?this.top-t.bottom:this.bottom-t.top,Math.abs(n)<Math.abs(r)?new V(n,0):new V(0,r)):null},t.prototype.intersectWithSide=function(e){var n=this.intersect(e);return t.getSideFromIntersection(n)},t.prototype.debugDraw=function(t,e){void 0===e&&(e=tt.Yellow),t.strokeStyle=e.toString(),t.strokeRect(this.left,this.top,this.width,this.height)},t}(),Xt=function(){return(Xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};!function(t){t.FullScreen="FullScreen",t.Container="Container",t.Fixed="Fixed",t.Position="Position"}(Wt||(Wt={}));var Kt=function(){function t(){}return Object.defineProperty(t,"SVGA",{get:function(){return{width:800,height:600}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Standard",{get:function(){return{width:1920,height:1080}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Atari2600",{get:function(){return{width:160,height:192}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GameBoy",{get:function(){return{width:160,height:144}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"GameBoyAdvance",{get:function(){return{width:240,height:160}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NintendoDS",{get:function(){return{width:256,height:192}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NES",{get:function(){return{width:256,height:224}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SNES",{get:function(){return{width:256,height:244}},enumerable:!1,configurable:!0}),t}(),Yt=function(){function t(t){var e,n,r,i=this;this._antialiasing=!0,this._resolutionStack=[],this._viewportStack=[],this._pixelRatio=null,this._isFullScreen=!1,this._isDisposed=!1,this._logger=R.getInstance(),this._pixelRatioChangeHandler=function(){i._logger.debug("Pixel Ratio Change",window.devicePixelRatio),i.applyResolutionAndViewport()},this._windowResizeHandler=function(){var t=i.displayMode===Wt.Container?i.canvas.parentElement||document.body:window;i._logger.debug("View port resized"),i._setHeightByDisplayMode(t),i._logger.info("parent.clientHeight "+t.clientHeight),i.applyResolutionAndViewport()},this.viewport=t.viewport,this.resolution=null!==(e=t.resolution)&&void 0!==e?e:Xt({},this.viewport),this._displayMode=null!==(n=t.displayMode)&&void 0!==n?n:Wt.Fixed,this._canvas=t.canvas,this._ctx=t.context,this._antialiasing=null!==(r=t.antialiasing)&&void 0!==r?r:this._antialiasing,this._browser=t.browser,this._position=t.position,this._pixelRatio=t.pixelRatio,this._applyDisplayMode(),this._mediaQueryList=this._browser.window.nativeComponent.matchMedia("(resolution: "+window.devicePixelRatio+"dppx)"),this._mediaQueryList.addEventListener("change",this._pixelRatioChangeHandler)}return t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._browser.window.off("resize",this._windowResizeHandler),this._mediaQueryList.removeEventListener("change",this._pixelRatioChangeHandler))},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio?this._pixelRatio:window.devicePixelRatio<1?1:window.devicePixelRatio||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHiDpi",{get:function(){return 1!==this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"displayMode",{get:function(){return this._displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewport",{get:function(){return this._viewport?this._viewport:this._resolution},set:function(t){this._viewport=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaledWidth",{get:function(){return this._resolution.width*this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaledHeight",{get:function(){return this._resolution.height*this.pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setCurrentCamera=function(t){this._camera=t},t.prototype.pushResolutionAndViewport=function(){this._resolutionStack.push(this.resolution),this._viewportStack.push(this.viewport),this.resolution=Xt({},this.resolution),this.viewport=Xt({},this.viewport)},t.prototype.popResolutionAndViewport=function(){this.resolution=this._resolutionStack.pop(),this.viewport=this._viewportStack.pop()},t.prototype.applyResolutionAndViewport=function(){this._canvas.width=this.scaledWidth,this._canvas.height=this.scaledHeight,this._canvas.style.imageRendering=this._antialiasing?"auto":"pixelated",this._canvas.style.width=this.viewport.width+"px",this._canvas.style.height=this.viewport.height+"px",this._ctx.resetTransform(),this._ctx.scale(this.pixelRatio,this.pixelRatio),this._ctx.imageSmoothingEnabled=this._antialiasing},Object.defineProperty(t.prototype,"antialiasing",{get:function(){return this._antialiasing},set:function(t){this._antialiasing=t,this._ctx.imageSmoothingEnabled=this._antialiasing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFullScreen",{get:function(){return this._isFullScreen},enumerable:!1,configurable:!0}),t.prototype.goFullScreen=function(){var t=this;return this._canvas.requestFullscreen().then((function(){t._isFullScreen=!0}))},t.prototype.exitFullScreen=function(){var t=this;return document.exitFullscreen().then((function(){t._isFullScreen=!1}))},t.prototype.screenToWorldCoordinates=function(t){var e,n,r,i,o=t.x,a=t.y;return o=o/this.viewport.width*this.drawWidth,a=a/this.viewport.height*this.drawHeight,o-=this.halfDrawWidth,a-=this.halfDrawHeight,o+=null!==(n=null===(e=this._camera)||void 0===e?void 0:e.x)&&void 0!==n?n:0,a+=null!==(i=null===(r=this._camera)||void 0===r?void 0:r.y)&&void 0!==i?i:0,new V(Math.floor(o),Math.floor(a))},t.prototype.worldToScreenCoordinates=function(t){var e,n,r,i,o=t.x,a=t.y;return o-=null!==(n=null===(e=this._camera)||void 0===e?void 0:e.x)&&void 0!==n?n:0,a-=null!==(i=null===(r=this._camera)||void 0===r?void 0:r.y)&&void 0!==i?i:0,o+=this.halfDrawWidth,a+=this.halfDrawHeight,o=o*this.viewport.width/this.drawWidth,a=a*this.viewport.height/this.drawHeight,new V(Math.floor(o),Math.floor(a))},t.prototype.getWorldBounds=function(){var t=this.screenToWorldCoordinates(V.Zero).x,e=this.screenToWorldCoordinates(V.Zero).y,n=t+this.drawWidth,r=e+this.drawHeight;return new Zt(t,e,n,r)},Object.defineProperty(t.prototype,"canvasWidth",{get:function(){return this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfCanvasWidth",{get:function(){return this.canvas.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasHeight",{get:function(){return this.canvas.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfCanvasHeight",{get:function(){return this.canvas.height/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this._camera?this.scaledWidth/this._camera.z/this.pixelRatio:this.scaledWidth/this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfDrawWidth",{get:function(){return this.drawWidth/2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this._camera?this.scaledHeight/this._camera.z/this.pixelRatio:this.scaledHeight/this.pixelRatio},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"halfDrawHeight",{get:function(){return this.drawHeight/2},enumerable:!1,configurable:!0}),t.prototype._applyDisplayMode=function(){if(this.displayMode===Wt.FullScreen||this.displayMode===Wt.Container){var t=this.displayMode===Wt.Container?this.canvas.parentElement||document.body:window;this._setHeightByDisplayMode(t),this._browser.window.on("resize",this._windowResizeHandler)}else this.displayMode===Wt.Position&&this._initializeDisplayModePosition(this._position)},t.prototype._setHeightByDisplayMode=function(t){this.displayMode===Wt.Container&&(this.resolution={width:t.clientWidth,height:t.clientHeight},this.viewport=this.resolution),this.displayMode===Wt.FullScreen&&(document.body.style.margin="0px",document.body.style.overflow="hidden",this.resolution={width:t.innerWidth,height:t.innerHeight},this.viewport=this.resolution)},t.prototype._initializeDisplayModePosition=function(t){if(!t)throw new Error("DisplayMode of Position was selected but no position option was given");if(this.canvas.style.display="block",this.canvas.style.position="absolute","string"==typeof t){var e=t.split(" ");switch(e[0]){case"top":this.canvas.style.top="0px";break;case"bottom":this.canvas.style.bottom="0px";break;case"middle":this.canvas.style.top="50%";var n=-this.halfDrawHeight;this.canvas.style.marginTop=n.toString();break;default:throw new Error("Invalid Position Given")}if(e[1])switch(e[1]){case"left":this.canvas.style.left="0px";break;case"right":this.canvas.style.right="0px";break;case"center":this.canvas.style.left="50%";var r=-this.halfDrawWidth;this.canvas.style.marginLeft=r.toString();break;default:throw new Error("Invalid Position Given")}}else t.top&&("number"==typeof t.top?this.canvas.style.top=t.top.toString()+"px":this.canvas.style.top=t.top),t.right&&("number"==typeof t.right?this.canvas.style.right=t.right.toString()+"px":this.canvas.style.right=t.right),t.bottom&&("number"==typeof t.bottom?this.canvas.style.bottom=t.bottom.toString()+"px":this.canvas.style.bottom=t.bottom),t.left&&("number"==typeof t.left?this.canvas.style.left=t.left.toString()+"px":this.canvas.style.left=t.left)},t}(),$t=function(){function t(t){this._handlers={},this._wiredEventDispatchers=[],this._target=t}return t.prototype.clear=function(){this._handlers={},this._wiredEventDispatchers=[]},t.prototype.emit=function(t,e){if(t){t=t.toLowerCase();var n,r,i=this._target;if(e||(e=new st),e.target=i,this._handlers[t])for(n=0,r=this._handlers[t].length;n<r;n++)this._handlers[t][n].call(i,e);for(n=0,r=this._wiredEventDispatchers.length;n<r;n++)this._wiredEventDispatchers[n].emit(t,e)}},t.prototype.on=function(t,e){t=t.toLowerCase(),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(e),"unsubscribe"!==t&&"subscribe"!==t&&this.emit("subscribe",new St(t,e))},t.prototype.off=function(t,e){t=t.toLowerCase();var n=this._handlers[t];if(n)if(e){var r=n.indexOf(e);this._handlers[t].splice(r,1)}else this._handlers[t].length=0;"unsubscribe"!==t&&"subscribe"!==t&&this.emit("unsubscribe",new kt(t,e))},t.prototype.once=function(t,e){var n=this;this.on(t,(function(r){var i=r||new st;i.target=i.target||n._target,n.off(t,e),e.call(i.target,i)}))},t.prototype.wire=function(t){t._wiredEventDispatchers.push(this)},t.prototype.unwire=function(t){var e=t._wiredEventDispatchers.indexOf(this);e>-1&&t._wiredEventDispatchers.splice(e,1)},t}(),Jt=function(){function t(){this.eventDispatcher=new $t(this)}return t.prototype.on=function(t,e){this.eventDispatcher.on(t,e)},t.prototype.off=function(t,e){this.eventDispatcher.off(t,e)},t.prototype.emit=function(t,e){this.eventDispatcher.emit(t,e)},t.prototype.once=function(t,e){this.eventDispatcher.once(t,e)},t}(),te=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ee=function(t){function e(e,n,r){void 0===r&&(r=!0);var i=t.call(this)||this;return i.path=e,i.responseType=n,i.bustCache=r,i.data=null,i.logger=R.getInstance(),i.arrayBuffer=null,i.onprogress=function(){},i.oncomplete=function(){},i.onerror=function(){},i}return te(e,t),e.prototype.isLoaded=function(){return null!==this.data},e.prototype.wireEngine=function(t){},e.prototype._cacheBust=function(t){return/\?\w*=\w*/.test(t)?t+="&__="+Date.now():t+="?__="+Date.now(),t},e.prototype._start=function(){this.logger.debug("Started loading resource "+this.path)},e.prototype.load=function(){var t=this,e=new p;if(null!==this.data)return this.logger.debug("Already have data for resource",this.path),e.resolve(this.data),this.oncomplete(),e;var n=new XMLHttpRequest;return n.open("GET",this.bustCache?this._cacheBust(this.path):this.path,!0),n.responseType=this.responseType,n.onloadstart=function(){t._start()},n.onprogress=this.onprogress,n.onerror=this.onerror,n.onload=function(){if(0!==n.status&&200!==n.status)return t.logger.error("Failed to load resource ",t.path," server responded with error code",n.status),t.onerror(n.response),void e.resolve(n.response);t.data=t.processData(n.response),t.oncomplete(),t.logger.debug("Completed loading resource",t.path),e.resolve(t.data)},n.send(),e},e.prototype.getData=function(){return this.data},e.prototype.getArrayData=function(){return this.arrayBuffer},e.prototype.setData=function(t){this.data=this.processData(t)},e.prototype.processData=function(t){return"blob"===this.responseType?URL.createObjectURL(t):t},e}(Jt),ne=function(){function t(){}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data,o=(i[r+0]+i[r+1]+i[r+2])/3;i[r+0]=o,i[r+1]=o,i[r+2]=o},t}(),re=function(){function t(){}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data;i[r+0]=255-i[r+0],i[r+1]=255-i[r+1],i[r+2]=255-i[r+2]},t}(),ie=function(){function t(t){this.opacity=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data;0!==i[r+3]&&(i[r+3]=Math.round(this.opacity*i[r+3]))},t}(),oe=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data;0!==i[r+3]&&(i[r+0]=(i[r+0]+this.color.r)/2,i[r+1]=(i[r+1]+this.color.g)/2,i[r+2]=(i[r+2]+this.color.b)/2)},t}(),ae=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data,o=tt.fromRGB(i[r+0],i[r+1],i[r+2],i[r+3]).lighten(this.factor);i[r+0]=o.r,i[r+1]=o.g,i[r+2]=o.b,i[r+3]=o.a},t}(),se=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data,o=tt.fromRGB(i[r+0],i[r+1],i[r+2],i[r+3]).darken(this.factor);i[r+0]=o.r,i[r+1]=o.g,i[r+2]=o.b,i[r+3]=o.a},t}(),le=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data,o=tt.fromRGB(i[r+0],i[r+1],i[r+2],i[r+3]).saturate(this.factor);i[r+0]=o.r,i[r+1]=o.g,i[r+2]=o.b,i[r+3]=o.a},t}(),ue=function(){function t(t){void 0===t&&(t=.1),this.factor=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data,o=tt.fromRGB(i[r+0],i[r+1],i[r+2],i[r+3]).desaturate(this.factor);i[r+0]=o.r,i[r+1]=o.g,i[r+2]=o.b,i[r+3]=o.a},t}(),ce=function(){function t(t){this.color=t}return t.prototype.updatePixel=function(t,e,n){var r=4*(t+e*n.width),i=n.data;0!==i[r+3]&&(i[r+0]=this.color.r,i[r+1]=this.color.g,i[r+2]=this.color.b)},t}(),he=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function fe(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e)||this,i=e.filter((function(t){return void 0!==t})).length;return 1!==i||!e[0]||"object"!=typeof e[0]||e[0]instanceof Array||r.assign(e[0]),r}return he(e,t),e.prototype.assign=function(t){for(var e in t)"function"!=typeof this[e]&&(this[e]=t[e])},e}(t)}var pe,de=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(){return(ge=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ye=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return de(e,t),e}(fe(function(){function t(t,e,n,r,i){var o=this;this.x=0,this.y=0,this.rotation=0,this.anchor=new V(0,0),this.offset=V.Zero,this.scale=V.One,this.logger=R.getInstance(),this.flipVertical=!1,this.flipHorizontal=!1,this.effects=[],this.width=0,this.height=0,this._spriteCanvas=null,this._spriteCtx=null,this._pixelData=null,this._pixelsLoaded=!1,this._dirtyEffect=!1,this._opacity=1;var a=t;if(t&&!(t instanceof me)&&(e=0|t.x,n=0|t.y,r=0|t.width,i=0|t.height,!(a=t.image)))throw new Error("An image texture is required to contsruct a sprite");this.x=e||0,this.y=n||0,this._texture=a,this._spriteCanvas=document.createElement("canvas"),this._spriteCanvas.width=r,this._spriteCanvas.height=i,this._spriteCtx=this._spriteCanvas.getContext("2d"),this._texture.loaded.then((function(){o.width=o.width||o._texture.image.naturalWidth,o.height=o.height||o._texture.image.naturalHeight,o._spriteCanvas.width=o._spriteCanvas.width||o._texture.image.naturalWidth,o._spriteCanvas.height=o._spriteCanvas.height||o._texture.image.naturalHeight,o._loadPixels(),o._dirtyEffect=!0})).error((function(t){o.logger.error("Error loading texture ",o._texture.path,t)})),this.width=r,this.height=i}return Object.defineProperty(t.prototype,"drawWidth",{get:function(){return this.width*this.scale.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawHeight",{get:function(){return this.height*this.scale.y},enumerable:!1,configurable:!0}),t.prototype._loadPixels=function(){if(this._texture.isLoaded()&&!this._pixelsLoaded){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;if(this.width>t&&this.logger.warn("The sprite width "+this.width+" exceeds the width \n                              "+t+" of the backing texture "+this._texture.path),this.width<=0||t<=0)throw new Error("The width of a sprite cannot be 0 or negative, sprite width: "+this.width+", original width: "+t);if(this.height>e&&this.logger.warn("The sprite height "+this.height+" exceeds the height \n                              "+e+" of the backing texture "+this._texture.path),this.height<=0||e<=0)throw new Error("The height of a sprite cannot be 0 or negative, sprite height: "+this.height+", original height: "+e);this._spriteCtx.drawImage(this._texture.image,v(this.x,0,t),v(this.y,0,e),v(this.width,0,t),v(this.height,0,e),0,0,this.width,this.height),this._pixelsLoaded=!0}},t.prototype.opacity=function(t){this._opacity=t},t.prototype.grayscale=function(){this.addEffect(new ne)},t.prototype.invert=function(){this.addEffect(new re)},t.prototype.fill=function(t){this.addEffect(new ce(t))},t.prototype.colorize=function(t){this.addEffect(new oe(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new ae(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new se(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new le(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new ue(t))},t.prototype.addEffect=function(t){this.effects.push(t),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0},t.prototype.removeEffect=function(t){var e;(e="number"==typeof t?t:this.effects.indexOf(t))<0||e>=this.effects.length||(this.effects.splice(e,1),this._texture.isLoaded()&&this._pixelsLoaded?this._applyEffects():this._dirtyEffect=!0)},t.prototype._applyEffects=function(){var t=this._texture.image.naturalWidth||0,e=this._texture.image.naturalHeight||0;if(this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.drawImage(this._texture.image,v(this.x,0,t),v(this.y,0,e),v(this.width,0,t),v(this.height,0,e),0,0,this.width,this.height),this.effects.length>0){this._pixelData=this._spriteCtx.getImageData(0,0,this.width,this.height);for(var n=this.effects.length,r=0;r<n;r++)for(var i=0;i<this.height;i++)for(var o=0;o<this.width;o++)this.effects[r].updatePixel(o,i,this._pixelData);this._spriteCtx.clearRect(0,0,this.width,this.height),this._spriteCtx.putImageData(this._pixelData,0,0)}this._dirtyEffect=!1},t.prototype.clearEffects=function(){this.effects.length=0,this._applyEffects()},t.prototype.reset=function(){},t.prototype.debugDraw=function(t,e,n){t.save(),t.translate(e,n),t.rotate(this.rotation);var r=this.drawWidth*this.anchor.x,i=this.drawHeight*this.anchor.y;t.strokeStyle=tt.Black.toString(),t.strokeRect(-r,-i,this.drawWidth,this.drawHeight),t.restore()},t.prototype.draw=function(t,e,n){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:n}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e,n,r,i,o,a,s,l,u=ge(ge({},t),{rotation:null!==(e=t.rotation)&&void 0!==e?e:this.rotation,drawWidth:null!==(n=t.drawWidth)&&void 0!==n?n:this.drawWidth,drawHeight:null!==(r=t.drawHeight)&&void 0!==r?r:this.drawHeight,flipHorizontal:null!==(i=t.flipHorizontal)&&void 0!==i?i:this.flipHorizontal,flipVertical:null!==(o=t.flipVertical)&&void 0!==o?o:this.flipVertical,anchor:null!==(a=t.anchor)&&void 0!==a?a:this.anchor,offset:null!==(s=t.offset)&&void 0!==s?s:this.offset,opacity:null!==(l=t.opacity)&&void 0!==l?l:this._opacity}),c=u.ctx,h=u.x,f=u.y,p=u.rotation,d=u.drawWidth,g=u.drawHeight,y=u.anchor,_=u.offset,m=u.opacity,v=u.flipHorizontal,b=u.flipVertical;this._dirtyEffect&&this._applyEffects(),c.save();var w=d*y.x+_.x,x=g*y.y+_.y;c.translate(h,f),c.rotate(p),v&&(c.translate(d,0),c.scale(-1,1)),b&&(c.translate(0,g),c.scale(1,-1)),this._dirtyEffect&&this._applyEffects();var P=c.globalAlpha;c.globalAlpha=null!=m?m:1,c.drawImage(this._spriteCanvas,0,0,this.width,this.height,-w,-x,d,g),c.globalAlpha=P,c.restore()},t.prototype.clone=function(){var t=new ye(this._texture,this.x,this.y,this.width,this.height);t.scale=this.scale.clone(),t.rotation=this.rotation,t.flipHorizontal=this.flipHorizontal,t.flipVertical=this.flipVertical;for(var e=this.effects.length,n=0;n<e;n++)t.addEffect(this.effects[n]);return t},t}())),_e=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this,e,"blob",n)||this;return r.path=e,r.bustCache=n,r.loaded=new p,r._isLoaded=!1,r._sprite=null,r._sprite=new ye(r,0,0,0,0),r}return _e(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,n=new p;return this.path.indexOf("data:image/")>-1?(this.image=new Image,this.image.addEventListener("load",(function(){e.oncomplete(),e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e._sprite=new ye(e,0,0,e.width,e.height),e.loaded.resolve(e.image),n.resolve(e.image)})),this.image.src=this.path):t.prototype.load.call(this).then((function(){e.image=new Image,e.image.addEventListener("load",(function(){e._isLoaded=!0,e.width=e._sprite.width=e.image.naturalWidth,e.height=e._sprite.height=e.image.naturalHeight,e.loaded.resolve(e.image),n.resolve(e.image)})),e.image.src=t.prototype.getData.call(e)}),(function(){n.reject("Error loading texture.")})),n},e.prototype.asSprite=function(){return this._sprite},e}(ee),ve=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),be=function(){return(be=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},we=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return ve(e,t),e}(fe(function(){function t(t,e,n,r){this.sprites=[],this.currentFrame=0,this._timeLeftInFrame=0,this._idempotencyToken=-1,this.anchor=V.Zero,this.rotation=0,this.scale=V.One,this.loop=!0,this.freezeFrame=-1,this.flipVertical=!1,this.flipHorizontal=!1,this.drawWidth=0,this.drawHeight=0,this.width=0,this.height=0,this._opacity=1;var i=t;if(t&&!(t instanceof ai)){var o=t;i=o.engine,e=o.sprites,n=o.speed,r=o.loop}this.sprites=e,this.speed=n,this._engine=i,this._timeLeftInFrame=this.speed,null!=r&&(this.loop=r),e&&e[0]&&(this.drawHeight=e[0]?e[0].drawHeight:0,this.drawWidth=e[0]?e[0].drawWidth:0,this.width=e[0]?e[0].width:0,this.height=e[0]?e[0].height:0,this.freezeFrame=e.length-1)}return t.prototype.opacity=function(t){this._opacity=t},t.prototype.grayscale=function(){this.addEffect(new ne)},t.prototype.invert=function(){this.addEffect(new re)},t.prototype.fill=function(t){this.addEffect(new ce(t))},t.prototype.colorize=function(t){this.addEffect(new oe(t))},t.prototype.lighten=function(t){void 0===t&&(t=.1),this.addEffect(new ae(t))},t.prototype.darken=function(t){void 0===t&&(t=.1),this.addEffect(new se(t))},t.prototype.saturate=function(t){void 0===t&&(t=.1),this.addEffect(new le(t))},t.prototype.desaturate=function(t){void 0===t&&(t=.1),this.addEffect(new ue(t))},t.prototype.addEffect=function(t){for(var e in this.sprites)this.sprites[e].addEffect(t)},t.prototype.removeEffect=function(t){for(var e in this.sprites)this.sprites[e].removeEffect(t)},t.prototype.clearEffects=function(){for(var t in this.sprites)this.sprites[t].clearEffects()},t.prototype._setAnchor=function(t){for(var e in this.sprites)this.sprites[e].anchor.setTo(t.x,t.y)},t.prototype._setRotation=function(t){for(var e in this.sprites)this.sprites[e].rotation=t},t.prototype._setScale=function(t){for(var e in this.sprites)this.sprites[e].scale=t},t.prototype.reset=function(){this.currentFrame=0},t.prototype.isDone=function(){return!this.loop&&this.currentFrame>=this.sprites.length},t.prototype.tick=function(t,e){if(this._idempotencyToken!==e){this._idempotencyToken=e,this._timeLeftInFrame-=t,this._timeLeftInFrame<=0&&(this.currentFrame=this.loop?(this.currentFrame+1)%this.sprites.length:this.currentFrame+1,this._timeLeftInFrame=this.speed),this._updateValues();var n=this.sprites[this.currentFrame];n&&(this.width=n.width,this.height=n.height,this.drawWidth=n.drawWidth,this.drawHeight=n.drawHeight)}},t.prototype._updateValues=function(){this._setAnchor(this.anchor),this._setRotation(this.rotation),this._setScale(this.scale)},t.prototype.skip=function(t){this.currentFrame=(this.currentFrame+t)%this.sprites.length},t.prototype.draw=function(t,e,n){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:n}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e,n,r,i,o,a,s,l,u=be(be({},t),{rotation:null!==(e=t.rotation)&&void 0!==e?e:this.rotation,drawWidth:null!==(n=t.drawWidth)&&void 0!==n?n:this.drawWidth,drawHeight:null!==(r=t.drawHeight)&&void 0!==r?r:this.drawHeight,flipHorizontal:null!==(i=t.flipHorizontal)&&void 0!==i?i:this.flipHorizontal,flipVertical:null!==(o=t.flipVertical)&&void 0!==o?o:this.flipVertical,anchor:null!==(a=t.anchor)&&void 0!==a?a:this.anchor,opacity:null!==(s=t.opacity)&&void 0!==s?s:this._opacity});this._updateValues(),this.currentFrame<this.sprites.length&&(l=this.sprites[this.currentFrame]).draw(u),-1!==this.freezeFrame&&this.currentFrame>=this.sprites.length&&(l=this.sprites[v(this.freezeFrame,0,this.sprites.length-1)]).draw(u),l&&(this.drawWidth=l.drawWidth,this.drawHeight=l.drawHeight)},t.prototype.play=function(t,e){this.reset(),this._engine.playAnimation(this,t,e)},t}()));!function(t){t[t.ShortestPath=0]="ShortestPath",t[t.LongestPath=1]="LongestPath",t[t.Clockwise=2]="Clockwise",t[t.CounterClockwise=3]="CounterClockwise"}(pe||(pe={}));var xe=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},Pe=function(){function t(t,e,n,r,i){this.actor=t,this.easingFcn=i,this._currentLerpTime=0,this._lerpDuration=1e3,this._lerpStart=new V(0,0),this._lerpEnd=new V(0,0),this._initialized=!1,this._stopped=!1,this._distance=0,this._lerpDuration=r,this._lerpEnd=new V(e,n)}return t.prototype._initialize=function(){this._lerpStart=new V(this.actor.pos.x,this.actor.pos.y),this._currentLerpTime=0,this._distance=this._lerpStart.distance(this._lerpEnd)},t.prototype.update=function(t){this._initialized||(this._initialize(),this._initialized=!0);var e=this.actor.pos.x,n=this.actor.pos.y;this._currentLerpTime<this._lerpDuration?(e=this._lerpEnd.x<this._lerpStart.x?this._lerpStart.x-(this.easingFcn(this._currentLerpTime,this._lerpEnd.x,this._lerpStart.x,this._lerpDuration)-this._lerpEnd.x):this.easingFcn(this._currentLerpTime,this._lerpStart.x,this._lerpEnd.x,this._lerpDuration),n=this._lerpEnd.y<this._lerpStart.y?this._lerpStart.y-(this.easingFcn(this._currentLerpTime,this._lerpEnd.y,this._lerpStart.y,this._lerpDuration)-this._lerpEnd.y):this.easingFcn(this._currentLerpTime,this._lerpStart.y,this._lerpEnd.y,this._lerpDuration),this.actor.pos.x=e,this.actor.pos.y=n,this._currentLerpTime+=t):(this.actor.pos.x=this._lerpEnd.x,this.actor.pos.y=this._lerpEnd.y)},t.prototype.isComplete=function(t){return this._stopped||new V(t.pos.x,t.pos.y).distance(this._lerpStart)>=this._distance},t.prototype.reset=function(){this._initialized=!1},t.prototype.stop=function(){this._stopped=!0},t}(),Ee=function(){function t(t,e,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._end=new V(e,n),this._speed=r}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new V(this._actor.pos.x,this._actor.pos.y),this._distance=this._start.distance(this._end),this._dir=this._end.sub(this._start).normalize());var e=this._dir.scale(this._speed);this._actor.vel.x=e.x,this._actor.vel.y=e.y,this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||new V(t.pos.x,t.pos.y).distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Se=function(){function t(t,e,n,r){if(this._started=!1,this._stopped=!1,this._actor=t,this._speed=r,this._offset=new V(e,n),r<=0)throw R.getInstance().error("Attempted to moveBy with speed less than or equal to zero : "+r),new Error("Speed must be greater than 0 pixels per second")}return t.prototype.update=function(t){this._started||(this._started=!0,this._start=new V(this._actor.pos.x,this._actor.pos.y),this._end=this._start.add(this._offset),this._distance=this._offset.size,this._dir=this._end.sub(this._start).normalize()),this._actor.vel=this._dir.scale(this._speed),this.isComplete(this._actor)&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(t){return this._stopped||t.pos.distance(this._start)>=this._distance},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),ke=function(){function t(t,e,n){this._started=!1,this._stopped=!1,this._actor=t,this._actorToFollow=e,this._current=new V(this._actor.pos.x,this._actor.pos.y),this._end=new V(e.pos.x,e.pos.y),this._maximumDistance=void 0!==n?n:this._current.distance(this._end),this._speed=0}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToFollow.vel.x,2)+Math.pow(this._actorToFollow.vel.y,2));if(0!==e&&(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToFollow.pos.x,this._end.y=this._actorToFollow.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize(),this._distanceBetween>=this._maximumDistance){var n=this._dir.scale(this._speed);this._actor.vel.x=n.x,this._actor.vel.y=n.y}else this._actor.vel.x=0,this._actor.vel.y=0;this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.reset=function(){this._started=!1},t}(),Ae=function(){function t(t,e,n){this._started=!1,this._stopped=!1,this._speedWasSpecified=!1,this._actor=t,this._actorToMeet=e,this._current=new V(this._actor.pos.x,this._actor.pos.y),this._end=new V(e.pos.x,e.pos.y),this._speed=n||0,void 0!==n&&(this._speedWasSpecified=!0)}return t.prototype.update=function(t){this._started||(this._started=!0,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize());var e=Math.sqrt(Math.pow(this._actorToMeet.vel.x,2)+Math.pow(this._actorToMeet.vel.y,2));0===e||this._speedWasSpecified||(this._speed=e),this._current.x=this._actor.pos.x,this._current.y=this._actor.pos.y,this._end.x=this._actorToMeet.pos.x,this._end.y=this._actorToMeet.pos.y,this._distanceBetween=this._current.distance(this._end),this._dir=this._end.sub(this._current).normalize();var n=this._dir.scale(this._speed);this._actor.vel.x=n.x,this._actor.vel.y=n.y,this.isComplete()&&(this._actor.pos.x=this._end.x,this._actor.pos.y=this._end.y,this._actor.vel.y=0,this._actor.vel.x=0)},t.prototype.isComplete=function(){return this._stopped||this._distanceBetween<=1},t.prototype.stop=function(){this._actor.vel.y=0,this._actor.vel.x=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Ce=function(){function t(t,e,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._end=e,this._speed=n,this._rotationType=r||pe.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation;var e=Math.abs(this._end-this._start),n=g-e;switch(e>n?(this._shortDistance=n,this._longDistance=e):(this._shortDistance=e,this._longDistance=n),this._shortestPathIsPositive=(this._start-this._end+g)%g>=Math.PI,this._rotationType){case pe.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case pe.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case pe.Clockwise:this._direction=1,this._shortestPathIsPositive?this._distance=this._shortDistance:this._distance=this._longDistance;break;case pe.CounterClockwise:this._direction=-1,this._shortestPathIsPositive?this._distance=this._longDistance:this._distance=this._shortDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Te=function(){function t(t,e,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._speed=n,this._offset=e,this._rotationType=r||pe.ShortestPath}return t.prototype.update=function(t){if(!this._started){this._started=!0,this._start=this._actor.rotation,this._end=this._start+this._offset;var e=Math.abs(this._end-this._start),n=g-e;switch(e>n?(this._shortDistance=n,this._longDistance=e):(this._shortDistance=e,this._longDistance=n),this._shortestPathIsPositive=(this._start-this._end+g)%g>=Math.PI,this._rotationType){case pe.ShortestPath:this._distance=this._shortDistance,this._shortestPathIsPositive?this._direction=1:this._direction=-1;break;case pe.LongestPath:this._distance=this._longDistance,this._shortestPathIsPositive?this._direction=-1:this._direction=1;break;case pe.Clockwise:this._direction=1,this._shortDistance>=0?this._distance=this._shortDistance:this._distance=this._longDistance;break;case pe.CounterClockwise:this._direction=-1,this._shortDistance<=0?this._distance=this._shortDistance:this._distance=this._longDistance}}this._actor.rx=this._direction*this._speed,this.isComplete()&&(this._actor.rotation=this._end,this._actor.rx=0,this._stopped=!0)},t.prototype.isComplete=function(){var t=Math.abs(this._actor.rotation-this._start);return this._stopped||t>=Math.abs(this._distance)},t.prototype.stop=function(){this._actor.rx=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),Oe=function(){function t(t,e,n,r,i){this._started=!1,this._stopped=!1,this._actor=t,this._endX=e,this._endY=n,this._speedX=r,this._speedY=i}return t.prototype.update=function(t){if(this._started||(this._started=!0,this._startX=this._actor.scale.x,this._startY=this._actor.scale.y,this._distanceX=Math.abs(this._endX-this._startX),this._distanceY=Math.abs(this._endY-this._startY)),Math.abs(this._actor.scale.x-this._startX)>=this._distanceX)this._actor.sx=0;else{var e=this._endY<this._startY?-1:1;this._actor.sx=this._speedX*e}if(Math.abs(this._actor.scale.y-this._startY)>=this._distanceY)this._actor.sy=0;else{var n=this._endY<this._startY?-1:1;this._actor.sy=this._speedY*n}this.isComplete()&&(this._actor.scale.x=this._endX,this._actor.scale.y=this._endY,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.y-this._startX)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startY)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},xe([W({message:"ex.Action.ScaleTo will be removed in v0.25.0",alternateMethod:"Set width and hight directly"})],t)}(),Me=function(){function t(t,e,n,r){this._started=!1,this._stopped=!1,this._actor=t,this._offset=new V(e,n),this._speedX=this._speedY=r}return t.prototype.update=function(t){this._started||(this._started=!0,this._startScale=this._actor.scale.clone(),this._endScale=this._startScale.add(this._offset),this._distanceX=Math.abs(this._endScale.x-this._startScale.x),this._distanceY=Math.abs(this._endScale.y-this._startScale.y),this._directionX=this._endScale.x<this._startScale.x?-1:1,this._directionY=this._endScale.y<this._startScale.y?-1:1),this._actor.sx=this._speedX*this._directionX,this._actor.sy=this._speedY*this._directionY,this.isComplete()&&(this._actor.scale=this._endScale,this._actor.sx=0,this._actor.sy=0)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.scale.x-this._startScale.x)>=this._distanceX&&Math.abs(this._actor.scale.y-this._startScale.y)>=this._distanceY},t.prototype.stop=function(){this._actor.sx=0,this._actor.sy=0,this._stopped=!0},t.prototype.reset=function(){this._started=!1},xe([W({message:"ex.Action.ScaleBy will be removed in v0.25.0",alternateMethod:"Set width and hight directly"})],t)}(),Be=function(){function t(t,e){this._elapsedTime=0,this._started=!1,this._stopped=!1,this._actor=t,this._delay=e}return t.prototype.update=function(t){this._started||(this._started=!0),this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._elapsedTime+=t},t.prototype.isComplete=function(){return this._stopped||this._elapsedTime>=this._delay},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._elapsedTime=0,this._started=!1},t}(),De=function(){function t(t,e,n,r){void 0===r&&(r=1),this._timeVisible=0,this._timeNotVisible=0,this._elapsedTime=0,this._totalTime=0,this._stopped=!1,this._started=!1,this._actor=t,this._timeVisible=e,this._timeNotVisible=n,this._duration=(e+n)*r}return t.prototype.update=function(t){this._started||(this._started=!0),this._elapsedTime+=t,this._totalTime+=t,this._actor.visible&&this._elapsedTime>=this._timeVisible&&(this._actor.visible=!1,this._elapsedTime=0),!this._actor.visible&&this._elapsedTime>=this._timeNotVisible&&(this._actor.visible=!0,this._elapsedTime=0),this.isComplete()&&(this._actor.visible=!0)},t.prototype.isComplete=function(){return this._stopped||this._totalTime>=this._duration},t.prototype.stop=function(){this._actor.visible=!0,this._stopped=!0},t.prototype.reset=function(){this._started=!1,this._elapsedTime=0,this._totalTime=0},t}(),Re=function(){function t(t,e,n){this._multiplier=1,this._started=!1,this._stopped=!1,this._actor=t,this._endOpacity=e,this._speed=n}return t.prototype.update=function(t){this._started||(this._started=!0,this._endOpacity<this._actor.opacity?this._multiplier=-1:this._multiplier=1),this._speed>0&&(this._actor.opacity+=this._multiplier*(Math.abs(this._actor.opacity-this._endOpacity)*t)/this._speed),this._speed-=t,this.isComplete()&&(this._actor.opacity=this._endOpacity),R.getInstance().debug("[Action fade] Actor opacity:",this._actor.opacity)},t.prototype.isComplete=function(){return this._stopped||Math.abs(this._actor.opacity-this._endOpacity)<.05},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._started=!1},t}(),je=function(){function t(t){this._stopped=!1,this._actor=t}return t.prototype.update=function(t){this._actor.actionQueue.clearActions(),this._actor.kill(),this._stopped=!0},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){},t.prototype.reset=function(){},t}(),ze=function(){function t(t,e){this._method=null,this._actor=null,this._hasBeenCalled=!1,this._actor=t,this._method=e}return t.prototype.update=function(t){this._method.call(this._actor),this._hasBeenCalled=!0},t.prototype.isComplete=function(){return this._hasBeenCalled},t.prototype.reset=function(){this._hasBeenCalled=!1},t.prototype.stop=function(){this._hasBeenCalled=!0},t}(),Fe=function(){function t(t,e,n){this._stopped=!1,this._actor=t,this._actionQueue=new Le(t),this._repeat=e,this._originalRepeat=e;for(var r=n.length,i=0;i<r;i++)n[i].reset(),this._actionQueue.add(n[i])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._actionQueue.hasNext()||(this._actionQueue.reset(),this._repeat--),this._actionQueue.update(t)},t.prototype.isComplete=function(){return this._stopped||this._repeat<=0},t.prototype.stop=function(){this._stopped=!0},t.prototype.reset=function(){this._repeat=this._originalRepeat},t}(),Ie=function(){function t(t,e){this._stopped=!1,this._actor=t,this._actionQueue=new Le(t);for(var n=e.length,r=0;r<n;r++)e[r].reset(),this._actionQueue.add(e[r])}return t.prototype.update=function(t){this.x=this._actor.pos.x,this.y=this._actor.pos.y,this._stopped||(this._actionQueue.hasNext()||this._actionQueue.reset(),this._actionQueue.update(t))},t.prototype.isComplete=function(){return this._stopped},t.prototype.stop=function(){this._stopped=!0,this._actionQueue.clearActions()},t.prototype.reset=function(){},t}(),Le=function(){function t(t){this._actions=[],this._completedActions=[],this._actor=t}return t.prototype.add=function(t){this._actions.push(t)},t.prototype.remove=function(t){var e=this._actions.indexOf(t);this._actions.splice(e,1)},t.prototype.clearActions=function(){this._actions.length=0,this._completedActions.length=0,this._currentAction&&this._currentAction.stop()},t.prototype.getActions=function(){return this._actions.concat(this._completedActions)},t.prototype.hasNext=function(){return this._actions.length>0},t.prototype.reset=function(){this._actions=this.getActions();for(var t=this._actions.length,e=0;e<t;e++)this._actions[e].reset();this._completedActions=[]},t.prototype.update=function(t){this._actions.length>0&&(this._currentAction=this._actions[0],this._currentAction.update(t),this._currentAction.isComplete(this._actor)&&this._completedActions.push(this._actions.shift()))},t}(),Ne=function(){function t(){}return t.CreateReversibleEasingFunction=function(t){return function(e,n,r,i){return r<n?n-(t(e,r,n,i)-r):t(e,n,r,i)}},t.CreateReversableEasingFunction=function(e){return t.CreateReversibleEasingFunction(e)},t.CreateVectorEasingFunction=function(t){return function(e,n,r,i){return new V(t(e,n.x,r.x,i),t(e,n.y,r.y,i))}},t.Linear=t.CreateReversibleEasingFunction((function(t,e,n,r){return(n-=e)*t/r+e})),t.EaseInQuad=t.CreateReversibleEasingFunction((function(t,e,n,r){return(n-=e)*(t/=r)*t+e})),t.EaseOutQuad=t.CreateReversibleEasingFunction((function(t,e,n,r){return-(n-=e)*(t/=r)*(t-2)+e})),t.EaseInOutQuad=t.CreateReversibleEasingFunction((function(t,e,n,r){return n-=e,(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e})),t.EaseInCubic=t.CreateReversibleEasingFunction((function(t,e,n,r){return(n-=e)*(t/=r)*t*t+e})),t.EaseOutCubic=t.CreateReversibleEasingFunction((function(t,e,n,r){return t/=r,(n-=e)*(--t*t*t+1)+e})),t.EaseInOutCubic=t.CreateReversibleEasingFunction((function(t,e,n,r){return n-=e,(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e})),function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([W({message:"Alias for incorrect spelling used in older versions, will be removed in v0.25.0",alternateMethod:"CreateReversibleEasingFunction"})],t,"CreateReversableEasingFunction",null),t}(),Ue=function(){function t(){this._actors=[],this._queues=[],null!==arguments&&(this._actors=Array.prototype.slice.call(arguments,0),this._queues=this._actors.map((function(t){return t.actionQueue})))}return t.prototype.clearActions=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].clearActions()},t.prototype.addActorToContext=function(t){this._actors.push(t),this._queues.push(t.actionQueue)},t.prototype.removeActorFromContext=function(t){var e=this._actors.indexOf(t);e>-1&&(this._actors.splice(e,1),this._queues.splice(e,1))},t.prototype.easeTo=function(t,e,n,r){void 0===r&&(r=Ne.Linear);for(var i=this._queues.length,o=0;o<i;o++)this._queues[o].add(new Pe(this._actors[o],t,e,n,r));return this},t.prototype.moveTo=function(t,e,n){for(var r=this._queues.length,i=0;i<r;i++)this._queues[i].add(new Ee(this._actors[i],t,e,n));return this},t.prototype.moveBy=function(t,e,n){for(var r=this._queues.length,i=0;i<r;i++)this._queues[i].add(new Se(this._actors[i],t,e,n));return this},t.prototype.rotateTo=function(t,e,n){for(var r=this._queues.length,i=0;i<r;i++)this._queues[i].add(new Ce(this._actors[i],t,e,n));return this},t.prototype.rotateBy=function(t,e,n){for(var r=this._queues.length,i=0;i<r;i++)this._queues[i].add(new Te(this._actors[i],t,e,n));return this},t.prototype.scaleTo=function(t,e,n,r){for(var i=this._queues.length,o=0;o<i;o++)this._queues[o].add(new Oe(this._actors[o],t,e,n,r));return this},t.prototype.scaleBy=function(t,e,n){for(var r=this._queues.length,i=0;i<r;i++)this._queues[i].add(new Me(this._actors[i],t,e,n));return this},t.prototype.blink=function(t,e,n){void 0===n&&(n=1);for(var r=this._queues.length,i=0;i<r;i++)this._queues[i].add(new De(this._actors[i],t,e,n));return this},t.prototype.fade=function(t,e){for(var n=this._queues.length,r=0;r<n;r++)this._queues[r].add(new Re(this._actors[r],t,e));return this},t.prototype.delay=function(t){for(var e=this._queues.length,n=0;n<e;n++)this._queues[n].add(new Be(this._actors[n],t));return this},t.prototype.die=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new je(this._actors[e]));return this},t.prototype.callMethod=function(t){for(var e=this._queues.length,n=0;n<e;n++)this._queues[n].add(new ze(this._actors[n],t));return this},t.prototype.repeat=function(t){if(!t)return this.repeatForever(),this;for(var e=this._queues.length,n=0;n<e;n++)this._queues[n].add(new Fe(this._actors[n],t,this._actors[n].actionQueue.getActions()));return this},t.prototype.repeatForever=function(){for(var t=this._queues.length,e=0;e<t;e++)this._queues[e].add(new Ie(this._actors[e],this._actors[e].actionQueue.getActions()));return this},t.prototype.follow=function(t,e){for(var n=this._queues.length,r=0;r<n;r++)void 0===e?this._queues[r].add(new ke(this._actors[r],t)):this._queues[r].add(new ke(this._actors[r],t,e));return this},t.prototype.meet=function(t,e){for(var n=this._queues.length,r=0;r<n;r++)void 0===e?this._queues[r].add(new Ae(this._actors[r],t)):this._queues[r].add(new Ae(this._actors[r],t,e));return this},t.prototype.asPromise=function(){var t=this,e=this._queues.map((function(e,n){var r=new p;return e.add(new ze(t._actors[n],(function(){r.resolve()}))),r}));return p.join.apply(this,e)},t}(),He=function(){function t(){}return t.Box=function(t,e,n,r){return void 0===n&&(n=V.Half),void 0===r&&(r=V.Zero),new Gt({points:new Zt(-t*n.x,-e*n.y,t-t*n.x,e-e*n.y).getPoints(),offset:r})},t.Polygon=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=V.Zero),new Gt({points:t,offset:n,clockwiseWinding:e})},t.Circle=function(t,e){return void 0===e&&(e=V.Zero),new qt({radius:t,offset:e})},t.Edge=function(t,e){return new Qt({begin:t,end:e})},t}(),We=function(){function t(t){var e=t.actor,n=t.collider;if(this.pos=new V(0,0),this.oldPos=new V(0,0),this.vel=new V(0,0),this.oldVel=new V(0,0),this.acc=new V(0,0),this.oldAcc=V.Zero,this.torque=0,this.motion=10,this.oldRotation=0,this.rotation=0,this.scale=V.One,this.oldScale=V.One,this.sx=0,this.sy=0,this.rx=0,this._geometryDirty=!1,this._totalMtv=V.Zero,!e&&!n)throw new Error("An actor or collider are required to create a body");this.actor=e,this.collider=!n&&e?this.useBoxCollider(e.width,e.height,e.anchor):n}return Object.defineProperty(t.prototype,"id",{get:function(){return this.actor?this.actor.id:-1},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t({actor:null,collider:this.collider.clone()})},Object.defineProperty(t.prototype,"active",{get:function(){return!!this.actor&&!this.actor.isKilled()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.pos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collider",{get:function(){return this._collider},set:function(t){t&&(this._collider=t,this._collider.body=this,this._wireColliderEventsToActor())},enumerable:!1,configurable:!0}),t.prototype.addMtv=function(t){this._totalMtv.addEqual(t)},t.prototype.applyMtv=function(){this.pos.addEqual(this._totalMtv),this._totalMtv.setTo(0,0)},t.prototype.markCollisionShapeDirty=function(){this._geometryDirty=!0},Object.defineProperty(t.prototype,"isColliderShapeDirty",{get:function(){return this._geometryDirty},enumerable:!1,configurable:!0}),t.prototype.captureOldTransform=function(){this.oldVel.setTo(this.vel.x,this.vel.y),this.oldPos.setTo(this.pos.x,this.pos.y),this.oldAcc.setTo(this.acc.x,this.acc.y),this.oldScale.setTo(this.scale.x,this.scale.y),this.oldRotation=this.rotation},t.prototype.integrate=function(t){var e=t/1e3,n=this.acc.clone();this.collider.type===at.Active&&n.addEqual(it.acc),this.vel.addEqual(n.scale(e)),this.pos.addEqual(this.vel.scale(e)).addEqual(n.scale(.5*e*e)),this.rx+=this.torque*(1/this.collider.inertia)*e,this.rotation+=this.rx*e,this.scale.x+=this.sx*t/1e3,this.scale.y+=this.sy*t/1e3,this.scale.equals(this.oldScale)||(this._geometryDirty=!0),this.collider.update(),this._geometryDirty=!1},t.prototype.useBoxCollider=function(t,e,n,r){return void 0===n&&(n=V.Half),void 0===r&&(r=V.Zero),null==t&&(t=this.actor?this.actor.width:0),null==e&&(e=this.actor?this.actor.height:0),this.collider.shape=He.Box(t,e,n,r),this.collider},t.prototype.usePolygonCollider=function(t,e){return void 0===e&&(e=V.Zero),this.collider.shape=He.Polygon(t,!1,e),this.collider},t.prototype.useCircleCollider=function(t,e){return void 0===e&&(e=V.Zero),this.collider.shape=He.Circle(t,e),this.collider},t.prototype.useEdgeCollider=function(t,e){return this.collider.shape=He.Edge(t,e),this.collider},t.prototype._wireColliderEventsToActor=function(){var t=this;this.collider.clear(),this.collider.on("precollision",(function(e){t.actor&&t.actor.emit("precollision",new Tt(e.target.body.actor,e.other.body.actor,e.side,e.intersection))})),this.collider.on("postcollision",(function(e){t.actor&&t.actor.emit("postcollision",new Ot(e.target.body.actor,e.other.body.actor,e.side,e.intersection))})),this.collider.on("collisionstart",(function(e){t.actor&&t.actor.emit("collisionstart",new Mt(e.target.body.actor,e.other.body.actor,e.pair))})),this.collider.on("collisionend",(function(e){t.actor&&t.actor.emit("collisionend",new Bt(e.target.body.actor,e.other.body.actor))}))},t}(),Ve=function(){function t(){}return t.prototype.update=function(t,e){var n=t.eventDispatcher;if(t.body.collider.type!==at.PreventCollision&&e.currentScene&&e.currentScene.tileMaps)for(var r=0;r<e.currentScene.tileMaps.length;r++)for(var i=e.currentScene.tileMaps[r],o=void 0,a=f.None,s=2;(o=i.collides(t))&&!(s--<0);)a=Zt.getSideFromIntersection(o),n.emit("precollision",new Tt(t,null,a,o)),t.body.collider.type===at.Active&&(t.pos.y+=o.y,t.pos.x+=o.x,n.emit("postcollision",new Ot(t,null,a,o)))},t}(),qe=function(){function t(){this._topLeft=new V(0,0),this._topRight=new V(0,0),this._bottomLeft=new V(0,0),this._bottomRight=new V(0,0)}return t.prototype.isSpriteOffScreen=function(t,e){var n=t.currentDrawing.drawWidth,r=t.currentDrawing.drawHeight,i=t.rotation,o=t.center,a=t.getWorldPos();this._topLeft.x=a.x-n/2,this._topLeft.y=a.y-r/2,this._topLeft=this._topLeft.rotate(i,o),this._topRight.x=a.x+n/2,this._topRight.y=a.y-r/2,this._topRight=this._topRight.rotate(i,o),this._bottomLeft.x=a.x-n/2,this._bottomLeft.y=a.y+r/2,this._bottomLeft=this._bottomLeft.rotate(i,o),this._bottomRight.x=a.x+n/2,this._bottomRight.y=a.y+r/2,this._bottomRight=this._bottomRight.rotate(i,o);var s=e.worldToScreenCoordinates(this._topLeft),l=e.worldToScreenCoordinates(this._topRight),u=e.worldToScreenCoordinates(this._bottomLeft),c=e.worldToScreenCoordinates(this._bottomRight);this._xCoords=[],this._yCoords=[],this._xCoords.push(s.x,l.x,u.x,c.x),this._yCoords.push(s.y,l.y,u.y,c.y),this._xMin=Math.min.apply(null,this._xCoords),this._yMin=Math.min.apply(null,this._yCoords),this._xMax=Math.max.apply(null,this._xCoords),this._yMax=Math.max.apply(null,this._yCoords);var h=e.screenToWorldCoordinates(new V(this._xMin,this._yMin)),f=e.screenToWorldCoordinates(new V(this._xMax,this._yMax));this._xMinWorld=h.x,this._yMinWorld=h.y,this._xMaxWorld=f.x,this._yMaxWorld=f.y;var p=[new V(this._xMin,this._yMin),new V(this._xMax,this._yMin),new V(this._xMin,this._yMax),new V(this._xMax,this._yMax)];if(p[0].x<0&&p[1].x>e.canvas.clientWidth&&(p[0].y>0||p[2].y<e.canvas.clientHeight))return!1;if(p[0].y<0&&p[2].y>e.canvas.clientHeight&&(p[1].x>0||p[0].x<e.canvas.clientWidth))return!1;for(var d=0;d<p.length;d++)if(p[d].x>0&&p[d].y>0&&p[d].x<e.canvas.clientWidth&&p[d].y<e.canvas.clientHeight)return!1;return!0},t.prototype.debugDraw=function(t){t.beginPath(),t.strokeStyle=tt.White.toString(),t.rect(this._xMinWorld,this._yMinWorld,this._xMaxWorld-this._xMinWorld,this._yMaxWorld-this._yMinWorld),t.stroke(),t.fillStyle=tt.Red.toString(),t.beginPath(),t.arc(this._topLeft.x,this._topLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=tt.Green.toString(),t.beginPath(),t.arc(this._topRight.x,this._topRight.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=tt.Blue.toString(),t.beginPath(),t.arc(this._bottomLeft.x,this._bottomLeft.y,5,0,2*Math.PI),t.closePath(),t.fill(),t.fillStyle=tt.Magenta.toString(),t.beginPath(),t.arc(this._bottomRight.x,this._bottomRight.y,5,0,2*Math.PI),t.closePath(),t.fill()},t}(),Qe=function(){function t(){this.cullingBox=new qe}return t.prototype.update=function(t,e){var n=t.eventDispatcher,r=!0;null!=t.currentDrawing&&(r=this.cullingBox.isSpriteOffScreen(t,e));var i=!1;e&&e.currentScene&&e.currentScene.camera&&e.currentScene.camera.viewport&&(i=!e.currentScene.camera.viewport.intersect(t.body.collider.bounds)),t.isOffScreen?i&&r||(n.emit("enterviewport",new Ft(t)),t.isOffScreen=!1):i&&r&&(n.emit("exitviewport",new zt(t)),t.isOffScreen=!0)},t}(),Ge=function(){function t(){}return t.prototype.update=function(t,e){t.enableCapturePointer&&(t.isKilled()||e.input.pointers.checkAndUpdateActorUnderPointer(t))},t}();function Ze(t,e,n,r,i,o,a,s){void 0===e&&(e=tt.Red),void 0===a&&(a=1),void 0===s&&(s="butt"),t.beginPath(),t.lineWidth=a,t.lineCap=s,t.strokeStyle=e.toString(),t.moveTo(n,r),t.lineTo(i,o),t.closePath(),t.stroke()}function Xe(t,e,n){void 0===e&&(e=tt.Red),t.beginPath(),t.strokeStyle=e.toString(),t.arc(n.x,n.y,5,0,2*Math.PI),t.closePath(),t.stroke()}function Ke(t,e,n,r,i){void 0===i&&(i=1);var o=e?e.toString():"blue",a=r.scale(i);t.beginPath(),t.strokeStyle=o,t.moveTo(n.x,n.y),t.lineTo(n.x+a.x,n.y+a.y),t.closePath(),t.stroke()}function Ye(t,e,n,r,i,o,a,s){var l;if(void 0===o&&(o=5),void 0===a&&(a=tt.White),void 0===s&&(s=null),"number"==typeof o)l={tl:o,tr:o,br:o,bl:o};else{var u={tl:0,tr:0,br:0,bl:0};for(var c in u)if(u.hasOwnProperty(c)){var h=c;l[h]=o[h]||u[h]}}t.beginPath(),t.moveTo(e+l.tl,n),t.lineTo(e+r-l.tr,n),t.quadraticCurveTo(e+r,n,e+r,n+l.tr),t.lineTo(e+r,n+i-l.br),t.quadraticCurveTo(e+r,n+i,e+r-l.br,n+i),t.lineTo(e+l.bl,n+i),t.quadraticCurveTo(e,n+i,e,n+i-l.bl),t.lineTo(e,n+l.tl),t.quadraticCurveTo(e,n,e+l.tl,n),t.closePath(),s&&(t.fillStyle=s.toString(),t.fill()),a&&(t.strokeStyle=a.toString(),t.stroke())}function $e(t,e,n,r,i,o){void 0===i&&(i=tt.White),void 0===o&&(o=null),t.beginPath(),t.arc(e,n,r,0,2*Math.PI),t.closePath(),o&&(t.fillStyle=o.toString(),t.fill()),i&&(t.strokeStyle=i.toString(),t.stroke())}var Je=function(){function t(t,e,n){this._name=t,this._category=e,this._mask=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){return this._category},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!1,configurable:!0}),t.prototype.canCollide=function(t){return 0!=(this.category&t.mask)&&0!=(t.category&this.mask)},t.All=new t("Collide with all groups",-1,-1),t}(),tn=function(){function t(e,n){this.colliderA=e,this.colliderB=n,this.id=null,this.collision=null,this.id=t.calculatePairHash(e,n)}return t.canCollide=function(t,e){return!!t.group.canCollide(e.group)&&(t.type!==at.Fixed||e.type!==at.Fixed)&&e.type!==at.PreventCollision&&t.type!==at.PreventCollision&&!(!t.active||!e.active)},Object.defineProperty(t.prototype,"canCollide",{get:function(){var e=this.colliderA,n=this.colliderB;return t.canCollide(e,n)},enumerable:!1,configurable:!0}),t.prototype.collide=function(){this.collision=this.colliderA.collide(this.colliderB)},t.prototype.resolve=function(t){this.collision&&this.collision.resolve(t)},t.calculatePairHash=function(t,e){return t.id<e.id?"#"+t.id+"+"+e.id:"#"+e.id+"+"+t.id},t.prototype.debugDraw=function(t){this.collision&&(it.showContacts&&Xe(t,tt.Red,this.collision.point),it.showCollisionNormals&&Ke(t,tt.Cyan,this.collision.point,this.collision.normal,30))},t}();function en(t){return t instanceof nn}var nn=function(){function t(t){var e=t.body,n=t.type,r=t.group,i=t.shape,o=t.offset,a=t.useShapeInertia,s=void 0===a||a;this._events=new $t(this),this.type=at.PreventCollision,this.group=Je.All,this.mass=1,this.inertia=1e3,this.friction=.99,this.bounciness=.2,e&&e.collider&&!i?this._shape=e.collider.shape:(this._shape=i,this.body=e),this.useShapeInertia=s,this._shape.collider=this,this.type=n||this.type,this.group=r||this.group,this.offset=o||V.Zero}return t.prototype.clone=function(){return new t({body:null,type:this.type,shape:this._shape.clone(),group:this.group,offset:this.offset})},Object.defineProperty(t.prototype,"id",{get:function(){return this.body?this.body.id:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){this._shape=t,this._shape.collider=this,this.useShapeInertia&&(this.inertia=isNaN(this._shape.inertia)?this.inertia:this._shape.inertia)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.bounds.center},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.body.active},enumerable:!1,configurable:!0}),t.prototype.collide=function(t){return this.shape.collide(t.shape)},t.prototype.getClosestLineBetween=function(t){return this.shape.getClosestLineBetween(t.shape)},Object.defineProperty(t.prototype,"offset",{get:function(){return this.shape.offset.clone()},set:function(t){this.shape.offset=t.clone()},enumerable:!1,configurable:!0}),t.prototype.touching=function(t){var e=new tn(this,t);return e.collide(),!!e.collision},Object.defineProperty(t.prototype,"bounds",{get:function(){return this.shape?this.shape.bounds:this.body?(new Zt).translate(this.body.pos):new Zt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localBounds",{get:function(){return this.shape?this.shape.localBounds:new Zt},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.shape&&this.shape.recalc()},t.prototype.emit=function(t,e){this._events.emit(t,e)},t.prototype.on=function(t,e){this._events.on(t,e)},t.prototype.off=function(t,e){this._events.off(t,e)},t.prototype.once=function(t,e){this._events.once(t,e)},t.prototype.clear=function(){this._events.clear()},t.prototype.debugDraw=function(t){it.showMotionVectors&&(Ke(t,tt.Yellow,this.body.pos,this.body.acc.add(it.acc)),Ke(t,tt.Red,this.body.pos,this.body.vel),Xe(t,tt.Red,this.body.pos)),it.showBounds&&this.bounds.debugDraw(t,tt.Yellow),it.showArea&&this.shape.debugDraw(t,tt.Green)},t}(),rn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),on=function(){function t(){}return t.prototype.clone=function(){var t,e=new this.constructor;for(var n in this)if(this.hasOwnProperty(n)){var r=this[n];(null==(t=r)?void 0:t.clone)&&"owner"!==n&&"clone"!==n?e[n]=r.clone():e[n]=r}return e},t}(),an=function(t){function e(e,n){var r=t.call(this)||this;return r.type=e,r.value=n,r}return rn(e,t),e}(on),sn=function(){function t(){this.observers=[]}return t.prototype.register=function(t){this.observers.push(t)},t.prototype.unregister=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyAll=function(t){this.observers.forEach((function(e){return e.notify(t)}))},t}(),ln=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),un=function(t){this.data=t,this.type="Component Added"};function cn(t){return!!t&&"Component Added"===t.type}var hn=function(t){this.data=t,this.type="Component Removed"};function fn(t){return!!t&&"Component Removed"===t.type}var pn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.id=e._ID++,n.active=!0,n._componentsToRemove=[],n._typesMemo=[],n._dirty=!0,n._handleChanges={defineProperty:function(t,e,r){return t[e]=r.value,n.changes.notifyAll(new un({component:r.value,entity:n})),!0},deleteProperty:function(t,e){return e in t&&(n.changes.notifyAll(new hn({component:t[e],entity:n})),delete t[e],!0)}},n.components=new Proxy({},n._handleChanges),n.changes=new sn,n._isInitialized=!1,n}return ln(e,t),e.prototype.kill=function(){this.active=!1},e.prototype.isKilled=function(){return!this.active},Object.defineProperty(e.prototype,"types",{get:function(){return this._dirty?this._typesMemo=Object.keys(this.components):this._typesMemo},enumerable:!1,configurable:!0}),e.prototype.clone=function(){for(var t=new e,n=0,r=this.types;n<r.length;n++){var i=r[n];t.addComponent(this.components[i].clone())}return t},e.prototype.addComponent=function(t,n){if(void 0===n&&(n=!1),t instanceof e)for(var r in t.components)this.addComponent(t.components[r].clone());else{if(this.components[t.type]&&!n)return this;if(this.components[t.type]&&n&&this.removeComponent(t),t.dependencies&&t.dependencies.length)for(var i=0,o=t.dependencies;i<o.length;i++){var a=o[i];this.addComponent(new a),this._dirty=!0}t.owner=this,this.components[t.type]=t,t.onAdd&&(this._dirty=!0,t.onAdd(this))}return this},e.prototype.removeComponent=function(t,e){return void 0===e&&(e=!1),e?"string"==typeof t?this._removeComponentByType(t):t instanceof on&&this._removeComponentByType(t.type):this._componentsToRemove.push(t),this},e.prototype._removeComponentByType=function(t){this.components[t]&&(this.components[t].owner=null,this.components[t].onRemove&&this.components[t].onRemove(this),delete this.components[t],this._dirty=!0)},e.prototype.processRemoval=function(){for(var t=0,e=this._componentsToRemove;t<e.length;t++){var n=e[t],r="string"==typeof n?n:n.type;this._removeComponentByType(r)}this._componentsToRemove.length=0},e.prototype.has=function(t){return!!this.components[t]},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new Dt(e,this)),this._isInitialized=!0)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new _t(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new mt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onInitialize=function(t){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e._ID=0,e}(Jt),dn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gn=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function yn(t){return t instanceof mn}var _n,mn=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return dn(e,t),e}(fe(function(t){function e(n,r,i,o,a){var s=t.call(this)||this;s.id=e.maxId++,s._height=0,s._width=0,s.isOffScreen=!1,s.visible=!0,s.opacity=1,s.previousOpacity=1,s.logger=R.getInstance(),s.scene=null,s.parent=null,s.children=[],s.frames={},s.currentDrawing=null,s._draggable=!1,s._dragging=!1,s._pointerDragStartHandler=function(){s._dragging=!0},s._pointerDragEndHandler=function(){s._dragging=!1},s._pointerDragMoveHandler=function(t){s._dragging&&(s.pos=t.pointer.lastWorldPos)},s._pointerDragLeaveHandler=function(t){s._dragging&&(s.pos=t.pointer.lastWorldPos)},s.traits=[],s.enableCapturePointer=!1,s.capturePointer={captureMoveEvents:!1,captureDragEvents:!1},s._zIndex=0,s._isKilled=!1,s._capturePointerEvents=["pointerup","pointerdown","pointermove","pointerenter","pointerleave","pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],s._captureMoveEvents=["pointermove","pointerenter","pointerleave","pointerdragmove","pointerdragenter","pointerdragleave"],s._captureDragEvents=["pointerdragstart","pointerdragend","pointerdragmove","pointerdragenter","pointerdragleave"],s._initDefaults();var l=!0,u=at.Passive;if(n&&"object"==typeof n){var c=n;c.pos?(n=c.pos?c.pos.x:0,r=c.pos?c.pos.y:0):(n=c.x||0,r=c.y||0),i=c.width,o=c.height,c.body&&(l=!1,s.body=c.body),c.anchor&&(s.anchor=c.anchor),c.collisionType&&(u=c.collisionType)}return s._width=i||0,s._height=o||0,l&&(s.body=new We({collider:new nn({type:u,shape:He.Box(s._width,s._height,s.anchor)})})),s.pos.x=n||0,s.pos.y=r||0,a&&(s.color=a,s.opacity=a.a),s.traits.push(new Ve),s.traits.push(new Qe),s.traits.push(new Ge),s.actionQueue=new Le(s),s.actions=new Ue(s),s}return dn(e,t),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(t){this._body=t,this._body.actor=this},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.body.pos},set:function(t){this.body.pos.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldPos",{get:function(){return this.body.oldPos},set:function(t){this.body.oldPos.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vel",{get:function(){return this.body.vel},set:function(t){this.body.vel.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldVel",{get:function(){return this.body.oldVel},set:function(t){this.body.oldVel.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"acc",{get:function(){return this.body.acc},set:function(t){this.body.acc.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldAcc",{get:function(){return this.body.oldAcc},set:function(t){this.body.oldAcc.setTo(t.x,t.y)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.body.rotation},set:function(t){this.body.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rx",{get:function(){return this.body.rx},set:function(t){this.body.rx=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.body.scale},set:function(t){this.body.scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldScale",{get:function(){return this.body.oldScale},set:function(t){this.body.oldScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sx",{get:function(){return this.body.sx},set:function(t){this.body.sx=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sy",{get:function(){return this.body.sy},set:function(t){this.body.sy=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(t){t&&(t&&!this._draggable?(this.on("pointerdragstart",this._pointerDragStartHandler),this.on("pointerdragend",this._pointerDragEndHandler),this.on("pointerdragmove",this._pointerDragMoveHandler),this.on("pointerdragleave",this._pointerDragLeaveHandler)):!t&&this._draggable&&(this.off("pointerdragstart",this._pointerDragStartHandler),this.off("pointerdragend",this._pointerDragEndHandler),this.off("pointerdragmove",this._pointerDragMoveHandler),this.off("pointerdragleave",this._pointerDragLeaveHandler)),this._draggable=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t.clone()},enumerable:!1,configurable:!0}),e.prototype.onInitialize=function(t){},e.prototype._initialize=function(e){t.prototype._initialize.call(this,e);for(var n=0,r=this.children;n<r.length;n++)r[n]._initialize(e)},e.prototype._initDefaults=function(){this.anchor=mn.defaults.anchor.clone()},e.prototype._checkForPointerOptIn=function(t){if(t){var e=t.toLowerCase();-1!==this._capturePointerEvents.indexOf(e)&&(this.enableCapturePointer=!0,-1!==this._captureMoveEvents.indexOf(e)&&(this.capturePointer.captureMoveEvents=!0),-1!==this._captureDragEvents.indexOf(e)&&(this.capturePointer.captureDragEvents=!0))}},e.prototype.on=function(e,n){this._checkForPointerOptIn(e),t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){this._checkForPointerOptIn(e),t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype._prekill=function(e){t.prototype.emit.call(this,"prekill",new ut(this)),this.onPreKill(e)},e.prototype.onPreKill=function(t){},e.prototype._postkill=function(e){t.prototype.emit.call(this,"postkill",new ct(this)),this.onPostKill(e)},e.prototype.onPostKill=function(t){},e.prototype.kill=function(){this.scene?(this._prekill(this.scene),this.emit("kill",new lt(this)),this._isKilled=!0,this.scene.remove(this),this._postkill(this.scene)):this.logger.warn("Cannot kill actor, it was never added to the Scene")},e.prototype.unkill=function(){this._isKilled=!1},e.prototype.isKilled=function(){return this._isKilled},e.prototype.add=function(t){t.body.collider.type=at.PreventCollision,k(t,this.children)&&(t.parent=this)},e.prototype.remove=function(t){A(t,this.children)&&(t.parent=null)},e.prototype.setDrawing=function(t){t=t.toString(),this.currentDrawing!==this.frames[t]&&(null!=this.frames[t]?(this.frames[t].reset(),this.currentDrawing=this.frames[t]):R.getInstance().error("the specified drawing key "+t+" does not exist"))},e.prototype.addDrawing=function(){2===arguments.length?(this.frames[arguments[0]]=arguments[1],this.currentDrawing||(this.currentDrawing=arguments[1])):(arguments[0]instanceof ye&&this.addDrawing("default",arguments[0]),arguments[0]instanceof me&&this.addDrawing("default",arguments[0].asSprite()))},Object.defineProperty(e.prototype,"z",{get:function(){return this.getZIndex()},set:function(t){this.setZIndex(t)},enumerable:!1,configurable:!0}),e.prototype.getZIndex=function(){return this._zIndex},e.prototype.setZIndex=function(t){this.scene.cleanupDrawTree(this),this._zIndex=t,this.scene.updateDrawTree(this)},Object.defineProperty(e.prototype,"center",{get:function(){return new V(this.pos.x+this.width/2-this.anchor.x*this.width,this.pos.y+this.height/2-this.anchor.y*this.height)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width*this.getGlobalScale().x},set:function(t){this._width=t/this.scale.x,this.body.collider.shape=He.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height*this.getGlobalScale().y},set:function(t){this._height=t/this.scale.y,this.body.collider.shape=He.Box(this._width,this._height,this.anchor),this.body.markCollisionShapeDirty()},enumerable:!1,configurable:!0}),e.prototype.getWorldRotation=function(){return this.parent?this.rotation+this.parent.getWorldRotation():this.rotation},e.prototype.getWorldPos=function(){if(!this.parent)return this.pos.clone();var t=[],e=this;for(t.push(this);e.parent;)e=e.parent,t.push(e);var n=t.reduceRight((function(t,e){return e.parent?t+e.pos.x*e.getGlobalScale().x:t+e.pos.x}),0),r=t.reduceRight((function(t,e){return e.parent?t+e.pos.y*e.getGlobalScale().y:t+e.pos.y}),0),i=e.getWorldPos(),o=this.getWorldRotation();return new V(n,r).rotate(o,i)},e.prototype.getGlobalScale=function(){if(!this.parent)return new V(this.scale.x,this.scale.y);var t=this.parent.getGlobalScale();return new V(this.scale.x*t.x,this.scale.y*t.y)},e.prototype.contains=function(t,e,n){void 0===n&&(n=!1);var r=this.getWorldPos().sub(this.pos),i=this.body.collider.bounds.translate(r).contains(new V(t,e));return n?i||this.children.some((function(n){return n.contains(t,e,!0)})):i},e.prototype.within=function(t,e){return this.body.collider.shape.getClosestLineBetween(t.body.collider.shape).getLength()<=e},e.prototype.update=function(t,e){this._initialize(t),this._preupdate(t,e);var n=this.currentDrawing;n&&n instanceof we&&n.tick(e,t.stats.currFrame.id),this.actionQueue.update(e),this.color&&(this.color.a=this.opacity),0===this.opacity&&(this.visible=!1),this.body.captureOldTransform(),this.body.integrate(e);for(var r=0,i=this.traits;r<i.length;r++)i[r].update(this,t,e);for(var o=0;o<this.children.length;o++)this.children[o].update(t,e);this._postupdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype._preupdate=function(t,e){this.emit("preupdate",new _t(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new _t(t,e,this)),this.onPostUpdate(t,e)},e.prototype.draw=function(t,e){if(t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(this.rotation),t.scale(this.scale.x,this.scale.y),t.save(),t.translate(-this._width*this.anchor.x,-this._height*this.anchor.y),this._predraw(t,e),this.currentDrawing){var n=this.currentDrawing,r=(this._width-n.width*n.scale.x)*this.anchor.x,i=(this._height-n.height*n.scale.y)*this.anchor.y;this.currentDrawing.draw({ctx:t,x:r,y:i,opacity:this.opacity})}else this.color&&this.body&&this.body.collider&&this.body.collider.shape&&this.body.collider.shape.draw(t,this.color,new V(this.width*this.anchor.x,this.height*this.anchor.y));t.restore();for(var o=0;o<this.children.length;o++)this.children[o].visible&&this.children[o].draw(t,e);this._postdraw(t,e),t.restore()},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._predraw=function(t,e){this.emit("predraw",new pt(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new pt(t,e,this)),this.onPostDraw(t,e)},e.prototype.debugDraw=function(t){this.emit("predebugdraw",new gt(t,this)),this.body.collider.debugDraw(t);var e=this.body.collider.localBounds.translate(this.getWorldPos());e.debugDraw(t),t.fillText("id: "+this.id,e.left+3,e.top+10),t.fillStyle=tt.Yellow.toString(),t.beginPath(),t.arc(this.getWorldPos().x,this.getWorldPos().y,3,0,2*Math.PI),t.closePath(),t.fill();for(var n=0;n<this.traits.length;n++)this.traits[n]instanceof Qe&&this.traits[n].cullingBox.debugDraw(t);t.strokeStyle=tt.Yellow.toString(),t.beginPath();var r=Math.min(this.width,this.height);t.arc(this.getWorldPos().x,this.getWorldPos().y,r,0,2*Math.PI),t.closePath(),t.stroke();var i={"0 Pi":0,"Pi/2":Math.PI/2,Pi:Math.PI,"3/2 Pi":3*Math.PI/2},o=t.font;for(var a in i)t.fillStyle=tt.Yellow.toString(),t.font="14px",t.textAlign="center",t.fillText(a,this.getWorldPos().x+Math.cos(i[a])*(r+10),this.getWorldPos().y+Math.sin(i[a])*(r+10));t.font=o;for(var s=0;s<this.children.length;s++)this.children[s].debugDraw(t);this.emit("postdebugdraw",new yt(t,this))},e.prototype.getAncestors=function(){for(var t,e=[this],n=this;t=n.parent;)n=t,e.push(n);return e.reverse()},e.defaults={anchor:V.Half},e.maxId=0,gn([W({message:"ex.Actor.sx will be removed in v0.25.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sx",null),gn([W({message:"ex.Actor.sy will be removed in v0.25.0",alternateMethod:"Set width and height directly in constructor"})],e.prototype,"sy",null),e}(pn))),vn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(t){function e(e,n,r,i){var o=this;return(o="object"!=typeof e?t.call(this,e,n,r,i)||this:t.call(this,e)||this).traits=[],o.traits.push(new Ge),o.anchor.setTo(0,0),o.body.collider.type=at.PreventCollision,o.body.collider.shape=He.Box(o.width,o.height,o.anchor),o.enableCapturePointer=!0,o}return vn(e,t),e.prototype._initialize=function(e){this._engine=e,t.prototype._initialize.call(this,e)},e.prototype.contains=function(e,n,r){if(void 0===r&&(r=!0),r)return t.prototype.contains.call(this,e,n);var i=this._engine.worldToScreenCoordinates(new V(e,n));return t.prototype.contains.call(this,i.x,i.y)},e}(mn),wn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vn(e,t),function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([W({message:"Will be removed in v0.25.0",alternateMethod:"ScreenElement"})],e)}(bn),xn=function(){function t(e,n,r,i){if(this.id=0,this.interval=10,this.repeats=!1,this.maxNumberOfRepeats=-1,this._elapsedTime=0,this._totalTimeAlive=0,this._paused=!1,this._numberOfTicks=0,this.complete=!1,this.scene=null,"function"!=typeof e){var o=e;e=o.fcn,n=o.interval,r=o.repeats,i=o.numberOfRepeats}if(i&&i>=0&&(this.maxNumberOfRepeats=i,!r))throw new Error("repeats must be set to true if numberOfRepeats is set");this.id=t.id++,this.interval=n||this.interval,this.repeats=r||this.repeats,this._callbacks=[],e&&this.on(e)}return t.prototype.on=function(t){this._callbacks.push(t)},t.prototype.off=function(t){var e=this._callbacks.indexOf(t);this._callbacks.splice(e,1)},t.prototype.update=function(t){var e=this;this._paused||(this._totalTimeAlive+=t,this._elapsedTime+=t,this.maxNumberOfRepeats>-1&&this._numberOfTicks>=this.maxNumberOfRepeats&&(this.complete=!0),!this.complete&&this._elapsedTime>=this.interval&&(this._callbacks.forEach((function(t){t.call(e)})),this._numberOfTicks++,this.repeats?this._elapsedTime=0:this.complete=!0))},t.prototype.reset=function(t,e){if(t&&t>=0&&(this.interval=t),this.maxNumberOfRepeats&&this.maxNumberOfRepeats>=0&&(this.maxNumberOfRepeats=e,!this.repeats))throw new Error("repeats must be set to true if numberOfRepeats is set");this.complete=!1,this._elapsedTime=0,this._numberOfTicks=0},Object.defineProperty(t.prototype,"timesRepeated",{get:function(){return this._numberOfTicks},enumerable:!1,configurable:!0}),t.prototype.getTimeRunning=function(){return this._totalTimeAlive},t.prototype.pause=function(){this._paused=!0},t.prototype.unpause=function(){this._paused=!1},t.prototype.cancel=function(){this.scene&&this.scene.cancelTimer(this)},t.id=0,t}(),Pn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En=function(t){function e(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)||this}return Pn(e,t),e}(fe(function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;if(s._collidingX=-1,s._collidingY=-1,s._onScreenXStart=0,s._onScreenXEnd=9999,s._onScreenYStart=0,s._onScreenYEnd=9999,s._spriteSheets={},s.logger=R.getInstance(),s.data=[],e&&"object"==typeof e){var l=e;e=l.x,n=l.y,r=l.cellWidth,i=l.cellHeight,o=l.rows,a=l.cols}s.x=e,s.y=n,s.cellWidth=r,s.cellHeight=i,s.rows=o,s.cols=a,s.data=new Array(o*a);for(var u=function(t){for(var l=function(o){var l;l=new kn(t*r+e,o*i+n,r,i,t+o*a),s.data[t+o*a]=l},u=0;u<o;u++)l(u)},c=0;c<a;c++)u(c);return s}return Pn(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.registerSpriteSheet=function(t,e){this._spriteSheets[t]=e},e.prototype.collides=function(t){var e=t.pos.x+t.width,n=t.pos.y+t.height,r=t.body.collider.bounds,i=[];if(t.width<=0||t.height<=0)return null;for(var o=r.left;o<=e;o+=Math.min(t.width/2,this.cellWidth/2))for(var a=r.top;a<=n;a+=Math.min(t.height/2,this.cellHeight/2)){var s=this.getCellByPoint(o,a);if(s&&s.solid){var l=r.intersect(s.bounds),u=t.center.sub(s.center);l&&l.dot(u)>0&&i.push(l)}}return 0===i.length?null:i.reduce((function(t,e){var n=t.x,r=t.y;return Math.abs(t.x)<Math.abs(e.x)&&(n=e.x),Math.abs(t.y)<Math.abs(e.y)&&(r=e.y),new V(n,r)}))},e.prototype.getCellByIndex=function(t){return this.data[t]},e.prototype.getCell=function(t,e){return t<0||e<0||t>=this.cols||e>=this.rows?null:this.data[t+e*this.cols]},e.prototype.getCellByPoint=function(t,e){t=Math.floor((t-this.x)/this.cellWidth),e=Math.floor((e-this.y)/this.cellHeight);var n=this.getCell(t,e);return t>=0&&e>=0&&t<this.cols&&e<this.rows&&n?n:null},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.update=function(t,e){this.onPreUpdate(t,e),this.emit("preupdate",new _t(t,e,this));var n=t.screenToWorldCoordinates(new V(0,0)),r=t.screenToWorldCoordinates(new V(t.canvas.clientWidth,t.canvas.clientHeight));this._onScreenXStart=Math.max(Math.floor((n.x-this.x)/this.cellWidth)-2,0),this._onScreenYStart=Math.max(Math.floor((n.y-this.y)/this.cellHeight)-2,0),this._onScreenXEnd=Math.max(Math.floor((r.x-this.x)/this.cellWidth)+2,0),this._onScreenYEnd=Math.max(Math.floor((r.y-this.y)/this.cellHeight)+2,0),this.onPostUpdate(t,e),this.emit("postupdate",new mt(t,e,this))},e.prototype.draw=function(t,e){this.emit("predraw",new pt(t,e,this)),t.save(),t.translate(this.x,this.y);for(var n,r,i,o=this._onScreenXStart,a=Math.min(this._onScreenXEnd,this.cols),s=this._onScreenYStart,l=Math.min(this._onScreenYEnd,this.rows);o<a;o++){for(;s<l;s++)for(r=0,i=(n=this.getCell(o,s).sprites.filter((function(t){return t.spriteId>-1}))).length;r<i;r++){var u=this._spriteSheets[n[r].spriteSheetKey];if(u){var c=u.getSprite(n[r].spriteId);c?c.draw(t,o*this.cellWidth,s*this.cellHeight):this.logger.warn("Sprite does not exist for id",n[r].spriteId,"in sprite sheet",n[r].spriteSheetKey,c,u)}else this.logger.warn("Sprite sheet",n[r].spriteSheetKey,"does not exist",u)}s=this._onScreenYStart}t.restore(),this.emit("postdraw",new dt(t,e,this))},e.prototype.debugDraw=function(t){var e=this.cols*this.cellWidth,n=this.rows*this.cellHeight;t.save(),t.strokeStyle=tt.Red.toString();for(var r=0;r<this.cols+1;r++)t.beginPath(),t.moveTo(this.x+r*this.cellWidth,this.y),t.lineTo(this.x+r*this.cellWidth,this.y+n),t.stroke();for(var i=0;i<this.rows+1;i++)t.beginPath(),t.moveTo(this.x,this.y+i*this.cellHeight),t.lineTo(this.x+e,this.y+i*this.cellHeight),t.stroke();var o=tt.Red;o.a=.3,this.data.filter((function(t){return t.solid})).forEach((function(e){t.fillStyle=o.toString(),t.fillRect(e.x,e.y,e.width,e.height)})),this._collidingY>-1&&this._collidingX>-1&&(t.fillStyle=tt.Cyan.toString(),t.fillRect(this.x+this._collidingX*this.cellWidth,this.y+this._collidingY*this.cellHeight,this.cellWidth,this.cellHeight)),t.restore()},e}(Jt))),Sn=function(t,e){this.spriteSheetKey=t,this.spriteId=e},kn=function(t){function e(e,n,r,i,o,a,s){return t.call(this,e,n,r,i,o,a,s)||this}return Pn(e,t),e}(fe(function(){function t(t,e,n,r,i,o,a){if(void 0===o&&(o=!1),void 0===a&&(a=[]),this.solid=!1,this.sprites=[],t&&"object"==typeof t){var s=t;t=s.x,e=s.y,n=s.width,r=s.height,i=s.index,o=s.solid,a=s.sprites}this.x=t,this.y=e,this.width=n,this.height=r,this.index=i,this.solid=o,this.sprites=a,this._bounds=new Zt(this.x,this.y,this.x+this.width,this.y+this.height)}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this._bounds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return new V(this.x+this.width/2,this.y+this.height/2)},enumerable:!1,configurable:!0}),t.prototype.pushSprite=function(t){this.sprites.push(t)},t.prototype.removeSprite=function(t){var e;(e=this.sprites.indexOf(t))>-1&&this.sprites.splice(e,1)},t.prototype.clearSprites=function(){this.sprites.length=0},t}())),An=function(){function t(){}return t.create=function(){return this._INSTANCE||(window.AudioContext||window.webkitAudioContext)&&(this._INSTANCE=new window.AudioContext),this._INSTANCE},t._INSTANCE=null,t}(),Cn=function(){function t(){}return t.unlock=function(){var e=new p;if(t._unlocked||!An.create())return e.resolve(!0);var n=setTimeout((function(){R.getInstance().warn("Excalibur was unable to unlock the audio context, audio probably will not play in this browser."),e.resolve()}),200),r=An.create();return r.resume().then((function(){var i=r.createBuffer(1,1,22050),o=r.createBufferSource(),a=!1;o.buffer=i,o.connect(r.destination),o.onended=function(){return a=!0},o.noteOn?o.noteOn(0):o.start(0),setTimeout((function(){!function(t){return!!t.playbackState}(o)?(r.currentTime>0||a)&&(t._unlocked=!0):o.playbackState!==o.PLAYING_STATE&&o.playbackState!==o.FINISHED_STATE||(t._unlocked=!0)}),0),clearTimeout(n),e.state()===u.Pending&&e.resolve()}),(function(){e.state()===u.Pending&&e.reject(!1)})),e},t.isUnlocked=function(){return this._unlocked},t._unlocked=!1,t}(),Tn=n(58),On=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mn=function(t){function e(e){var n=t.call(this)||this;return n._resourceList=[],n._index=0,n._playButtonShown=!1,n._resourceCount=0,n._numLoaded=0,n._progressCounts={},n._totalCounts={},n.logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdQAAAB2CAYAAABxhGI9AAAACXBIWXMAAAsSAAALEgHS3X78AAAKnUlEQVR42u3dP2wjSx0H8N8hJIonIRmJjsq0SBR+BQ1dcqKhe0lD77SvSwpKkJKGPulpktfRIMUdEqKIqV57rpAokM4dbSiyq7ONPTP7x39ifz7SFbnEnp3xer47O7uzH15fXwMA6OYHmgAABCoACFQAEKgAgEAFAIEKAAIVAAQqACBQAUCgAoBABQCBCgAIVAAQqAAgUAFAoAIAAhUABCoACFQAEKgAgECFLbmOiNeFf2PbAyz68Pr6qhUgbRwR92v+/zwiJrYHMEKFMmcN///UtgcQqFBk1PD/97U9Qx8VCFSgu4EmAIEKAAIVAAQqACBQ4Z25jojP8eX+0WtNAgIVaOY+Im5j+eKh24h41jQgUIEyZ7F5NaPU7wCBCiwYd/w9cOB+qAlgJ3KLLow0EV198803RWvJfvfddx+0lhEqHKu5JgAjVCBvlhmFzjQRXUekHz9+TP79y8uLRjNChXfvoePvAYEKxNtj1e42/O5JoIJABcrdRMRVLM+X3kTEpaaB988cKuzWg9EobTWdMx0Oly8uN4dqhAoARqgnaN3arHfqu7OyH8ItKLVB/P+CEfMTHyGPY3npx1m8zWGDEeoBfUk/xdti57dr/r1Wv2+6EPow3tZ5rRdS72s1neuF97xvWd+XTH0/V+UMttDWqbI/r2nrxfp+jv2uSjSO7S+OXy/A/3lN+9xX5T5HxEUPZZ0tfB71+w57eJ/HFu+z+jkv1u92YX9fbI/HhX3JA9rp5MPr66tWaG9UfUGbrHIzi7cLUyYFf/tpTady03EEeL8mUJ6i7MKYNvWNqr4Pe2jradXO60LrvPAz2PQ5RPX684ah8dxD+2zantnCgVipSVV+m/tgB9W2DDq2Sx/vM95wcHhZhWVJm8yrv58cSgfTdc70+++/X/r522+/tUKSEepBqo+om4ZLPerMjUwuNnQCtx1GWJtee1FwdD5uWd86xLs8UaVt2aNEO1/saZ/Z5rYMW4zq6v34rGV9Bg3q2eZ9SkeNm9qwyUh30OPIHYFKx5FG03C7znSOqYBq+qW/zpQ3anH037TNHluG6f0WPsPhHvab4QFty7ogOeuxDYcNy2/zu2214WNYWxmBurNO8bGn97pNBOO8xy/9uCorZZ4I2r4C7aJgO7ZV9iE49Dm6NvOWx+pWE9CUq3zbdTp9doz38TbXtzqH9RT5CyWe422OaZoZGeZCabrhPQY9HjwsjpTvCg4YtlE2+Ta/j2bzn8fqrDqgm+6yUHOmAvWUjAtGhbNYvsBknDnqH1Qhc7VmxHgeb/NbudA5j/UXlYwif2p6luhAc9teu1npiHKnDs8if6tCm7JLX3NKpgttXe9ruc9mHMd7a83iwdxF5vt8tutARaCeklRnNK9C8WnNF7geJQ4T4XG3JhSnVdilQrG+yOnrlVHfsEGYzhNBn7Lu6tS7+HJafJQ4EMiNlNqWXZ9WPvVgnVYHG5M1ByDXkT6leX2EgTqJtyt45yv7S2qO3sEZjZhDLXeR+YKdJ0Zdk8QocvH9N732KrNtq+FZ/zzIHABcJrYpd+Xv14lOd5ap76SgrduW/VTQ1qcQpqnbgu4ifZvUMNpd9XuoZmvCtPaQ2Y/BCHVLgbrJTeRPDdVf6pfMKDU2fOkHmVFFfXr3MsouLsnNvV5kRoe5+s431PeuoKPqWnaurY/ZPBEeqwceN4l96iwO6H7Mjq4y7VGPVNe10VaZMzVCPVWpI/Z6FZbcv5fMqGCU+dLfFGzj58jP8+bCdJCo7yzKTwdOF0bu9Ug7V4c+yz7FJfYeGoysUss0HssIdVZwYLDujMqlESoCdTtGsZtbHnJBeNdDSJSs0jTKdMJN1HNX54Wv7bvsU9NkVJVa13dX+/wuArV0X/l5RHyo/lnfF4G6p6DrS0kHdtXhy35TGErDPYZUn2WfWqDOo/lVqdMD2O/hKJhD7S/odukymq9s02QN4EEPR/zbaOumZc+r15zK1Zqznl9jsfiemTM1QmV3HUuTkedlg9HIQzRbUD93dfC+2tpj2fIHEH2+RqCCQH13gZq7hWXTNpVu19OB1fc9nQ0AKOKUb5lU0P1kDyOneoWk0lOZ9cIP0x7qu8+2BhCoR2wYu1+e7DmaXzBSsu5vaX1ne2zrpmUPTmxf7PM1Dm4y/vC7ny7Nif7+z/9ZmtM0Z3panPLtPmra9f16bcK0Dpbnwk43Vd/RHtu6zfNQTy1QBy3aqG2g9nVmxml+BOoJyT3NpWmn9xhfFnu4bvDa+44BXhqqfdf3uUF9+yz77AT31Yue2mjecYQ62NLfgkA9ghHqLNEhNem4H1c6vdyDxhf/bpz5m4coW/c39wi6VH2bPtHlcaV9cvXts+zxCe6rTeqc2ndL7uGd93QwM9bFcAzMoZZ7SgTBbWx+asui61h/iq1+RmjqdbnQXQ3T1DNQ63V/U9ucqm/pMzPb1rePsk/1iTOjgvatR4W3Lc8ULB78pELyrnAfeTcj1NU509/86mfJ33/8+Mf00a05UyPUEw7UVCeWG/WNEiExyHRMt5ltW30izUPk18ytt7lNfc8i//DvtvXto+ySA5BjljsLUF8lPkqMPEtW1JomDsiGBZ9Byb4NAvUITSN9GuwsIj6t6UTOqk7jJREkmzqli8xIs96udSO20sX0H1vW92IL9e1a9rgqVyf91gbPsTy9UD9n9lOkT8k+RfkFR5PMNqxOcdSf32PBvg3vilO+zdxE+okx9Wm0ph36XYsRZCpMF993GOk5qvqB3Dct6jvssb67KvuUNJ3frw92bhr8/STSF0JdRPMLpUCgnsgo9S76PZ246ZFk1wWvK5m3vVoYvW1Sz7nN91jfXbQ1ZQc7TW6HeaoOalypG/8/p/rP1aNAc6ZHzSnfdqPUPhdy2PQw6Nz9gSVhuhiqueUHR3uu7y7K3rdDX4u46ZrPbUa0IFBZ0seKQ3XQTRt2vm3W/a2DbNKys++rvm3ep6+y1x2UdP3bWU9lzra47U1GmlctX/sQ23t+aOlByLTh/4NAPaCRxtcdO5HLSJ/6vNtCwGx67VPmPbvWd1q9frKHtp4kAqRJ2HR9j762JfX3bZ//elPtj13PPDx1+D5tqk/Xi6NO8SHz7MmH19dXrdBNfVFP6T2PT1UHNit87/t4m5+aRH+nQBdvqyhZDKJLfZs8h7XPsqdV2ZOV+tanKB8aln0dyxdAXbV4j4gvt4oMOrbP6vbU73NW7TMlbdTnPrWpfqXfh9HKZ9vke7KuTeZRNtXRSe6+1FV//ce/ln5eXfsXgcqXzr6+9261M3moOoa7E6nvTZTfy7iNsmfb7kjfgXGsvxe0vihsEts9HTquPpt1q1vtahu2TqAiUAEEKj0zhwoARqgAu/OnX/442WH+9xc/Wvr58re/Tr7f41/+ZsRqhAoACFQAEKgAcHjMoQJskJsz/eqrr5Z+vvr7v5fmQFevAl5lztQIFQAQqAAgUAHgIJlDBdhgdQ41N2eKESoAIFABQKACwFEwhwoARqgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAEKgAgUAFAoAKAQAUAgQoACFQAEKgAIFABQKACAAIVAAQqAAhUABCoAIBABQCBCgACFQAQqAAgUAFAoAKAQAUAlvwPcFDns1DsH4sAAAAASUVORK5CYII=",n.logoWidth=468,n.logoHeight=118,n.loadingBarColor=tt.White,n.backgroundColor="#176BAA",n.suppressPlayButton=!1,n._playButtonStyles=Tn.a.toString(),n.playButtonText="Play game",n.startButtonFactory=function(){var t=document.createElement("button");return t.id="excalibur-play",t.textContent=n.playButtonText,t.style.display="none",t},n.getData=function(){},n.setData=function(){},n.processData=function(){},n.onprogress=function(t){R.getInstance().debug("[ex.Loader] Loading "+(100*t.loaded/t.total).toFixed(0))},n.oncomplete=function(){},n.onerror=function(){},e&&n.addResources(e),n}return On(e,t),Object.defineProperty(e.prototype,"_image",{get:function(){return this._imageElement||(this._imageElement=new Image,this._imageElement.src=this.logo),this._imageElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playButtonRootElement",{get:function(){return this._playButtonRootElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playButtonElement",{get:function(){return this._playButtonElement},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_playButton",{get:function(){return this._playButtonRootElement||(this._playButtonRootElement=document.createElement("div"),this._playButtonRootElement.id="excalibur-play-root",this._playButtonRootElement.style.position="absolute",document.body.appendChild(this._playButtonRootElement)),this._styleBlock||(this._styleBlock=document.createElement("style"),this._styleBlock.textContent=this._playButtonStyles,document.head.appendChild(this._styleBlock)),this._playButtonElement||(this._playButtonElement=this.startButtonFactory(),this._playButtonRootElement.appendChild(this._playButtonElement)),this._playButtonElement},enumerable:!1,configurable:!0}),e.prototype.wireEngine=function(t){this._engine=t},e.prototype.addResource=function(t){var e=this._index++;this._resourceList.push(t),this._progressCounts[e]=0,this._totalCounts[e]=1,this._resourceCount++},e.prototype.addResources=function(t){for(var e=0,n=t.length;e<n;e++)this.addResource(t[e])},e.prototype.isLoaded=function(){return this._numLoaded===this._resourceCount},e.prototype.showPlayButton=function(){if(this.suppressPlayButton)return p.resolve();this._playButtonShown=!0,this._playButton.style.display="block";var t=new p;return this._playButton.addEventListener("click",(function(){return t.state()===u.Pending?t.resolve():t})),this._playButton.addEventListener("touchend",(function(){return t.state()===u.Pending?t.resolve():t})),this._playButton.addEventListener("pointerup",(function(){return t.state()===u.Pending?t.resolve():t})),t},e.prototype.hidePlayButton=function(){this._playButtonShown=!1,this._playButton.style.display="none"},e.prototype.dispose=function(){this._playButtonRootElement.parentElement&&(this._playButtonRootElement.removeChild(this._playButtonElement),document.body.removeChild(this._playButtonRootElement),document.head.removeChild(this._styleBlock),this._playButtonRootElement=null,this._playButtonElement=null,this._styleBlock=null)},e.prototype.load=function(){var t=this,e=new p;return 0===this._resourceList.length?(this.showPlayButton().then((function(){Cn.unlock().then((function(){t.hidePlayButton(),t.oncomplete.call(t),e.resolve(),t.dispose()}))})),e):(this._resourceList.forEach((function(n){t._engine&&n.wireEngine(t._engine),n.onprogress=function(e){t.updateResourceProgress(e.loaded,e.total)},n.oncomplete=n.onerror=function(){t.markResourceComplete(),t.isLoaded()&&setTimeout((function(){t.showPlayButton().then((function(){Cn.unlock().then((function(){t.hidePlayButton(),t.oncomplete.call(t),e.resolve(),t.dispose()}))}))}),200)}})),function t(e,n){e[n]&&e[n].load().then((function(){t(e,n+1)}))}(this._resourceList,0),e)},e.prototype.updateResourceProgress=function(t,e){var n=t/e*(100/this._resourceCount)+100*this.progress;this.onprogress({loaded:n,total:100})},e.prototype.markResourceComplete=function(){this._numLoaded++},Object.defineProperty(e.prototype,"progress",{get:function(){return this._resourceCount>0?this._numLoaded/this._resourceCount:1},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){var e=this._engine.canvasHeight/this._engine.pixelRatio,n=this._engine.canvasWidth/this._engine.pixelRatio;if(this._playButtonRootElement){var r=t.canvas.offsetLeft,i=t.canvas.offsetTop,o=this._playButton.clientWidth,a=this._playButton.clientHeight;this.playButtonPosition?(this._playButtonRootElement.style.left=this.playButtonPosition.x+"px",this._playButtonRootElement.style.top=this.playButtonPosition.y+"px"):(this._playButtonRootElement.style.left=r+n/2-o/2+"px",this._playButtonRootElement.style.top=i+e/2-a/2+100+"px")}t.fillStyle=this.backgroundColor,t.fillRect(0,0,n,e);var s=e/2,l=Math.min(this.logoWidth,.75*n),u=n/2-l/2;this.logoPosition&&(u=this.logoPosition.x,s=this.logoPosition.y);var c=Math.floor(l*(this.logoHeight/this.logoWidth)),h=this._engine.getAntialiasing();if(this._engine.setAntialiasing(!0),this.logoPosition?t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,u,s,l,c):t.drawImage(this._image,0,0,this.logoWidth,this.logoHeight,u,s-c-20,l,c),this.suppressPlayButton||!this._playButtonShown){var f=u,p=s;this.loadingBarPosition&&(f=this.loadingBarPosition.x,p=this.loadingBarPosition.y),t.lineWidth=2,Ye(t,f,p,l,20,10,this.loadingBarColor);var d=l*this.progress-10;Ye(t,f+5,p+5,d>10?d:10,10,5,null,this.loadingBarColor),this._engine.setAntialiasing(h)}else this._engine.setAntialiasing(h)},e.prototype.update=function(t,e){},e}(Jt),Bn={webgl:"WebGL",webaudio:"WebAudio",gamepadapi:"Gamepad API"},Dn=function(){function t(){this._features=null,this.failedTests=[],this._criticalTests={canvasSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},arrayBufferSupport:function(){var t=new XMLHttpRequest;t.open("GET","/");try{t.responseType="arraybuffer"}catch(t){return!1}return"arraybuffer"===t.responseType},dataUrlSupport:function(){return 0===document.createElement("canvas").toDataURL("image/png").indexOf("data:image/png")},objectUrlSupport:function(){return"URL"in window&&"revokeObjectURL"in URL&&"createObjectURL"in URL},rgbaSupport:function(){var t=document.createElement("a").style;return t.cssText="background-color:rgba(150,255,150,.5)",(""+t.backgroundColor).indexOf("rgba")>-1}},this._warningTest={webAudioSupport:function(){return!!(window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext||window.oAudioContext)},webglSupport:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("webgl"))}},this._features=this._loadBrowserFeatures()}return t.prototype.getBrowserFeatures=function(){return null===this._features&&(this._features=this._loadBrowserFeatures()),this._features},t.prototype.logBrowserFeatures=function(){for(var t="%cSUPPORTED BROWSER FEATURES\n==========================%c\n",e=["font-weight: bold; color: navy","font-weight: normal; color: inherit"],n=this.getBrowserFeatures(),r=0,i=Object.keys(Bn);r<i.length;r++){var o=i[r];n[o]?(t+="(%c\u2713%c)",e.push("font-weight: bold; color: green"),e.push("font-weight: normal; color: inherit")):(t+="(%c\u2717%c)",e.push("font-weight: bold; color: red"),e.push("font-weight: normal; color: inherit")),t+=" "+Bn[o]+"\n"}e.unshift(t),console.log.apply(console,e)},t.prototype._loadBrowserFeatures=function(){var t=this;return{canvas:t._criticalTests.canvasSupport(),arraybuffer:t._criticalTests.arrayBufferSupport(),dataurl:t._criticalTests.dataUrlSupport(),objecturl:t._criticalTests.objectUrlSupport(),rgba:t._criticalTests.rgbaSupport(),webaudio:t._warningTest.webAudioSupport(),webgl:t._warningTest.webglSupport(),gamepadapi:!!navigator.getGamepads}},t.prototype.test=function(){var t=!1;for(var e in this._criticalTests)this._criticalTests[e].call(this)||(this.failedTests.push(e),R.getInstance().error("Critical browser feature missing, Excalibur requires:",e),t=!0);if(t)return!1;for(var n in this._warningTest)this._warningTest[n]()||R.getInstance().warn("Warning browser feature missing, Excalibur will have reduced performance:",n);return!0},t}(),Rn=function(){function t(t){this.parent=t,this.parent=t||null,this.body=null,this.bounds=new Zt,this.left=null,this.right=null,this.height=0}return t.prototype.isLeaf=function(){return!this.left&&!this.right},t}(),jn=function(){function t(t){void 0===t&&(t=new Zt(-Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)),this.worldBounds=t,this.root=null,this.nodes={}}return t.prototype._insert=function(t){if(null===this.root)return this.root=t,void(this.root.parent=null);for(var e=t.bounds,n=this.root;!n.isLeaf();){var r=n.left,i=n.right,o=n.bounds.getPerimeter(),a=n.bounds.combine(e).getPerimeter(),s=2*a,l=2*(a-o),u=0,c=e.combine(r.bounds),h=void 0;r.isLeaf()?u=c.getPerimeter()+l:(h=r.bounds.getPerimeter(),u=c.getPerimeter()-h+l);var f=0,p=e.combine(i.bounds);if(i.isLeaf()?f=p.getPerimeter()+l:(h=i.bounds.getPerimeter(),f=p.getPerimeter()-h+l),s<u&&s<f)break;n=u<f?r:i}var d=n.parent,g=new Rn(d);g.bounds=e.combine(n.bounds),g.height=n.height+1,null!==d?(d.left===n?d.left=g:d.right=g,g.left=n,g.right=t,n.parent=g,t.parent=g):(g.left=n,g.right=t,n.parent=g,t.parent=g,this.root=g);for(var y=t.parent;y;){if(!(y=this._balance(y)).left)throw new Error("Parent of current leaf cannot have a null left child"+y);if(!y.right)throw new Error("Parent of current leaf cannot have a null right child"+y);y.height=1+Math.max(y.left.height,y.right.height),y.bounds=y.left.bounds.combine(y.right.bounds),y=y.parent}},t.prototype._remove=function(t){if(t!==this.root){var e,n=t.parent,r=n.parent;if(e=n.left===t?n.right:n.left,r){r.left===n?r.left=e:r.right=e,e.parent=r;for(var i=r;i;)(i=this._balance(i)).bounds=i.left.bounds.combine(i.right.bounds),i.height=1+Math.max(i.left.height,i.right.height),i=i.parent}else this.root=e,e.parent=null}else this.root=null},t.prototype.trackBody=function(t){var e=new Rn;e.body=t,e.bounds=t.collider.bounds,e.bounds.left-=2,e.bounds.top-=2,e.bounds.right+=2,e.bounds.bottom+=2,this.nodes[t.id]=e,this._insert(e)},t.prototype.updateBody=function(t){var e=this.nodes[t.id];if(!e)return!1;var n=t.collider.bounds;if(!this.worldBounds.contains(n))return R.getInstance().warn("Collider with id "+t.id+" is outside the world bounds and will no longer be tracked for physics"),this.untrackBody(t),!1;if(e.bounds.contains(n))return!1;this._remove(e),n.left-=it.boundsPadding,n.top-=it.boundsPadding,n.right+=it.boundsPadding,n.bottom+=it.boundsPadding;var r=t.vel.x*it.dynamicTreeVelocityMultiplier,i=t.vel.y*it.dynamicTreeVelocityMultiplier;return r<0?n.left+=r:n.right+=r,i<0?n.top+=i:n.bottom+=i,e.bounds=n,this._insert(e),!0},t.prototype.untrackBody=function(t){var e=this.nodes[t.collider.id];e&&(this._remove(e),this.nodes[t.collider.id]=null,delete this.nodes[t.collider.id])},t.prototype._balance=function(t){if(null===t)throw new Error("Cannot balance at null node");if(t.isLeaf()||t.height<2)return t;var e=t.left,n=t.right,r=t,i=e,o=n,a=e.left,s=e.right,l=n.left,u=n.right,c=o.height-i.height;if(c>1)return o.left=r,o.parent=r.parent,r.parent=o,o.parent?o.parent.left===r?o.parent.left=o:o.parent.right=o:this.root=o,l.height>u.height?(o.right=l,r.right=u,u.parent=r,r.bounds=i.bounds.combine(u.bounds),o.bounds=r.bounds.combine(l.bounds),r.height=1+Math.max(i.height,u.height),o.height=1+Math.max(r.height,l.height)):(o.right=u,r.right=l,l.parent=r,r.bounds=i.bounds.combine(l.bounds),o.bounds=r.bounds.combine(u.bounds),r.height=1+Math.max(i.height,l.height),o.height=1+Math.max(r.height,u.height)),o;if(c<-1){if(i.left=r,i.parent=r.parent,r.parent=i,i.parent)if(i.parent.left===r)i.parent.left=i;else{if(i.parent.right!==r)throw"Error rotating Dynamic Tree";i.parent.right=i}else this.root=i;return a.height>s.height?(i.right=a,r.left=s,s.parent=r,r.bounds=o.bounds.combine(s.bounds),i.bounds=r.bounds.combine(a.bounds),r.height=1+Math.max(o.height,s.height),i.height=1+Math.max(r.height,a.height)):(i.right=s,r.left=a,a.parent=r,r.bounds=o.bounds.combine(a.bounds),i.bounds=r.bounds.combine(s.bounds),r.height=1+Math.max(o.height,a.height),i.height=1+Math.max(r.height,s.height)),i}return t},t.prototype.getHeight=function(){return null===this.root?0:this.root.height},t.prototype.query=function(t,e){var n=t.collider.bounds;!function r(i){if(i&&i.bounds.intersect(n)){if(!i.isLeaf()||i.body===t)return r(i.left)||r(i.right);if(e.call(t,i.body))return!0}return!1}(this.root)},t.prototype.rayCastQuery=function(t,e,n){void 0===e&&(e=1/0),function r(i){if(i&&i.bounds.rayCast(t,e)){if(!i.isLeaf())return r(i.left)||r(i.right);if(n.call(t,i.body))return!0}return!1}(this.root)},t.prototype.getNodes=function(){return function t(e){return e?[e].concat(t(e.left),t(e.right)):[]}(this.root)},t.prototype.debugDraw=function(t){!function e(n){n&&(n.isLeaf()?(t.lineWidth=1,t.strokeStyle="green"):(t.lineWidth=1,t.strokeStyle="white"),n.bounds.debugDraw(t),n.left&&e(n.left),n.right&&e(n.right))}(this.root)},t}(),zn=function(){function t(){this._dynamicCollisionTree=new jn,this._collisionHash={},this._collisionPairCache=[],this._lastFramePairs=[],this._lastFramePairsHash={}}return t.prototype.track=function(t){t?this._dynamicCollisionTree.trackBody(t):R.getInstance().warn("Cannot track null physics body")},t.prototype.untrack=function(t){t?this._dynamicCollisionTree.untrackBody(t):R.getInstance().warn("Cannot untrack a null physics body")},t.prototype._shouldGenerateCollisionPair=function(t,e){var n=tn.calculatePairHash(t,e);return!this._collisionHash[n]&&tn.canCollide(t,e)},t.prototype.broadphase=function(t,e,n){var r,i=this,o=e/1e3,a=t.map((function(t){return t.collider})).filter((function(t){return t.active&&t.type!==at.PreventCollision}));this._collisionPairCache=[],this._collisionHash={};for(var s=0,l=a.length;s<l;s++)r=a[s],this._dynamicCollisionTree.query(r.body,(function(t){if(i._shouldGenerateCollisionPair(r,t.collider)){var e=new tn(r,t.collider);i._collisionHash[e.id]=!0,i._collisionPairCache.push(e)}return!1}));if(n&&(n.physics.pairs=this._collisionPairCache.length),it.checkForFastBodies)for(var u=function(t){if(t.type!==at.Active)return"continue";var e=t.body.vel.size*o+.5*t.body.acc.size*o*o,r=Math.min(t.bounds.height,t.bounds.width);if(it.disableMinimumSpeedForFastBody||e>r/2){n&&n.physics.fastBodies++;var i,a=t.body.pos.sub(t.body.oldPos),s=t.shape.center,l=t.shape.getFurthestPoint(t.body.vel),u=l.sub(a),h=new q(u,t.body.vel);h.pos=h.pos.add(h.dir.scale(-2*it.surfaceEpsilon));var f=new V(1/0,1/0);if(c._dynamicCollisionTree.rayCastQuery(h,e+2*it.surfaceEpsilon,(function(n){if(t.body!==n&&n.collider.shape&&tn.canCollide(t,n.collider)){var r=n.collider.shape.rayCast(h,e+10*it.surfaceEpsilon);if(r){var o=r.sub(u);o.size<f.size&&(f=o,i=n)}}return!1})),i&&V.isValid(f)){var p=new tn(t,i.collider);c._collisionHash[p.id]||(c._collisionHash[p.id]=!0,c._collisionPairCache.push(p));var d=s.sub(l);t.body.pos=u.add(d).add(f).add(h.dir.scale(2*it.surfaceEpsilon)),t.shape.recalc(),n&&n.physics.fastBodyCollisions++}}},c=this,h=0,f=a;h<f.length;h++)u(f[h]);return this._collisionPairCache},t.prototype.narrowphase=function(t,e){for(var n=0;n<t.length;n++)t[n].collide(),e&&t[n].collision&&(e.physics.collisions++,e.physics.collidersHash[t[n].id]=t[n]);return t.filter((function(t){return t.collision}))},t.prototype.resolve=function(t,e,n){for(var r=0,i=t;r<i.length;r++){var o=i[r];o.resolve(n),o.collision&&(o.colliderA.body.applyMtv(),o.colliderB.body.applyMtv(),o.colliderA.body.integrate(e*it.collisionShift),o.colliderB.body.integrate(e*it.collisionShift))}return t.filter((function(t){return t.canCollide}))},t.prototype.runCollisionStartEnd=function(t){for(var e={},n=0,r=t;n<r.length;n++)if(e[(l=r[n]).id]=l,!this._lastFramePairsHash[l.id]){var i=l.colliderA,o=l.colliderB;i.emit("collisionstart",new Mt(i,o,l)),o.emit("collisionstart",new Mt(o,i,l))}for(var a=0,s=this._lastFramePairs;a<s.length;a++){var l;e[(l=s[a]).id]||(i=l.colliderA,o=l.colliderB,i.emit("collisionend",new Bt(i,o)),o.emit("collisionend",new Bt(o,i)))}this._lastFramePairs=t,this._lastFramePairsHash=e},t.prototype.update=function(t){for(var e=0,n=t.length,r=0;r<n;r++)this._dynamicCollisionTree.updateBody(t[r])&&e++;return e},t.prototype.debugDraw=function(t){if(it.broadphaseDebug&&this._dynamicCollisionTree.debugDraw(t),it.showContacts||it.showCollisionNormals)for(var e=0,n=this._collisionPairCache;e<n.length;e++)n[e].debugDraw(t)},t}(),Fn=function(){function t(t){this._getComparable=t}return t.prototype.find=function(t){return this._find(this._root,t)},t.prototype._find=function(t,e){return null!=t&&(this._getComparable(e)===t.getKey()?t.getData().indexOf(e)>-1:this._getComparable(e)<t.getKey()?this._find(t.getLeft(),e):this._find(t.getRight(),e))},t.prototype.get=function(t){return this._get(this._root,t)},t.prototype._get=function(t,e){return null==t?[]:e===t.getKey()?t.getData():e<t.getKey()?this._get(t.getLeft(),e):this._get(t.getRight(),e)},t.prototype.add=function(t){return null==this._root?(this._root=new In(this._getComparable(t),[t],null,null),!0):this._insert(this._root,t)},t.prototype._insert=function(t,e){return null!=t&&(this._getComparable(e)===t.getKey()?!(t.getData().indexOf(e)>-1)&&(t.getData().push(e),!0):this._getComparable(e)<t.getKey()?null==t.getLeft()?(t.setLeft(new In(this._getComparable.call(e,e),[e],null,null)),!0):this._insert(t.getLeft(),e):null==t.getRight()?(t.setRight(new In(this._getComparable.call(e,e),[e],null,null)),!0):this._insert(t.getRight(),e))},t.prototype.removeByComparable=function(t){this._root=this._remove(this._root,t)},t.prototype._remove=function(t,e){if(null==t)return null;if(this._getComparable(e)!==t.getKey())return this._getComparable(e)<t.getKey()?(t.setLeft(this._remove(t.getLeft(),e)),t):(t.setRight(this._remove(t.getRight(),e)),t);var n=t.getData().indexOf(e);if(n>-1){if(t.getData().splice(n,1),0===t.getData().length){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var r=this._findMinNode(t.getRight());return t.setKey(r.getKey()),t.setData(r.getData()),t.setRight(this._cleanup(t.getRight(),r)),t}return t}return null},t.prototype._cleanup=function(t,e){var n=e.getKey();if(null==t)return null;if(n===t.getKey()){if(null==t.getLeft()&&null==t.getRight())return null;if(null==t.getLeft())return t.getRight();if(null==t.getRight())return t.getLeft();var r=this._findMinNode(t.getRight());return t.setKey(r.getKey()),t.setData(r.getData()),t.setRight(this._cleanup(t.getRight(),r)),t}return e.getKey()<t.getKey()?(t.setLeft(this._cleanup(t.getLeft(),e)),t):(t.setRight(this._cleanup(t.getRight(),e)),t)},t.prototype._findMinNode=function(t){for(var e=t;null!=e.getLeft();)e=e.getLeft();return e},t.prototype.list=function(){var t=new Array;return this._list(this._root,t),t},t.prototype._list=function(t,e){null!=t&&(this._list(t.getLeft(),e),t.getData().forEach((function(t){e.push(t)})),this._list(t.getRight(),e))},t}(),In=function(){function t(t,e,n,r){this._key=t,this._data=e,this._left=n,this._right=r}return t.prototype.getKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t.prototype.getData=function(){return this._data},t.prototype.setData=function(t){this._data=t},t.prototype.getLeft=function(){return this._left},t.prototype.setLeft=function(t){this._left=t},t.prototype.getRight=function(){return this._right},t.prototype.setRight=function(t){this._right=t},t}(),Ln=function(){function t(t){this._key=0,this._key=t}return t.prototype.getTheKey=function(){return this._key},t.prototype.setKey=function(t){this._key=t},t}(),Nn=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Un=function(){function t(t){this.camera=t}return t.prototype.lockToActor=function(t){this.camera.addStrategy(new Qn(t))},t.prototype.lockToActorAxis=function(t,e){this.camera.addStrategy(new Gn(t,e))},t.prototype.elasticToActor=function(t,e,n){this.camera.addStrategy(new Zn(t,e,n))},t.prototype.radiusAroundActor=function(t,e){this.camera.addStrategy(new Xn(t,e))},t.prototype.limitCameraBounds=function(t){this.camera.addStrategy(new Kn(t))},t}();!function(t){t[t.X=0]="X",t[t.Y=1]="Y"}(_n||(_n={}));var Hn,Wn,Vn,qn,Qn=function(t){this.target=t,this.action=function(t,e,n,r){return t.center}},Gn=function(t,e){var n=this;this.target=t,this.axis=e,this.action=function(t,e,r,i){var o=t.center,a=e.getFocus();return n.axis===_n.X?new V(o.x,a.y):new V(a.x,o.y)}},Zn=function(t,e,n){var r=this;this.target=t,this.cameraElasticity=e,this.cameraFriction=n,this.action=function(t,e,n,i){var o=t.center,a=e.getFocus(),s=e.vel.clone(),l=o.sub(a).scale(r.cameraElasticity),u=(s=s.add(l)).scale(-1).scale(r.cameraFriction);return s=s.add(u),a.add(s)}},Xn=function(t,e){var n=this;this.target=t,this.radius=e,this.action=function(t,e,r,i){var o=t.center,a=e.getFocus(),s=o.sub(a),l=s.size;if(l>=n.radius){var u=l-n.radius;return a.add(s.normalize().scale(u))}return a}},Kn=function(t){var e=this;this.target=t,this.boundSizeChecked=!1,this.action=function(t,n,r,i){var o=n.getFocus();return e.boundSizeChecked||((t.bottom-t.top<r.drawHeight||t.right-t.left<r.drawWidth)&&R.getInstance().warn("Camera bounds should not be smaller than the engine viewport"),e.boundSizeChecked=!0),o.x<t.left+r.halfDrawWidth?o.x=t.left+r.halfDrawWidth:o.x>t.right-r.halfDrawWidth&&(o.x=t.right-r.halfDrawWidth),o.y<t.top+r.halfDrawHeight?o.y=t.top+r.halfDrawHeight:o.y>t.bottom-r.halfDrawHeight&&(o.y=t.bottom-r.halfDrawHeight),o}},Yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._cameraStrategies=[],e.strategy=new Un(e),e.z=1,e.dz=0,e.az=0,e.rotation=0,e.rx=0,e.pos=V.Zero,e.vel=V.Zero,e.acc=V.Zero,e._cameraMoving=!1,e._currentLerpTime=0,e._lerpDuration=1e3,e._lerpStart=null,e._lerpEnd=null,e._isShaking=!1,e._shakeMagnitudeX=0,e._shakeMagnitudeY=0,e._shakeDuration=0,e._elapsedShakeTime=0,e._xShake=0,e._yShake=0,e._isZooming=!1,e._zoomStart=1,e._zoomEnd=1,e._currentZoomTime=0,e._zoomDuration=0,e._zoomEasing=Ne.EaseInOutCubic,e._easing=Ne.EaseInOutCubic,e._isInitialized=!1,e}return Nn(e,t),Object.defineProperty(e.prototype,"angularVelocity",{get:function(){return this.rx},set:function(t){this.rx=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.pos.x},set:function(t){this._follow||this._cameraMoving||(this.pos.x=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.pos.y},set:function(t){this._follow||this._cameraMoving||(this.pos.y=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dx",{get:function(){return this.vel.x},set:function(t){this.vel.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dy",{get:function(){return this.vel.y},set:function(t){this.vel.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ax",{get:function(){return this.acc.x},set:function(t){this.acc.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ay",{get:function(){return this.acc.y},set:function(t){this.acc.y=t},enumerable:!1,configurable:!0}),e.prototype.getFocus=function(){return this.pos},e.prototype.move=function(t,e,n){if(void 0===n&&(n=Ne.EaseInOutCubic),"function"!=typeof n)throw"Please specify an EasingFunction";return this._follow?(new p).reject(t):(this._lerpPromise&&this._lerpPromise.state()===u.Pending&&this._lerpPromise.resolve(t),this._lerpPromise=new p,this._lerpStart=this.getFocus().clone(),this._lerpDuration=e,this._lerpEnd=t,this._currentLerpTime=0,this._cameraMoving=!0,this._easing=n,this._lerpPromise)},e.prototype.shake=function(t,e,n){this._isShaking=!0,this._shakeMagnitudeX=t,this._shakeMagnitudeY=e,this._shakeDuration=n},e.prototype.zoom=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=Ne.EaseInOutCubic),this._zoomPromise=new p,e?(this._isZooming=!0,this._zoomEasing=n,this._currentZoomTime=0,this._zoomDuration=e,this._zoomStart=this.z,this._zoomEnd=t):(this._isZooming=!1,this.z=t,this._zoomPromise.resolve(!0)),this._zoomPromise},e.prototype.getZoom=function(){return this.z},Object.defineProperty(e.prototype,"viewport",{get:function(){if(this._engine){var t=this._engine.halfDrawWidth,e=this._engine.halfDrawHeight;return new Zt(this.x-t,this.y-e,this.x+t,this.y+e)}return new Zt(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.addStrategy=function(t){this._cameraStrategies.push(t)},e.prototype.removeStrategy=function(t){A(t,this._cameraStrategies)},e.prototype.clearAllStrategies=function(){this._cameraStrategies.length=0},e.prototype._preupdate=function(t,e){this.emit("preupdate",new _t(t,e,this)),this.onPreUpdate(t,e)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t,e){this.emit("postupdate",new mt(t,e,this)),this.onPostUpdate(t,e)},e.prototype.onPostUpdate=function(t,e){},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._initialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new Dt(e,this)),this._isInitialized=!0,this._engine=e)},e.prototype.onInitialize=function(t){},e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.update=function(t,e){if(this._initialize(t),this._preupdate(t,e),this.pos=this.pos.add(this.vel.scale(e/1e3)),this.z+=this.dz*e/1e3,this.vel=this.vel.add(this.acc.scale(e/1e3)),this.dz+=this.az*e/1e3,this.rotation+=this.angularVelocity*e/1e3,this._isZooming)if(this._currentZoomTime<this._zoomDuration){var n=(0,this._zoomEasing)(this._currentZoomTime,this._zoomStart,this._zoomEnd,this._zoomDuration);this.z=n,this._currentZoomTime+=e}else this._isZooming=!1,this.z=this._zoomEnd,this._currentZoomTime=0,this._zoomPromise.resolve(!0);if(this._cameraMoving)if(this._currentLerpTime<this._lerpDuration){var r=Ne.CreateVectorEasingFunction(this._easing)(this._currentLerpTime,this._lerpStart,this._lerpEnd,this._lerpDuration);this.pos=r,this._currentLerpTime+=e}else{this.pos=this._lerpEnd;var i=this._lerpEnd.clone();this._lerpStart=null,this._lerpEnd=null,this._currentLerpTime=0,this._cameraMoving=!1,this._lerpPromise.resolve(i)}this._isDoneShaking()?(this._isShaking=!1,this._elapsedShakeTime=0,this._shakeMagnitudeX=0,this._shakeMagnitudeY=0,this._shakeDuration=0,this._xShake=0,this._yShake=0):(this._elapsedShakeTime+=e,this._xShake=1+(Math.random()*this._shakeMagnitudeX|0),this._yShake=1+(Math.random()*this._shakeMagnitudeY|0));for(var o=0,a=this._cameraStrategies;o<a.length;o++){var s=a[o];this.pos=s.action.call(s,s.target,this,t,e)}this._postupdate(t,e)},e.prototype.draw=function(t){var e=this.getFocus(),n=t.canvas.width,r=t.canvas.height,i=this._engine?this._engine.pixelRatio:window.devicePixelRatio,o=this.getZoom(),a=n/o/i,s=r/o/i;t.scale(o,o),t.translate(-e.x+a/2+this._xShake,-e.y+s/2+this._yShake)},e.prototype.debugDraw=function(t){var e=this.getFocus();t.fillStyle="red",t.strokeStyle="white",t.lineWidth=3,t.beginPath(),t.arc(e.x,e.y,15,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.arc(e.x,e.y,5,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.setLineDash([5,15]),t.lineWidth=5,t.strokeStyle="white",t.strokeRect(this.viewport.left,this.viewport.top,this.viewport.width,this.viewport.height),t.closePath()},e.prototype._isDoneShaking=function(){return!this._isShaking||this._elapsedShakeTime>=this._shakeDuration},e}(Jt),$n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Em=0]="Em",t[t.Rem=1]="Rem",t[t.Px=2]="Px",t[t.Pt=3]="Pt",t[t.Percent=4]="Percent"}(Hn||(Hn={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Start=3]="Start",t[t.End=4]="End"}(Wn||(Wn={})),function(t){t[t.Top=0]="Top",t[t.Hanging=1]="Hanging",t[t.Middle=2]="Middle",t[t.Alphabetic=3]="Alphabetic",t[t.Ideographic=4]="Ideographic",t[t.Bottom=5]="Bottom"}(Vn||(Vn={})),function(t){t[t.Normal=0]="Normal",t[t.Italic=1]="Italic",t[t.Oblique=2]="Oblique"}(qn||(qn={}));var Jn=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return $n(e,t),e}(fe(function(t){function e(e,n,r,i,o){var a=t.call(this,e&&"object"==typeof e?e:{pos:new V(n,r)})||this;a.bold=!1,a.fontSize=10,a.fontStyle=qn.Normal,a.fontUnit=Hn.Px,a.textAlign=Wn.Left,a.baseAlign=Vn.Bottom,a.letterSpacing=0,a.caseInsensitive=!0;var s="";return e&&"object"==typeof e?(i=e.fontFamily,o=e.spriteFont,s=e.text):s=e,a.text=s||"",a.color=tt.Black,a.spriteFont=o,a.body.collider.type=at.PreventCollision,a.fontFamily=i||"sans-serif",a._textShadowOn=!1,a._shadowOffsetX=0,a._shadowOffsetY=0,a}return $n(e,t),e.prototype.getTextWidth=function(t){var e=t.font;t.font=this._fontString;var n=t.measureText(this.text).width;return t.font=e,n},e.prototype._lookupFontUnit=function(t){switch(t){case Hn.Em:return"em";case Hn.Rem:return"rem";case Hn.Pt:return"pt";case Hn.Px:return"px";case Hn.Percent:return"%";default:return"px"}},e.prototype._lookupTextAlign=function(t){switch(t){case Wn.Left:return"left";case Wn.Right:return"right";case Wn.Center:return"center";case Wn.End:return"end";case Wn.Start:default:return"start"}},e.prototype._lookupBaseAlign=function(t){switch(t){case Vn.Alphabetic:return"alphabetic";case Vn.Bottom:return"bottom";case Vn.Hanging:return"hanging";case Vn.Ideographic:return"ideographic";case Vn.Middle:return"middle";case Vn.Top:return"top";default:return"alphabetic"}},e.prototype._lookupFontStyle=function(t){var e=this.bold?" bold":"";switch(t){case qn.Italic:return"italic"+e;case qn.Normal:return"normal"+e;case qn.Oblique:return"oblique"+e;default:return"normal"+e}},e.prototype.setTextShadow=function(t,e,n){this.spriteFont.setTextShadow(t,e,n)},e.prototype.useTextShadow=function(t){this.spriteFont.useTextShadow(t)},e.prototype.clearTextShadow=function(){this._textShadowOn=!1,this._shadowOffsetX=0,this._shadowOffsetY=0},e.prototype.update=function(e,n){t.prototype.update.call(this,e,n)},e.prototype.draw=function(e,n){e.save(),e.translate(this.pos.x,this.pos.y),e.scale(this.scale.x,this.scale.y),e.rotate(this.rotation),this._textShadowOn&&(e.save(),e.translate(this._shadowOffsetX,this._shadowOffsetY),this._fontDraw(e),e.restore()),this._fontDraw(e),t.prototype.draw.call(this,e,n),e.restore()},e.prototype._fontDraw=function(t){if(this.spriteFont)this.spriteFont.draw(t,this.text,0,0,{color:this.color.clone(),baseAlign:this.baseAlign,textAlign:this.textAlign,fontSize:this.fontSize,letterSpacing:this.letterSpacing,opacity:this.opacity});else{var e=t.textAlign,n=t.textBaseline;t.textAlign=this._lookupTextAlign(this.textAlign),t.textBaseline=this._lookupBaseAlign(this.baseAlign),this.color&&(this.color.a=this.opacity),t.fillStyle=this.color.toString(),t.font=this._fontString,this.maxWidth?t.fillText(this.text,0,0,this.maxWidth):t.fillText(this.text,0,0),t.textAlign=e,t.textBaseline=n}},Object.defineProperty(e.prototype,"_fontString",{get:function(){return this._lookupFontStyle(this.fontStyle)+" "+this.fontSize+this._lookupFontUnit(this.fontUnit)+" "+this.fontFamily},enumerable:!1,configurable:!0}),e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e)},e}(mn))),tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),er={pos:V.Zero,width:10,height:10,visible:!1,action:function(){},filter:function(){return!0},repeat:-1},nr=function(t){function e(e){var n=t.call(this,e.pos.x,e.pos.y,e.width,e.height)||this;return n.action=function(){},n.filter=function(){return!0},n.repeat=-1,e=y({},er,e),n.filter=e.filter||n.filter,n.repeat=e.repeat||n.repeat,n.action=e.action||n.action,e.target&&(n.target=e.target),n.visible=e.visible,n.body.collider.type=at.Passive,n.eventDispatcher=new $t(n),n.actionQueue=new Le(n),n.on("collisionstart",(function(t){yn(t.other)&&n.filter(t.other)&&(n.emit("enter",new It(n,t.other)),n._dispatchAction(),0===n.repeat&&n.kill())})),n.on("collisionend",(function(t){yn(t.other)&&n.filter(t.other)&&n.emit("exit",new Lt(n,t.other))})),n}return tr(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t,this.filter=function(e){return e===t}},enumerable:!1,configurable:!0}),e.prototype._initialize=function(e){t.prototype._initialize.call(this,e)},e.prototype._dispatchAction=function(){this.action.call(this),this.repeat--},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.save(),e.translate(this.pos.x,this.pos.y);var n=this.body.collider.bounds,r=this.getWorldPos();n.left=n.left-r.x,n.right=n.right-r.x,n.top=n.top-r.y,n.bottom=n.bottom-r.y,e.fillStyle=tt.Violet.toString(),e.strokeStyle=tt.Violet.toString(),e.fillText("Trigger",10,10),n.debugDraw(e),e.restore()},e}(mn);function rr(t){return t instanceof bn}var ir,or=function(t){return t.sort((function(t,e){return t.localeCompare(e)})).join("+")};!function(t){t.Update="update",t.Draw="draw"}(ir||(ir={}));var ar=function(){function t(){this.priority=0}return t.prototype.notify=function(t){},t}(),sr=function(t){this.data=t,this.type="Entity Added"};function lr(t){return!!t&&"Entity Added"===t.type}var ur=function(t){this.data=t,this.type="Entity Removed"};function cr(t){return!!t&&"Entity Removed"===t.type}var hr,fr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pr=function(t){function e(e){var n=t.call(this)||this;return n.types=e,n.entities=[],n}return fr(e,t),Object.defineProperty(e.prototype,"key",{get:function(){return or(this.types)},enumerable:!1,configurable:!0}),e.prototype.addEntity=function(t){!c.contains(this.entities,t)&&this.matches(t)&&(this.entities.push(t),this.notifyAll(new sr(t)))},e.prototype.removeEntity=function(t){c.removeItemFromArray(t,this.entities)&&this.notifyAll(new ur(t))},e.prototype.clear=function(){this.entities.length=0;for(var t=0,e=this.observers;t<e.length;t++){var n=e[t];this.unregister(n)}},e.prototype.matches=function(t){var e=[];e=t instanceof pn?t.types:t;for(var n=!0,r=0,i=this.types;r<i.length;r++){var o=i[r];if(!(n=n&&e.indexOf(o)>-1))return!1}return n},e}(sn),dr=function(){function t(t){this.scene=t,this._queries={}}return t.prototype._addQuery=function(t){this._queries[or(t.types)]=t;for(var e=0,n=this.scene.entityManager.entities;e<n.length;e++){var r=n[e];t.addEntity(r)}},t.prototype.maybeRemoveQuery=function(t){0===t.observers.length&&(t.clear(),delete this._queries[or(t.types)])},t.prototype.addEntity=function(t){for(var e in this._queries)this._queries[e]&&this._queries[e].addEntity(t)},t.prototype.removeComponent=function(t,e){for(var n in this._queries)this._queries[n].matches(t.types.concat([e.type]))&&this._queries[n].removeEntity(t)},t.prototype.removeEntity=function(t){for(var e in this._queries)this._queries[e].entities.indexOf(t)>-1&&this._queries[e].removeEntity(t)},t.prototype.createQuery=function(t){var e=this.getQuery(t);if(e)return e;var n=new pr(t);return this._addQuery(n),n},t.prototype.getQuery=function(t){var e=or(t);return this._queries[e]?this._queries[e]:null},t}(),gr=function(){function t(t){this._scene=t,this.entities=[],this._entityIndex={}}return t.prototype.notify=function(t){cn(t)&&this._scene.queryManager.addEntity(t.data.entity),fn(t)&&this._scene.queryManager.removeComponent(t.data.entity,t.data.component)},t.prototype.addEntity=function(t){t&&(this._entityIndex[t.id]=t,this.entities.push(t),this._scene.queryManager.addEntity(t),t.changes.register(this))},t.prototype.removeEntity=function(t){var e;e=t instanceof pn?t.id:t;var n=this._entityIndex[e];delete this._entityIndex[e],n&&(c.removeItemFromArray(n,this.entities),this._scene.queryManager.removeEntity(n),n.changes.unregister(this))},t.prototype.processRemovals=function(){for(var t=0,e=this.entities;t<e.length;t++)e[t].processRemoval()},t.prototype.getById=function(t){return this._entityIndex[t]},t}(),yr=function(){function t(t){this._scene=t,this.systems=[]}return t.prototype.addSystem=function(t){if(!t.types||0===t.types.length)throw new Error("Attempted to add a System without any types");var e=this._scene.queryManager.createQuery(t.types);this.systems.push(t),this.systems.sort((function(t,e){return t.priority-e.priority})),e.register(t)},t.prototype.removeSystem=function(t){c.removeItemFromArray(t,this.systems);var e=this._scene.queryManager.getQuery(t.types);e&&(e.unregister(t),this._scene.queryManager.maybeRemoveQuery(e))},t.prototype.updateSystems=function(t,e,n){for(var r=this.systems.filter((function(e){return e.systemType===t})),i=0,o=r;i<o.length;i++)(l=o[i]).preupdate&&l.preupdate(e,n);for(var a=0,s=r;a<s.length;a++){var l=s[a],u=this._scene.queryManager.getQuery(l.types).entities;l.update(u,n)}for(var c=0,h=r;c<h.length;c++)(l=h[c]).postupdate&&l.postupdate(e,n)},t}(),_r=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mr=function(t){function e(e){var n=t.call(this)||this;return n.actors=[],n.queryManager=new dr(n),n.entityManager=new gr(n),n.systemManager=new yr(n),n._bodies=[],n.triggers=[],n.tileMaps=[],n.screenElements=[],n._isInitialized=!1,n._sortedDrawingTree=new Fn(mn.prototype.getZIndex),n._broadphase=new zn,n._killQueue=[],n._triggerKillQueue=[],n._timers=[],n._cancelQueue=[],n._logger=R.getInstance(),n.camera=new Yn,n._engine=e,e&&(n.camera.x=e.halfDrawWidth,n.camera.y=e.halfDrawHeight),n}return _r(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.onInitialize=function(t){},e.prototype.onActivate=function(t,e){},e.prototype.onDeactivate=function(t,e){},e.prototype.onPreUpdate=function(t,e){},e.prototype.onPostUpdate=function(t,e){},e.prototype.onPreDraw=function(t,e){},e.prototype.onPostDraw=function(t,e){},e.prototype._initializeChildren=function(){for(var t=0,e=this.actors;t<e.length;t++)e[t]._initialize(this._engine)},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._initialize=function(t){this.isInitialized||(this._engine=t,this.camera&&(this.camera.x=t.halfDrawWidth,this.camera.y=t.halfDrawHeight),this.onInitialize.call(this,t),this._initializeChildren(),this._logger.debug("Scene.onInitialize",this,t),this.eventDispatcher.emit("initialize",new Dt(t,this)),this._isInitialized=!0)},e.prototype._activate=function(t,e){this._logger.debug("Scene.onActivate",this),this.onActivate(t,e)},e.prototype._deactivate=function(t,e){this._logger.debug("Scene.onDeactivate",this),this.onDeactivate(t,e)},e.prototype._preupdate=function(t,e){this.emit("preupdate",new _t(t,e,this)),this.onPreUpdate(t,e)},e.prototype._postupdate=function(t,e){this.emit("postupdate",new mt(t,e,this)),this.onPostUpdate(t,e)},e.prototype._predraw=function(t,e){this.emit("predraw",new pt(t,e,this)),this.onPreDraw(t,e)},e.prototype._postdraw=function(t,e){this.emit("postdraw",new dt(t,e,this)),this.onPostDraw(t,e)},e.prototype.update=function(t,e){var n,r;for(this._preupdate(t,e),this.systemManager.updateSystems(ir.Update,t,e),this.entityManager.processRemovals(),this.camera&&this.camera.update(t,e),n=0,r=this._cancelQueue.length;n<r;n++)this.removeTimer(this._cancelQueue[n]);this._cancelQueue.length=0;for(var i=0,o=this._timers;i<o.length;i++)o[i].update(e);for(n=0,r=this.screenElements.length;n<r;n++)this.screenElements[n].update(t,e);for(n=0,r=this.tileMaps.length;n<r;n++)this.tileMaps[n].update(t,e);for(n=0,r=this.actors.length;n<r;n++)this.actors[n].update(t,e),this._bodies[n]=this.actors[n].body;for(n=0,r=this.triggers.length;n<r;n++)this.triggers[n].update(t,e);if(this._collectActorStats(t),t.input.pointers.dispatchPointerEvents(),this._broadphase&&it.enabled){var a=Date.now();this._broadphase.update(this._bodies,e);for(var s=this._broadphase.broadphase(this._bodies,e,t.stats.currFrame),l=Date.now(),u=Date.now(),c=it.collisionPasses,h=e/c;c>0;)s=this._broadphase.narrowphase(s,t.stats.currFrame),s=this._broadphase.resolve(s,h,it.collisionResolutionStrategy),this._broadphase.runCollisionStartEnd(s),c--;var f=Date.now();t.stats.currFrame.physics.broadphase=l-a,t.stats.currFrame.physics.narrowphase=f-u}t.stats.currFrame.actors.killed=this._killQueue.length+this._triggerKillQueue.length,this._processKillQueue(this._killQueue,this.actors),this._processKillQueue(this._triggerKillQueue,this.triggers),this._postupdate(t,e)},e.prototype._processKillQueue=function(t,e){for(var n,r=0,i=t;r<i.length;r++){var o=i[r];o.isKilled()&&(n=e.indexOf(o))>-1&&(this._sortedDrawingTree.removeByComparable(o),e.splice(n,1))}t.length=0},e.prototype.draw=function(t,e){var n,r;for(this._predraw(t,e),t.save(),this.camera&&this.camera.draw(t),this.systemManager.updateSystems(ir.Draw,this._engine,e),this.entityManager.processRemovals(),n=0,r=this.tileMaps.length;n<r;n++)this.tileMaps[n].draw(t,e);var i=this._sortedDrawingTree.list();for(n=0,r=i.length;n<r;n++)i[n].visible&&!i[n].isOffScreen&&i[n].draw(t,e);for(this._engine&&this._engine.isDebug&&(t.strokeStyle="yellow",this.debugDraw(t)),t.restore(),n=0,r=this.screenElements.length;n<r;n++)this.screenElements[n].visible&&this.screenElements[n].draw(t,e);if(this._engine&&this._engine.isDebug)for(n=0,r=this.screenElements.length;n<r;n++)this.screenElements[n].debugDraw(t);this._postdraw(t,e)},e.prototype.debugDraw=function(t){var e,n;for(this.emit("predebugdraw",new gt(t,this)),e=0,n=this.tileMaps.length;e<n;e++)this.tileMaps[e].debugDraw(t);for(e=0,n=this.actors.length;e<n;e++)this.actors[e].debugDraw(t);for(e=0,n=this.triggers.length;e<n;e++)this.triggers[e].debugDraw(t);this._broadphase.debugDraw(t,20),this.camera.debugDraw(t),this.emit("postdebugdraw",new yt(t,this))},e.prototype.contains=function(t){return this.actors.indexOf(t)>-1},e.prototype.add=function(t){t instanceof mn&&t.unkill(),t instanceof bn?C(this.screenElements,t)||this.addScreenElement(t):t instanceof mn?C(this.actors,t)||this._addChild(t):t instanceof xn?C(this._timers,t)||this.addTimer(t):t instanceof En&&(C(this.tileMaps,t)||this.addTileMap(t))},e.prototype.remove=function(t){t instanceof bn?this.removeScreenElement(t):(t instanceof mn&&this._removeChild(t),t instanceof xn&&this.removeTimer(t),t instanceof En&&this.removeTileMap(t))},e.prototype.addScreenElement=function(t){this.screenElements.push(t),t.scene=this},e.prototype.removeScreenElement=function(t){var e=this.screenElements.indexOf(t);e>-1&&this.screenElements.splice(e,1)},e.prototype._addChild=function(t){this._broadphase.track(t.body),t.scene=this,t instanceof nr?this.triggers.push(t):this.actors.push(t),this._sortedDrawingTree.add(t)},e.prototype.addTileMap=function(t){this.tileMaps.push(t)},e.prototype.removeTileMap=function(t){var e=this.tileMaps.indexOf(t);e>-1&&this.tileMaps.splice(e,1)},e.prototype._removeChild=function(t){C(this.actors,t)&&(this._broadphase.untrack(t.body),t instanceof nr?this._triggerKillQueue.push(t):(t.isKilled()||t.kill(),this._killQueue.push(t)),t.parent=null)},e.prototype.addTimer=function(t){return this._timers.push(t),t.scene=this,t},e.prototype.removeTimer=function(t){var e=this._timers.indexOf(t);return-1!==e&&this._timers.splice(e,1),t},e.prototype.cancelTimer=function(t){return this._cancelQueue.push(t),t},e.prototype.isTimerActive=function(t){return this._timers.indexOf(t)>-1&&!t.complete},e.prototype.cleanupDrawTree=function(t){this._sortedDrawingTree.removeByComparable(t)},e.prototype.updateDrawTree=function(t){this._sortedDrawingTree.add(t)},e.prototype.isActorInDrawTree=function(t){return this._sortedDrawingTree.find(t)},e.prototype.isCurrentScene=function(){return!!this._engine&&this._engine.currentScene===this},e.prototype._collectActorStats=function(t){for(var e=0,n=this.screenElements;e<n.length;e++)n[e],t.stats.currFrame.actors.ui++;for(var r=0,i=this.actors;r<i.length;r++){var o=i[r];t.stats.currFrame.actors.alive++;for(var a=0,s=o.children;a<s.length;a++)rr(s[a])?t.stats.currFrame.actors.ui++:t.stats.currFrame.actors.alive++}},e}(Jt);!function(t){t[t.Protanope=0]="Protanope",t[t.Deuteranope=1]="Deuteranope",t[t.Tritanope=2]="Tritanope"}(hr||(hr={}));var vr,br=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=hr.Protanope),this.engine=t,this.simulate=e,this.colorMode=n,this._vertexShader="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}",this._fragmentShader="precision mediump float;uniform sampler2D u_image;varying vec2 v_texCoord;void main() {vec4 o =  texture2D(u_image, v_texCoord);float L = (17.8824 * o.r) + (43.5161 * o.g) + (4.11935 * o.b);float M = (3.45565 * o.r) + (27.1554 * o.g) + (3.86714 * o.b);float S = (0.0299566 * o.r) + (0.184309 * o.g) + (1.46709 * o.b);//MODE CODE//vec4 error;error.r = (0.0809444479 * l) + (-0.130504409 * m) + (0.116721066 * s);error.g = (-0.0102485335 * l) + (0.0540193266 * m) + (-0.113614708 * s);error.b = (-0.000365296938 * l) + (-0.00412161469 * m) + (0.693511405 * s);error.a = 1.0;vec4 diff = o - error;vec4 correction;correction.r = 0.0;correction.g =  (diff.r * 0.7) + (diff.g * 1.0);correction.b =  (diff.r * 0.7) + (diff.b * 1.0);correction = o + correction;correction.a = o.a;//SIMULATE//}",this._internalCanvas=document.createElement("canvas"),this._internalCanvas.width=t.drawWidth,this._internalCanvas.height=t.drawHeight,this._gl=this._internalCanvas.getContext("webgl",{preserveDrawingBuffer:!0}),this._program=this._gl.createProgram();var r=this._getShader("Fragment",this._getFragmentShaderByMode(n)),i=this._getShader("Vertex",this._vertexShader);this._gl.attachShader(this._program,i),this._gl.attachShader(this._program,r),this._gl.linkProgram(this._program),this._gl.getProgramParameter(this._program,this._gl.LINK_STATUS)||R.getInstance().error("Unable to link shader program!"),this._gl.useProgram(this._program)}return t.prototype._getFragmentShaderByMode=function(t){var e="";return t===hr.Protanope?e="float l = 0.0 * L + 2.02344 * M + -2.52581 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===hr.Deuteranope?e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.494207 * L + 0.0 * M + 1.24827 * S;float s = 0.0 * L + 0.0 * M + 1.0 * S;":t===hr.Tritanope&&(e="float l = 1.0 * L + 0.0 * M + 0.0 * S;float m = 0.0 * L + 1.0 * M + 0.0 * S;float s = -0.395913 * L + 0.801109 * M + 0.0 * S;"),this.simulate?this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = error.rgba;"):this._fragmentShader=this._fragmentShader.replace("//SIMULATE//","gl_FragColor = correction.rgba;"),this._fragmentShader.replace("//MODE CODE//",e)},t.prototype._setRectangle=function(t,e,n,r){var i=t,o=t+n,a=e,s=e+r;this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([i,a,o,a,i,s,i,s,o,a,o,s]),this._gl.STATIC_DRAW)},t.prototype._getShader=function(t,e){var n;return"Fragment"===t?n=this._gl.createShader(this._gl.FRAGMENT_SHADER):"Vertex"===t?n=this._gl.createShader(this._gl.VERTEX_SHADER):R.getInstance().error("Error unknown shader type",t),this._gl.shaderSource(n,e),this._gl.compileShader(n),this._gl.getShaderParameter(n,this._gl.COMPILE_STATUS)?n:(R.getInstance().error("Unable to compile shader!",this._gl.getShaderInfoLog(n)),null)},t.prototype.process=function(t,e){var n=this._gl.getAttribLocation(this._program,"a_position"),r=this._gl.getAttribLocation(this._program,"a_texCoord"),i=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,i),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),this._gl.STATIC_DRAW),this._gl.enableVertexAttribArray(r),this._gl.vertexAttribPointer(r,2,this._gl.FLOAT,!1,0,0);var o=this._gl.createTexture();this._gl.bindTexture(this._gl.TEXTURE_2D,o),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,1),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,this._gl.RGBA,this._gl.UNSIGNED_BYTE,t);var a=this._gl.getUniformLocation(this._program,"u_resolution");this._gl.uniform2f(a,this._internalCanvas.width,this._internalCanvas.height);var s=this._gl.createBuffer();this._gl.bindBuffer(this._gl.ARRAY_BUFFER,s),this._gl.enableVertexAttribArray(n),this._gl.vertexAttribPointer(n,2,this._gl.FLOAT,!1,0,0),this._setRectangle(0,0,t.width,t.height),this._gl.drawArrays(this._gl.TRIANGLES,0,6);var l=new Uint8Array(t.width*t.height*4);this._gl.readPixels(0,0,t.width,t.height,this._gl.RGBA,this._gl.UNSIGNED_BYTE,l),t.data.set(l),e.putImageData(t,0,0)},t}(),wr=function(){function t(t){this._engine=t}return t.prototype.correct=function(t){this._engine.postProcessors.push(new br(this._engine,!1,t))},t.prototype.simulate=function(t){this._engine.postProcessors.push(new br(this._engine,!0,t))},t}(),xr=function(t){this.stats={currFrame:new Pr,prevFrame:new Pr},this._engine=t,this.colorBlindMode=new wr(this._engine)},Pr=function(){function t(){this._id=0,this._delta=0,this._fps=0,this._actorStats={alive:0,killed:0,ui:0,get remaining(){return this.alive-this.killed},get total(){return this.remaining+this.ui}},this._durationStats={update:0,draw:0,get total(){return this.update+this.draw}},this._physicsStats=new Er}return t.prototype.reset=function(t){t?(this.id=t.id,this.delta=t.delta,this.fps=t.fps,this.actors.alive=t.actors.alive,this.actors.killed=t.actors.killed,this.actors.ui=t.actors.ui,this.duration.update=t.duration.update,this.duration.draw=t.duration.draw,this._physicsStats.reset(t.physics)):(this.id=this.delta=this.fps=0,this.actors.alive=this.actors.killed=this.actors.ui=0,this.duration.update=this.duration.draw=0,this._physicsStats.reset())},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delta",{get:function(){return this._delta},set:function(t){this._delta=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actors",{get:function(){return this._actorStats},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._durationStats},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"physics",{get:function(){return this._physicsStats},enumerable:!1,configurable:!0}),t}(),Er=function(){function t(){this._pairs=0,this._collisions=0,this._collidersHash={},this._fastBodies=0,this._fastBodyCollisions=0,this._broadphase=0,this._narrowphase=0}return t.prototype.reset=function(t){t?(this.pairs=t.pairs,this.collisions=t.collisions,this.collidersHash=t.collidersHash,this.fastBodies=t.fastBodies,this.fastBodyCollisions=t.fastBodyCollisions,this.broadphase=t.broadphase,this.narrowphase=t.narrowphase):(this.pairs=this.collisions=this.fastBodies=0,this.fastBodyCollisions=this.broadphase=this.narrowphase=0,this.collidersHash={})},t.prototype.clone=function(){var e=new t;return e.reset(this),e},Object.defineProperty(t.prototype,"pairs",{get:function(){return this._pairs},set:function(t){this._pairs=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisions",{get:function(){return this._collisions},set:function(t){this._collisions=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collidersHash",{get:function(){return this._collidersHash},set:function(t){this._collidersHash=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fastBodies",{get:function(){return this._fastBodies},set:function(t){this._fastBodies=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fastBodyCollisions",{get:function(){return this._fastBodyCollisions},set:function(t){this._fastBodyCollisions=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"broadphase",{get:function(){return this._broadphase},set:function(t){this._broadphase=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"narrowphase",{get:function(){return this._narrowphase},set:function(t){this._narrowphase=t},enumerable:!1,configurable:!0}),t}(),Sr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Num1=97]="Num1",t[t.Num2=98]="Num2",t[t.Num3=99]="Num3",t[t.Num4=100]="Num4",t[t.Num5=101]="Num5",t[t.Num6=102]="Num6",t[t.Num7=103]="Num7",t[t.Num8=104]="Num8",t[t.Num9=105]="Num9",t[t.Num0=96]="Num0",t[t.Numlock=144]="Numlock",t[t.Semicolon=186]="Semicolon",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.Shift=16]="Shift",t[t.Alt=18]="Alt",t[t.Up=38]="Up",t[t.Down=40]="Down",t[t.Left=37]="Left",t[t.Right=39]="Right",t[t.Space=32]="Space",t[t.Esc=27]="Esc"}(vr||(vr={}));var kr,Ar,Cr=function(t){function e(e){var n=t.call(this)||this;return n.key=e,n}return Sr(e,t),e}(st),Tr=function(t){function e(){var e=t.call(this)||this;return e._keys=[],e._keysUp=[],e._keysDown=[],e}return Sr(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.init=function(t){var e=this;if(!t)try{var n=function(){};window.top.addEventListener("blur",n),window.top.removeEventListener("blur",n),t=window.top}catch(e){t=window,R.getInstance().warn("Failed to bind to keyboard events to top frame. If you are trying to embed Excalibur in a cross-origin iframe, keyboard events will not fire.")}t.addEventListener("blur",(function(){e._keys.length=0})),t.addEventListener("keyup",(function(t){var n=e._normalizeKeyCode(t.keyCode),r=e._keys.indexOf(n);e._keys.splice(r,1),e._keysUp.push(n);var i=new Cr(n);e.eventDispatcher.emit("up",i),e.eventDispatcher.emit("release",i)})),t.addEventListener("keydown",(function(t){var n=e._normalizeKeyCode(t.keyCode);if(-1===e._keys.indexOf(n)){e._keys.push(n),e._keysDown.push(n);var r=new Cr(n);e.eventDispatcher.emit("down",r),e.eventDispatcher.emit("press",r)}}))},e.prototype.update=function(){this._keysDown.length=0,this._keysUp.length=0;for(var t=0;t<this._keys.length;t++)this.eventDispatcher.emit("hold",new Cr(this._keys[t]))},e.prototype.getKeys=function(){return this._keys},e.prototype.wasPressed=function(t){return this._keysDown.indexOf(t)>-1},e.prototype.isHeld=function(t){return this._keys.indexOf(t)>-1},e.prototype.wasReleased=function(t){return this._keysUp.indexOf(t)>-1},e.prototype._normalizeKeyCode=function(t){switch(t){case 59:return vr.Semicolon;default:return t}},e}(Jt),Or=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.Touch="Touch",t.Mouse="Mouse",t.Pen="Pen",t.Unknown="Unknown"}(kr||(kr={})),function(t){t.Canvas="Canvas",t.Document="Document"}(Ar||(Ar={}));var Mr,Br,Dr,Rr=function(t){function e(){var n=t.call(this)||this;return n.id=e._MAX_ID++,n._isDown=!1,n._wasDown=!1,n._actorsUnderPointer={length:0},n._actors=[],n._actorsLastFrame=[],n._actorsNoLongerUnderPointer=[],n.lastPagePos=null,n.lastScreenPos=null,n.lastWorldPos=null,n.dragTarget=null,n.on("move",n._onPointerMove),n.on("down",n._onPointerDown),n.on("up",n._onPointerUp),n}return Or(e,t),Object.defineProperty(e.prototype,"isDragging",{get:function(){return this._isDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDragStart",{get:function(){return!this._wasDown&&this._isDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDragEnd",{get:function(){return this._wasDown&&!this._isDown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasActorsUnderPointer",{get:function(){return!!this._actorsUnderPointer.length},enumerable:!1,configurable:!0}),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.update=function(){this._wasDown&&!this._isDown?this._wasDown=!1:!this._wasDown&&this._isDown&&(this._wasDown=!0),this._actorsLastFrame=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(this._actors),this._actorsNoLongerUnderPointer=[]},e.prototype.addActorUnderPointer=function(t){this.isActorAliveUnderPointer(t)||(this._actorsUnderPointer[t.id]=t,this._actorsUnderPointer.length+=1,this._actors.push(t)),this._actors.sort((function(t,e){return t.z===e.z?t.id-e.id:t.z-e.z}))},e.prototype.removeActorUnderPointer=function(t){this.isActorAliveUnderPointer(t)&&(delete this._actorsUnderPointer[t.id],this._actorsUnderPointer.length-=1,A(t,this._actors),this._actorsNoLongerUnderPointer.push(t))},e.prototype.getActorsUnderPointer=function(){return this._actors},e.prototype.getActorsUnderPointerLastFrame=function(){return this._actorsLastFrame},e.prototype.getActorsForEvents=function(){return this._actors.concat(this._actorsLastFrame).filter((function(t,e,n){return n.indexOf(t)===e}))},e.prototype.checkActorUnderPointer=function(t){return!!this.lastWorldPos&&t.contains(this.lastWorldPos.x,this.lastWorldPos.y,!rr(t))},e.prototype.wasActorUnderPointer=function(t){return this._actorsLastFrame.indexOf(t)>-1},e.prototype.isActorAliveUnderPointer=function(t){return!(t.isKilled()||!t.scene||!this._actorsUnderPointer.hasOwnProperty(t.id.toString()))},e.prototype._onPointerMove=function(t){this.lastPagePos=new V(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new V(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new V(t.worldPos.x,t.worldPos.y)},e.prototype._onPointerDown=function(t){this.lastPagePos=new V(t.pagePos.x,t.pagePos.y),this.lastScreenPos=new V(t.screenPos.x,t.screenPos.y),this.lastWorldPos=new V(t.worldPos.x,t.worldPos.y),this._isDown=!0},e.prototype._onPointerUp=function(t){this._isDown=!1,this.dragTarget=null},e._MAX_ID=0,e}(Jt),jr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.NoButton=-1]="NoButton",t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Unknown=3]="Unknown"}(Mr||(Mr={})),function(t){t.Left="Left",t.Middle="Middle",t.Right="Right",t.Unknown="Unknown",t.NoButton="NoButton"}(Br||(Br={})),function(t){t.Pixel="Pixel",t.Line="Line",t.Page="Page"}(Dr||(Dr={}));var zr=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.coordinates=e,s.pointer=n,s.index=r,s.pointerType=i,s.button=o,s.ev=a,s}return jr(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldPos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pagePos",{get:function(){return this.coordinates.pagePos.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenPos",{get:function(){return this.coordinates.screenPos.clone()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this.coordinates.worldPos.clone()},enumerable:!1,configurable:!0}),e.prototype.propagate=function(t){this.doAction(t),this.bubbles&&t.parent&&this.propagate(t.parent)},e.prototype.doAction=function(t){t&&(this._onActionStart(t),t.emit(this._name,this),this._onActionEnd(t))},e.prototype._onActionStart=function(t){},e.prototype._onActionEnd=function(t){},e}(st),Fr=function(){function t(t){this._pointerEventType=t}return t.prototype.create=function(t,e,n,r,i,o){return new this._pointerEventType(t,e,n,r,i,o)},t}(),Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jr(e,t),e}(zr),Lr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerup",e}return jr(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragEnd&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragend",this)},e}(zr),Nr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerdown",e}return jr(e,t),e.prototype._onActionEnd=function(t){this.pointer.isDragStart&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragstart",this)},e}(zr),Ur=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointermove",e}return jr(e,t),e.prototype.propagate=function(t){this.pointer.isActorAliveUnderPointer(t)&&(this.doAction(t),this.bubbles&&t.parent&&this.propagate(t.parent))},e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents&&this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragmove",this)},e}(zr),Hr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerenter",e}return jr(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragenter",this)},e}(zr),Wr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointerleave",e}return jr(e,t),e.prototype._onActionStart=function(t){t.capturePointer.captureMoveEvents},e.prototype._onActionEnd=function(t){this.pointer.isDragging&&t.capturePointer.captureDragEvents&&t.eventDispatcher.emit("pointerdragleave",this)},e}(zr),Vr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._name="pointercancel",e}return jr(e,t),e}(zr),qr=function(t){function e(e,n,r,i,o,a,s,l,u,c,h,f){var p=t.call(this)||this;return p.x=e,p.y=n,p.pageX=r,p.pageY=i,p.screenX=o,p.screenY=a,p.index=s,p.deltaX=l,p.deltaY=u,p.deltaZ=c,p.deltaMode=h,p.ev=f,p}return jr(e,t),e}(st);function Qr(t,e,n,r,i,o,a){var s;switch(t){case"up":s=new Fr(Lr);break;case"down":s=new Fr(Nr);break;case"move":s=new Fr(Ur);break;case"cancel":s=new Fr(Vr);break;case"enter":s=new Fr(Hr);break;case"leave":s=new Fr(Wr)}return s.create(e,n,r,i,o,a)}var Gr,Zr,Xr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kr=function(t){function e(e){var n=t.call(this)||this;return n._pointerDown=[],n._pointerUp=[],n._pointerMove=[],n._pointerCancel=[],n._wheel=[],n._pointers=[],n._activePointers=[],n._engine=e,n._pointers.push(new Rr),n._activePointers=[-1],n.primary=n._pointers[0],n}return Xr(e,t),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.init=function(t){(t=t||this._engine.canvas).addEventListener("touchstart",this._handleTouchEvent("down",this._pointerDown)),t.addEventListener("touchend",this._handleTouchEvent("up",this._pointerUp)),t.addEventListener("touchmove",this._handleTouchEvent("move",this._pointerMove)),t.addEventListener("touchcancel",this._handleTouchEvent("cancel",this._pointerCancel)),window.PointerEvent?(this._engine.canvas.style.touchAction="none",t.addEventListener("pointerdown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("pointerup",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("pointermove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("pointercancel",this._handlePointerEvent("cancel",this._pointerCancel))):window.MSPointerEvent?(this._engine.canvas.style.msTouchAction="none",t.addEventListener("MSPointerDown",this._handlePointerEvent("down",this._pointerDown)),t.addEventListener("MSPointerUp",this._handlePointerEvent("up",this._pointerUp)),t.addEventListener("MSPointerMove",this._handlePointerEvent("move",this._pointerMove)),t.addEventListener("MSPointerCancel",this._handlePointerEvent("cancel",this._pointerCancel))):(t.addEventListener("mousedown",this._handleMouseEvent("down",this._pointerDown)),t.addEventListener("mouseup",this._handleMouseEvent("up",this._pointerUp)),t.addEventListener("mousemove",this._handleMouseEvent("move",this._pointerMove)));var e={passive:!(this._engine.pageScrollPreventionMode===ti.All||this._engine.pageScrollPreventionMode===ti.Canvas)};"onwheel"in document.createElement("div")?t.addEventListener("wheel",this._handleWheelEvent("wheel",this._wheel),e):void 0!==document.onmousewheel?t.addEventListener("mousewheel",this._handleWheelEvent("wheel",this._wheel),e):t.addEventListener("MozMousePixelScroll",this._handleWheelEvent("wheel",this._wheel),e)},e.prototype.triggerEvent=function(t,e,n,r,i){void 0===n&&(n=Mr.Left),void 0===r&&(r="mouse"),void 0===i&&(i=0);var o,a=0,s=0;e instanceof Z?(a=e.pagePos.x,s=e.pagePos.y,o=e):(a=e.x,s=e.y,o=new Z(e.clone(),e.clone(),e.clone()));var l={pageX:a,pageY:s,pointerId:i,pointerType:r,button:n,preventDefault:function(){}};switch(t){case"move":this._handlePointerEvent(t,this._pointerMove,o)(l);break;case"down":this._handlePointerEvent(t,this._pointerDown,o)(l);break;case"up":this._handlePointerEvent(t,this._pointerUp,o)(l);break;case"cancel":this._handlePointerEvent(t,this._pointerCancel,o)(l)}for(var u=0,c=this._engine.currentScene.actors;u<c.length;u++){var h=c[u],f=h.traits.filter((function(t){return t instanceof Ge}))[0];f&&f.update(h,this._engine,1)}this.dispatchPointerEvents(),this.update()},e.prototype.update=function(){this._pointerUp.length=0,this._pointerDown.length=0,this._pointerMove.length=0,this._pointerCancel.length=0,this._wheel.length=0;for(var t=0;t<this._pointers.length;t++)this._pointers[t].update()},e.prototype.at=function(t){if(t>=this._pointers.length)for(var e=this._pointers.length-1,n=t;e<n;e++)this._pointers.push(new Rr),this._activePointers.push(-1);return this._pointers[t]},e.prototype.count=function(){return this._pointers.length},e.prototype.checkAndUpdateActorUnderPointer=function(t){for(var e=0,n=this._pointers;e<n.length;e++){var r=n[e];r.checkActorUnderPointer(t)?r.addActorUnderPointer(t):r.removeActorUnderPointer(t)}},e.prototype._dispatchWithBubble=function(t){for(var e=0,n=t;e<n.length;e++)for(var r=n[e],i=0,o=r.pointer.getActorsForEvents();i<o.length;i++){var a=o[i];if(r.propagate(a),!r.bubbles)break}},e.prototype._dispatchPointerLeaveEvents=function(){for(var t={},e=[],n=0,r=this._pointerMove;n<r.length;n++)for(var i=r[n],o=0,a=i.pointer.getActorsForEvents();o<a.length;o++){var s=a[o];if(!t[i.pointer.id+"+"+s.id]&&i.pointer.wasActorUnderPointer(s)&&!i.pointer.isActorAliveUnderPointer(s)){t[i.pointer.id+"+"+s.id]=i;var l=Qr("leave",new Z(i.worldPos,i.pagePos,i.screenPos),i.pointer,i.index,i.pointerType,i.button,i.ev);l.propagate(s),e.push(l)}}return e},e.prototype._dispatchPointerEnterEvents=function(){for(var t={},e=[],n=0,r=this._pointerMove;n<r.length;n++)for(var i=r[n],o=0,a=i.pointer.getActorsForEvents();o<a.length;o++){var s=a[o];if(!t[i.pointer.id]&&!i.pointer.wasActorUnderPointer(s)&&i.pointer.isActorAliveUnderPointer(s)){t[i.pointer.id]=i;var l=Qr("enter",new Z(i.worldPos,i.pagePos,i.screenPos),i.pointer,i.index,i.pointerType,i.button,i.ev);l.propagate(s),e.push(l),i.pointer.isDragging&&(i.pointer.dragTarget=s)}}return e},e.prototype.dispatchPointerEvents=function(){this._dispatchWithBubble(this._pointerDown),this._dispatchWithBubble(this._pointerUp),this._dispatchWithBubble(this._pointerMove),this._dispatchPointerLeaveEvents(),this._dispatchPointerEnterEvents(),this._dispatchWithBubble(this._pointerCancel);for(var t=0,e=this._wheel;t<e.length;t++)for(var n=e[t],r=0,i=this._pointers[n.index].getActorsUnderPointer();r<i.length;r++){var o=i[r];if(this._propagateWheelPointerEvent(o,n),!n.bubbles)break}},e.prototype._propagateWheelPointerEvent=function(t,e){t.emit("pointerwheel",e),e.bubbles&&t.parent&&this._propagateWheelPointerEvent(t.parent,e)},e.prototype._handleMouseEvent=function(t,e){var n=this;return function(r){r.preventDefault();var i=n.at(0),o=Z.fromPagePosition(r.pageX,r.pageY,n._engine),a=Qr(t,o,i,0,kr.Mouse,n._nativeButtonToPointerButton(r.button),r);e.push(a),i.eventDispatcher.emit(t,a)}},e.prototype._handleTouchEvent=function(t,e){var n=this;return function(r){r.preventDefault();for(var i=0,o=r.changedTouches.length;i<o;i++){var a=n._pointers.length>1?n._getPointerIndex(r.changedTouches[i].identifier):0;if(-1!==a){var s=n.at(a),l=Z.fromPagePosition(r.changedTouches[i].pageX,r.changedTouches[i].pageY,n._engine),u=Qr(t,l,s,a,kr.Touch,Br.Unknown,r);e.push(u),s.eventDispatcher.emit(t,u),n._pointers.length>1&&("up"===t?n._activePointers[a]=-1:"down"===t&&(n._activePointers[a]=r.changedTouches[i].identifier))}}}},e.prototype._handlePointerEvent=function(t,e,n){var r=this;return function(i){i.preventDefault();var o=r._pointers.length>1?r._getPointerIndex(i.pointerId):0;if(-1!==o){var a=r.at(o),s=n||Z.fromPagePosition(i.pageX,i.pageY,r._engine),l=Qr(t,s,a,o,r._stringToPointerType(i.pointerType),r._nativeButtonToPointerButton(i.button),i);e.push(l),a.eventDispatcher.emit(t,l),r._pointers.length>1&&("up"===t?r._activePointers[o]=-1:"down"===t&&(r._activePointers[o]=i.pointerId))}}},e.prototype._handleWheelEvent=function(t,e){var n=this;return function(r){(n._engine.pageScrollPreventionMode===ti.All||n._engine.pageScrollPreventionMode===ti.Canvas&&r.target===n._engine.canvas)&&r.preventDefault();var i=r.pageX-S(n._engine.canvas).x,o=r.pageY-S(n._engine.canvas).y,a=n._engine.screenToWorldCoordinates(new V(i,o)),s=r.deltaX||-.025*r.wheelDeltaX||0,l=r.deltaY||-.025*r.wheelDeltaY||-.025*r.wheelDelta||r.detail||0,u=r.deltaZ||0,c=Dr.Pixel;r.deltaMode&&(1===r.deltaMode?c=Dr.Line:2===r.deltaMode&&(c=Dr.Page));var h=new qr(a.x,a.y,r.pageX,r.pageY,i,o,0,s,l,u,c,r);e.push(h),n.at(0).eventDispatcher.emit(t,h)}},e.prototype._getPointerIndex=function(t){var e;if((e=this._activePointers.indexOf(t))>-1)return e;for(var n=0;n<this._activePointers.length;n++)if(-1===this._activePointers[n])return n;return-1},e.prototype._nativeButtonToPointerButton=function(t){switch(t){case Mr.NoButton:return Br.NoButton;case Mr.Left:return Br.Left;case Mr.Middle:return Br.Middle;case Mr.Right:return Br.Right;case Mr.Unknown:return Br.Unknown;default:return D(t)}},e.prototype._stringToPointerType=function(t){switch(t){case"touch":return kr.Touch;case"mouse":return kr.Mouse;case"pen":return kr.Pen;default:return kr.Unknown}},e}(Jt),Yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$r=function(t){function e(){var e=t.call(this)||this;return e.enabled=!1,e.supported=!!navigator.getGamepads,e._gamePadTimeStamps=[0,0,0,0],e._oldPads=[],e._pads=[],e._initSuccess=!1,e._navigator=navigator,e._minimumConfiguration=null,e}return Yr(e,t),e.prototype.init=function(){this.supported&&(this._initSuccess||(this._oldPads=this._clonePads(this._navigator.getGamepads()),this._oldPads.length&&this._oldPads[0]&&(this._initSuccess=!0)))},e.prototype.setMinimumGamepadConfiguration=function(t){this._enableAndUpdate(),this._minimumConfiguration=t},e.prototype._enableAndUpdate=function(){this.enabled||(this.enabled=!0,this.update())},e.prototype._isGamepadValid=function(t){if(!this._minimumConfiguration)return!0;if(!t)return!1;var e=t.axes.filter((function(t){return void 0!==typeof t})).length,n=t.buttons.filter((function(t){return void 0!==typeof t})).length;return e>=this._minimumConfiguration.axis&&n>=this._minimumConfiguration.buttons&&t.connected},e.prototype.on=function(e,n){this._enableAndUpdate(),t.prototype.on.call(this,e,n)},e.prototype.off=function(e,n){this._enableAndUpdate(),t.prototype.off.call(this,e,n)},e.prototype.update=function(){if(this.enabled&&this.supported){this.init();for(var t=this._navigator.getGamepads(),e=0;e<t.length;e++)if(t[e]){if(!this.at(e).connected&&this._isGamepadValid(t[e])&&this.eventDispatcher.emit("connect",new wt(e,this.at(e))),this.at(e).connected=!0,!t[e].timestamp||t[e].timestamp!==this._gamePadTimeStamps[e]){this._gamePadTimeStamps[e]=t[e].timestamp,this.at(e).navigatorGamepad=t[e];var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0;for(n in Gr)"number"==typeof(r=Gr[n])&&t[e].buttons[r]&&(a=t[e].buttons[r].value)!==this._oldPads[e].getButton(r)&&(t[e].buttons[r].pressed?(this.at(e).updateButton(r,a),this.at(e).eventDispatcher.emit("button",new Pt(r,a,this.at(e)))):this.at(e).updateButton(r,0));for(i in Zr)"number"==typeof(o=Zr[i])&&(a=t[e].axes[o])!==this._oldPads[e].getAxes(o)&&(this.at(e).updateAxes(o,a),this.at(e).eventDispatcher.emit("axis",new Et(o,a,this.at(e))));this._oldPads[e]=this._clonePad(t[e])}}else{var s=this.at(e);s.connected&&this.eventDispatcher.emit("disconnect",new xt(e,s)),s.connected=!1}}},e.prototype.at=function(t){if(this._enableAndUpdate(),t>=this._pads.length)for(var e=this._pads.length-1,n=t;e<n;e++)this._pads.push(new Jr),this._oldPads.push(new Jr);return this._pads[t]},e.prototype.getValidGamepads=function(){this._enableAndUpdate();for(var t=[],e=0;e<this._pads.length;e++)this._isGamepadValid(this.at(e).navigatorGamepad)&&this.at(e).connected&&t.push(this.at(e));return t},e.prototype.count=function(){return this._pads.filter((function(t){return t.connected})).length},e.prototype._clonePads=function(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(this._clonePad(t[n]));return e},e.prototype._clonePad=function(t){var e,n,r=new Jr;if(!t)return r;for(e=0,n=t.buttons.length;e<n;e++)t.buttons[e]&&r.updateButton(e,t.buttons[e].value);for(e=0,n=t.axes.length;e<n;e++)r.updateAxes(e,t.axes[e]);return r},e.MinAxisMoveThreshold=.05,e}(Jt),Jr=function(t){function e(){var e=t.call(this)||this;e.connected=!1,e._buttons=new Array(16),e._axes=new Array(4);for(var n=0;n<e._buttons.length;n++)e._buttons[n]=0;for(n=0;n<e._axes.length;n++)e._axes[n]=0;return e}return Yr(e,t),e.prototype.isButtonPressed=function(t,e){return void 0===e&&(e=1),this._buttons[t]>=e},e.prototype.getButton=function(t){return this._buttons[t]},e.prototype.getAxes=function(t){var e=this._axes[t];return Math.abs(e)<$r.MinAxisMoveThreshold?0:e},e.prototype.updateButton=function(t,e){this._buttons[t]=e},e.prototype.updateAxes=function(t,e){this._axes[t]=e},e}(Jt);!function(t){t[t.Face1=0]="Face1",t[t.Face2=1]="Face2",t[t.Face3=2]="Face3",t[t.Face4=3]="Face4",t[t.LeftBumper=4]="LeftBumper",t[t.RightBumper=5]="RightBumper",t[t.LeftTrigger=6]="LeftTrigger",t[t.RightTrigger=7]="RightTrigger",t[t.Select=8]="Select",t[t.Start=9]="Start",t[t.LeftStick=10]="LeftStick",t[t.RightStick=11]="RightStick",t[t.DpadUp=12]="DpadUp",t[t.DpadDown=13]="DpadDown",t[t.DpadLeft=14]="DpadLeft",t[t.DpadRight=15]="DpadRight"}(Gr||(Gr={})),function(t){t[t.LeftStickX=0]="LeftStickX",t[t.LeftStickY=1]="LeftStickY",t[t.RightStickX=2]="RightStickX",t[t.RightStickY=3]="RightStickY"}(Zr||(Zr={}));var ti,ei=function(){function t(t){this.nativeComponent=t,this._paused=!1,this._nativeHandlers={}}return t.prototype.on=function(t,e){this._nativeHandlers[t]&&this.off(t,this._nativeHandlers[t]),this._nativeHandlers[t]=this._decorate(e),this.nativeComponent.addEventListener(t,this._nativeHandlers[t])},t.prototype.off=function(t,e){e||(e=this._nativeHandlers[t]),this.nativeComponent.removeEventListener(t,e),this._nativeHandlers[t]=null},t.prototype._decorate=function(t){var e=this;return function(n){e._paused||t(n)}},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.clear=function(){for(var t in this._nativeHandlers)this.off(t)},t}(),ni=function(){function t(t,e){this._windowGlobal=t,this._documentGlobal=e,this._windowComponent=new ei(this._windowGlobal),this._documentComponent=new ei(this._documentGlobal)}return Object.defineProperty(t.prototype,"window",{get:function(){return this._windowComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._documentComponent},enumerable:!1,configurable:!0}),t.prototype.pause=function(){this.window.pause(),this.document.pause()},t.prototype.resume=function(){this.window.resume(),this.document.resume()},t.prototype.clear=function(){this.window.clear(),this.document.clear()},t}(),ri=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ii=function(){return(ii=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};h(),function(t){t[t.None=0]="None",t[t.Canvas=1]="Canvas",t[t.All=2]="All"}(ti||(ti={}));var oi,ai=function(t){function e(n){var r,i,o,a=t.call(this)||this;a._hasStarted=!1,a.postProcessors=[],a.scenes={},a._animations=[],a._suppressPlayButton=!1,a.pauseAudioWhenHidden=!0,a.isDebug=!1,a.debugColor=new tt(255,255,255),a.enableCanvasTransparency=!0,a.onFatalException=function(t){R.getInstance().fatal(t)},a._timescale=1,a._isLoading=!1,a._isInitialized=!1,n=ii(ii({},e._DefaultEngineOptions),n),a.browser=new ni(window,document);var s=new Dn;if(!n.suppressMinimumBrowserFeatureDetection&&!(a._compatible=s.test())){var l=document.createElement("div");if(l.innerText="Sorry, your browser does not support all the features needed for Excalibur",document.body.appendChild(l),s.failedTests.forEach((function(t){var e=document.createElement("div");e.innerText="Browser feature missing "+t,document.body.appendChild(e)})),n.canvasElementId){var u=document.getElementById(n.canvasElementId);u&&u.parentElement.removeChild(u)}return a}a._compatible=!0,console.log&&!n.suppressConsoleBootMessage&&(console.log("%cPowered by Excalibur.js (v"+Zi+")","background: #176BAA; color: white; border-radius: 5px; padding: 15px; font-size: 1.5em; line-height: 80px;"),console.log("\n      /| ________________\nO|===|* >________________>\n      \\|"),console.log("Visit","http://excaliburjs.com","for more information")),n.suppressPlayButton&&(a._suppressPlayButton=!0),a._logger=R.getInstance(),a._logger.defaultLevel===M.Debug&&s.logBrowserFeatures(),a._logger.debug("Building engine..."),a.canvasElementId=n.canvasElementId,n.canvasElementId?(a._logger.debug("Using Canvas element specified: "+n.canvasElementId),a.canvas=document.getElementById(n.canvasElementId)):n.canvasElement?(a._logger.debug("Using Canvas element specified:",n.canvasElement),a.canvas=n.canvasElement):(a._logger.debug("Using generated canvas element"),a.canvas=document.createElement("canvas"));var c=null!==(r=n.displayMode)&&void 0!==r?r:Wt.Fixed;return n.width&&n.height||n.viewport?(void 0===n.displayMode&&(c=Wt.Fixed),a._logger.debug("Engine viewport is size "+n.width+" x "+n.height)):n.displayMode||(a._logger.debug("Engine viewport is fullscreen"),c=Wt.FullScreen),a.ctx=a.canvas.getContext("2d",{alpha:a.enableCanvasTransparency}),a.screen=new Yt({canvas:a.canvas,context:a.ctx,antialiasing:null===(i=n.antialiasing)||void 0===i||i,browser:a.browser,viewport:null!==(o=n.viewport)&&void 0!==o?o:{width:n.width,height:n.height},resolution:n.resolution,displayMode:c,position:n.position,pixelRatio:n.suppressHiDPIScaling?1:null}),a.screen.applyResolutionAndViewport(),n.backgroundColor&&(a.backgroundColor=n.backgroundColor.clone()),a.enableCanvasTransparency=n.enableCanvasTransparency,a._loader=new Mn,a.debug=new xr(a),a._initialize(n),a.rootScene=a.currentScene=new mr(a),a.addScene("root",a.rootScene),a.goToScene("root"),a}return ri(e,t),Object.defineProperty(e.prototype,"canvasWidth",{get:function(){return this.screen.canvasWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasWidth",{get:function(){return this.screen.halfCanvasWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasHeight",{get:function(){return this.screen.canvasHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfCanvasHeight",{get:function(){return this.screen.halfCanvasHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawWidth",{get:function(){return this.screen.drawWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawWidth",{get:function(){return this.screen.halfDrawWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drawHeight",{get:function(){return this.screen.drawHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halfDrawHeight",{get:function(){return this.screen.halfDrawHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHiDpi",{get:function(){return this.screen.isHiDpi},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stats",{get:function(){return this.debug.stats},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullscreen",{get:function(){return this.screen.isFullScreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"displayMode",{get:function(){return this.screen.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this.screen.pixelRatio},enumerable:!1,configurable:!0}),e.prototype.on=function(e,n){t.prototype.on.call(this,e,n)},e.prototype.once=function(e,n){t.prototype.once.call(this,e,n)},e.prototype.off=function(e,n){t.prototype.off.call(this,e,n)},e.prototype.getWorldBounds=function(){return this.screen.getWorldBounds()},Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},set:function(t){t<=0?R.getInstance().error("Cannot set engine.timescale to a value of 0 or less than 0."):this._timescale=t},enumerable:!1,configurable:!0}),e.prototype.playAnimation=function(t,e,n){this._animations.push(new si(t,e,n))},e.prototype.addTileMap=function(t){this.currentScene.addTileMap(t)},e.prototype.removeTileMap=function(t){this.currentScene.removeTileMap(t)},e.prototype.addTimer=function(t){return this.currentScene.addTimer(t)},e.prototype.removeTimer=function(t){return this.currentScene.removeTimer(t)},e.prototype.addScene=function(t,e){this.scenes[t]&&this._logger.warn("Scene",t,"already exists overwriting"),this.scenes[t]=e},e.prototype.removeScene=function(t){if(t instanceof mr)for(var e in this.scenes)this.scenes.hasOwnProperty(e)&&this.scenes[e]===t&&delete this.scenes[e];"string"==typeof t&&delete this.scenes[t]},e.prototype.add=function(t){t instanceof bn?this.currentScene.addScreenElement(t):(t instanceof mn&&this._addChild(t),t instanceof xn&&this.addTimer(t),t instanceof En&&this.addTileMap(t),2===arguments.length&&this.addScene(arguments[0],arguments[1]))},e.prototype.remove=function(t){t instanceof bn?this.currentScene.removeScreenElement(t):(t instanceof mn&&this._removeChild(t),t instanceof xn&&this.removeTimer(t),t instanceof En&&this.removeTileMap(t),t instanceof mr&&this.removeScene(t),"string"==typeof t&&this.removeScene(t))},e.prototype._addChild=function(t){this.currentScene.add(t)},e.prototype._removeChild=function(t){this.currentScene.remove(t)},e.prototype.goToScene=function(t){if(this.scenes[t]){var e=this.currentScene,n=this.scenes[t];this._logger.debug("Going to scene:",t),this.currentScene.isInitialized&&(this.currentScene._deactivate.call(this.currentScene,[e,n]),this.currentScene.eventDispatcher.emit("deactivate",new jt(n,this.currentScene))),this.currentScene=n,this.screen.setCurrentCamera(n.camera),this.currentScene._initialize(this),this.currentScene._activate.call(this.currentScene,[e,n]),this.currentScene.eventDispatcher.emit("activate",new Rt(e,this.currentScene))}else this._logger.error("Scene",t,"does not exist!")},e.prototype.screenToWorldCoordinates=function(t){return this.screen.screenToWorldCoordinates(t)},e.prototype.worldToScreenCoordinates=function(t){return this.screen.worldToScreenCoordinates(t)},e.prototype._initialize=function(t){var e,n,r=this;this.pageScrollPreventionMode=t.scrollPreventionMode,this.input={keyboard:new Tr,pointers:new Kr(this),gamepads:new $r},this.input.keyboard.init(),this.input.pointers.init(t&&t.pointerScope===Ar.Document?document:this.canvas),this.input.gamepads.init(),void 0!==document.hidden?(e="hidden",n="visibilitychange"):"msHidden"in document?(e="msHidden",n="msvisibilitychange"):"webkitHidden"in document&&(e="webkitHidden",n="webkitvisibilitychange"),this.browser.document.on(n,(function(){document[e]?(r.eventDispatcher.emit("hidden",new Ct(r)),r._logger.debug("Window hidden")):(r.eventDispatcher.emit("visible",new At(r)),r._logger.debug("Window visible"))})),this.canvasElementId||t.canvasElement||document.body.appendChild(this.canvas)},e.prototype.onInitialize=function(t){},e.prototype.setAntialiasing=function(t){this.screen.antialiasing=t},e.prototype.getAntialiasing=function(){return this.screen.antialiasing},Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!1,configurable:!0}),e.prototype._overrideInitialize=function(e){this.isInitialized||(this.onInitialize(e),t.prototype.emit.call(this,"initialize",new Dt(e,this)),this._isInitialized=!0)},e.prototype._update=function(t){if(this._isLoading)return this._loader.update(this,t),this.input.keyboard.update(),this.input.pointers.update(),void this.input.gamepads.update();this._overrideInitialize(this),this._preupdate(t),this.currentScene.update(this,t),this._animations=this._animations.filter((function(t){return!t.animation.isDone()})),this.input.keyboard.update(),this.input.pointers.update(),this.input.gamepads.update(),this._postupdate(t)},e.prototype._preupdate=function(t){this.emit("preupdate",new _t(this,t,this)),this.onPreUpdate(this,t)},e.prototype.onPreUpdate=function(t,e){},e.prototype._postupdate=function(t){this.emit("postupdate",new mt(this,t,this)),this.onPostUpdate(this,t)},e.prototype.onPostUpdate=function(t,e){},e.prototype._draw=function(t){var e=this.ctx;if(this._predraw(e,t),this._isLoading)this._loader.draw(e,t);else{e.clearRect(0,0,this.canvasWidth,this.canvasHeight),e.fillStyle=this.backgroundColor.toString(),e.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.currentScene.draw(this.ctx,t);for(var n=0,r=this._animations.length;n<r;n++)this._animations[n].animation.draw(e,this._animations[n].x,this._animations[n].y);if(this.isDebug){this.ctx.font="Consolas",this.ctx.fillStyle=this.debugColor.toString();for(var i=this.input.keyboard.getKeys(),o=0;o<i.length;o++)this.ctx.fillText(i[o].toString()+" : "+(vr[i[o]]?vr[i[o]]:"Not Mapped"),100,10*o+10);this.ctx.fillText("FPS:"+this.stats.currFrame.fps.toFixed(2).toString(),10,10)}for(var a=0;a<this.postProcessors.length;a++)this.postProcessors[a].process(this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight),this.ctx);this._postdraw(e,t)}},e.prototype._predraw=function(t,e){this.emit("predraw",new pt(t,e,this)),this.onPreDraw(t,e)},e.prototype.onPreDraw=function(t,e){},e.prototype._postdraw=function(t,e){this.emit("postdraw",new dt(t,e,this)),this.onPostDraw(t,e)},e.prototype.onPostDraw=function(t,e){},e.prototype.start=function(t){var n,r=this;return this._compatible?(this.screen.pushResolutionAndViewport(),this.screen.resolution=this.screen.viewport,this.screen.applyResolutionAndViewport(),t?(this._loader=t,this._loader.suppressPlayButton=this._suppressPlayButton||this._loader.suppressPlayButton,this._loader.wireEngine(this),n=this.load(this._loader)):n=p.resolve(),n.then((function(){r.screen.popResolutionAndViewport(),r.screen.applyResolutionAndViewport(),r.emit("start",new ht(r))})),this._hasStarted||(this._hasStarted=!0,this._logger.debug("Starting game..."),this.browser.resume(),e.createMainLoop(this,window.requestAnimationFrame,Date.now)(),this._logger.debug("Game started")),n):(new p).reject("Excalibur is incompatible with your browser")},e.createMainLoop=function(t,e,n){var r=n();return function i(){if(t._hasStarted)try{t._requestId=e(i),t.emit("preframe",new vt(t,t.stats.prevFrame));var o=n(),a=Math.floor(o-r)||1;a>200&&(a=1);var s=a*t.timescale,l=t.stats.prevFrame.id+1;t.stats.currFrame.reset(),t.stats.currFrame.id=l,t.stats.currFrame.delta=s,t.stats.currFrame.fps=1/(s/1e3);var u=n();t._update(s);var c=n();t._draw(s);var h=n();t.stats.currFrame.duration.update=c-u,t.stats.currFrame.duration.draw=h-c,r=o,t.emit("postframe",new bt(t,t.stats.currFrame)),t.stats.prevFrame.reset(t.stats.currFrame)}catch(e){window.cancelAnimationFrame(t._requestId),t.stop(),t.onFatalException(e)}}},e.prototype.stop=function(){this._hasStarted&&(this.emit("stop",new ft(this)),this.browser.pause(),this._hasStarted=!1,this._logger.debug("Game stopped"))},e.prototype.isPaused=function(){return!this._hasStarted},e.prototype.screenshot=function(){var t=new Image,e=this.canvas.toDataURL("image/png");return t.src=e,t},e.prototype.load=function(t){var e=this,n=new p;return this._isLoading=!0,t.load().then((function(){e._suppressPlayButton?setTimeout((function(){e._isLoading=!1,n.resolve()}),500):(e._isLoading=!1,n.resolve())})),n},e._DefaultEngineOptions={width:0,height:0,enableCanvasTransparency:!0,canvasElementId:"",canvasElement:void 0,pointerScope:Ar.Document,suppressConsoleBootMessage:null,suppressMinimumBrowserFeatureDetection:null,suppressHiDPIScaling:null,suppressPlayButton:null,scrollPreventionMode:ti.Canvas,backgroundColor:tt.fromHex("#2185d0")},e}(Jt),si=function(t,e,n){this.animation=t,this.x=e,this.y=n},li=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=function(t){function e(e,n){void 0===n&&(n="MediaEvent");var r=t.call(this)||this;return r.target=e,r._name=n,r}return li(e,t),Object.defineProperty(e.prototype,"bubbles",{get:function(){return!1},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_path",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.stopPropagation=function(){},e.prototype.action=function(){},e.prototype.propagate=function(){},e.prototype.layPath=function(t){},e}(st),ci=function(t){function e(e,n){var r=t.call(this,e,"NativeSoundEvent")||this;return r.track=n,r}return li(e,t),e}(ui),hi=function(t){function e(e,n){var r=t.call(this,e,"NativeSoundProcessedEvent")||this;return r.processedData=n,r.data=r.processedData,r}return li(e,t),e}(ui),fi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle"}(oi||(oi={}));var pi=function(t){function e(e,n,r,i,o,a,s,l,u,c){return t.call(this,e,n,r,i,o,a,s,l,u,c)||this}return fi(e,t),e}(fe(function(){function t(t,e,n,r,i,o,a,s,l,u){this.position=new V(0,0),this.velocity=new V(0,0),this.acceleration=new V(0,0),this.particleRotationalVelocity=0,this.currentRotation=0,this.focus=null,this.focusAccel=0,this.opacity=1,this.beginColor=tt.White,this.endColor=tt.White,this.life=300,this.fadeFlag=!1,this._rRate=1,this._gRate=1,this._bRate=1,this._aRate=0,this._currentColor=tt.White,this.emitter=null,this.particleSize=5,this.particleSprite=null,this.sizeRate=0,this.elapsedMultiplier=0;var c=t;if(c&&!(t instanceof di)){var h=t;c=h.emitter,e=h.life,n=h.opacity,i=h.endColor,r=h.beginColor,o=h.position,a=h.velocity,s=h.acceleration,l=h.startSize,u=h.endSize}this.emitter=c,this.life=e||this.life,this.opacity=n||this.opacity,this.endColor=i||this.endColor.clone(),this.beginColor=r||this.beginColor.clone(),this._currentColor=this.beginColor.clone(),this.position=o||this.position,this.velocity=a||this.velocity,this.acceleration=s||this.acceleration,this._rRate=(this.endColor.r-this.beginColor.r)/this.life,this._gRate=(this.endColor.g-this.beginColor.g)/this.life,this._bRate=(this.endColor.b-this.beginColor.b)/this.life,this._aRate=this.opacity/this.life,this.startSize=l||0,this.endSize=u||0,this.endSize>0&&this.startSize>0&&(this.sizeRate=(this.endSize-this.startSize)/this.life,this.particleSize=this.startSize)}return t.prototype.kill=function(){this.emitter.removeParticle(this)},t.prototype.update=function(t){if(this.life=this.life-t,this.elapsedMultiplier=this.elapsedMultiplier+t,this.life<0&&this.kill(),this.fadeFlag&&(this.opacity=v(this._aRate*this.life,1e-4,1)),this.startSize>0&&this.endSize>0&&(this.particleSize=v(this.sizeRate*t+this.particleSize,Math.min(this.startSize,this.endSize),Math.max(this.startSize,this.endSize))),this._currentColor.r=v(this._currentColor.r+this._rRate*t,0,255),this._currentColor.g=v(this._currentColor.g+this._gRate*t,0,255),this._currentColor.b=v(this._currentColor.b+this._bRate*t,0,255),this._currentColor.a=v(this.opacity,1e-4,1),this.focus){var e=this.focus.sub(this.position).normalize().scale(this.focusAccel).scale(t/1e3);this.velocity=this.velocity.add(e)}else this.velocity=this.velocity.add(this.acceleration.scale(t/1e3));this.position=this.position.add(this.velocity.scale(t/1e3)),this.particleRotationalVelocity&&(this.currentRotation=(this.currentRotation+this.particleRotationalVelocity*t/1e3)%(2*Math.PI))},t.prototype.draw=function(t){if(this.particleSprite)return this.particleSprite.rotation=this.currentRotation,this.particleSprite.scale.setTo(this.particleSize,this.particleSize),void this.particleSprite.draw(t,this.position.x,this.position.y);this._currentColor.a=v(this.opacity,1e-4,1),t.fillStyle=this._currentColor.toString(),t.beginPath(),t.arc(this.position.x,this.position.y,this.particleSize,0,2*Math.PI),t.fill(),t.closePath()},t}())),di=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return fi(e,t),e}(fe(function(t){function e(e,n,r,i){var o=t.call(this,"number"==typeof e?{pos:new V(e,n),width:r,height:i}:e)||this;o.numParticles=0,o.isEmitting=!0,o.particles=null,o.deadParticles=null,o.minVel=0,o.maxVel=0,o.acceleration=new V(0,0),o.minAngle=0,o.maxAngle=0,o.emitRate=1,o.particleLife=2e3,o.opacity=1,o.fadeFlag=!1,o.focus=null,o.focusAccel=1,o.startSize=null,o.endSize=null,o.minSize=5,o.maxSize=5,o.beginColor=tt.White,o.endColor=tt.White,o.particleSprite=null,o.emitterType=oi.Rectangle,o.radius=0,o.particleRotationalVelocity=0,o.randomRotation=!1,o._particlesToEmit=0,o.body.collider.type=at.PreventCollision,o.particles=new B,o.deadParticles=new B,o.random=new d;for(var a=0;a<o.traits.length;a++)o.traits[a]instanceof Qe&&o.traits.splice(a,1);return o}return fi(e,t),e.prototype.removeParticle=function(t){this.deadParticles.push(t)},e.prototype.emitParticles=function(t){for(var e=0;e<t;e++)this.particles.push(this._createParticle())},e.prototype.clearParticles=function(){this.particles.clear()},e.prototype._createParticle=function(){var t=0,e=0,n=b(this.minAngle,this.maxAngle,this.random),r=b(this.minVel,this.maxVel,this.random),i=this.startSize||b(this.minSize,this.maxSize,this.random),o=r*Math.cos(n),a=r*Math.sin(n);if(this.emitterType===oi.Rectangle)t=b(this.pos.x,this.pos.x+this.width,this.random),e=b(this.pos.y,this.pos.y+this.height,this.random);else if(this.emitterType===oi.Circle){var s=b(0,this.radius,this.random);t=s*Math.cos(n)+this.pos.x,e=s*Math.sin(n)+this.pos.y}var l=new pi(this,this.particleLife,this.opacity,this.beginColor,this.endColor,new V(t,e),new V(o,a),this.acceleration,this.startSize,this.endSize);return l.fadeFlag=this.fadeFlag,l.particleSize=i,this.particleSprite&&(l.particleSprite=this.particleSprite),l.particleRotationalVelocity=this.particleRotationalVelocity,this.randomRotation&&(l.currentRotation=b(0,2*Math.PI,this.random)),this.focus&&(l.focus=this.focus.add(new V(this.pos.x,this.pos.y)),l.focusAccel=this.focusAccel),l},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),this.isEmitting&&(this._particlesToEmit+=this.emitRate*(n/1e3),this._particlesToEmit>1&&(this.emitParticles(Math.floor(this._particlesToEmit)),this._particlesToEmit=this._particlesToEmit-Math.floor(this._particlesToEmit))),this.particles.forEach((function(t){return t.update(n)})),this.deadParticles.forEach((function(t){return r.particles.removeElement(t)})),this.deadParticles.clear()},e.prototype.draw=function(t){this.particles.forEach((function(e){return e.draw(t)}))},e.prototype.debugDraw=function(e){t.prototype.debugDraw.call(this,e),e.fillStyle=tt.Black.toString(),e.fillText("Particles: "+this.particles.count(),this.pos.x,this.pos.y+20),this.focus&&(e.fillRect(this.focus.x+this.pos.x,this.focus.y+this.pos.y,3,3),Ze(e,tt.Yellow,this.focus.x+this.pos.x,this.focus.y+this.pos.y,this.center.x,this.center.y),e.fillText("Focus",this.focus.x+this.pos.x,this.focus.y+this.pos.y))},e}(mn))),gi={Actions:o},yi=function(){function t(){}return t.create=function(t,e){if(this._currentGroup>this._MAX_GROUPS)throw new Error("Cannot have more than "+this._MAX_GROUPS+" collision groups");if(this._groups.get(t))throw new Error("Collision group "+t+" already exists");var n=new Je(t,this._currentBit,void 0!==e?e:~this._currentBit);return this._currentBit=this._currentBit<<1|0,this._currentGroup++,this._groups.set(t,n),n},Object.defineProperty(t,"groups",{get:function(){return Array.from(this._groups.values())},enumerable:!1,configurable:!0}),t.groupByName=function(t){return this._groups.get(t)},t.reset=function(){this._groups=new Map,this._currentBit=this._STARTING_BIT,this._currentGroup=1},t._STARTING_BIT=1,t._MAX_GROUPS=32,t._currentGroup=1,t._currentBit=t._STARTING_BIT,t._groups=new Map,t}(),_i=function(){return(_i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},mi=function(){function t(t){this.lineWidth=5,this.filled=!1,this._points=[],this.anchor=V.Zero,this.offset=V.Zero,this.rotation=0,this.scale=V.One,this.opacity=1,this._points=t;var e=this._points.reduce((function(t,e){return Math.min(t,e.x)}),0),n=this._points.reduce((function(t,e){return Math.max(t,e.x)}),0);this.drawWidth=n-e;var r=this._points.reduce((function(t,e){return Math.min(t,e.y)}),0),i=this._points.reduce((function(t,e){return Math.max(t,e.y)}),0);this.drawHeight=i-r,this.height=this.drawHeight,this.width=this.drawWidth}return t.prototype.addEffect=function(){},t.prototype.removeEffect=function(){},t.prototype.clearEffects=function(){},t.prototype.reset=function(){},t.prototype.draw=function(t,e,n){t instanceof CanvasRenderingContext2D?this._drawWithOptions({ctx:t,x:e,y:n}):this._drawWithOptions(t)},t.prototype._drawWithOptions=function(t){var e,n,r,i,o,a,s,l,u=_i(_i({},t),{rotation:null!==(e=t.rotation)&&void 0!==e?e:this.rotation,drawWidth:null!==(n=t.drawWidth)&&void 0!==n?n:this.drawWidth,drawHeight:null!==(r=t.drawHeight)&&void 0!==r?r:this.drawHeight,flipHorizontal:null!==(i=t.flipHorizontal)&&void 0!==i?i:this.flipHorizontal,flipVertical:null!==(o=t.flipVertical)&&void 0!==o?o:this.flipVertical,anchor:null!==(a=t.anchor)&&void 0!==a?a:this.anchor,offset:null!==(s=t.offset)&&void 0!==s?s:this.offset,opacity:null!==(l=t.opacity)&&void 0!==l?l:this.opacity}),c=u.ctx,h=u.x,f=u.y,p=u.rotation,d=u.drawWidth,g=u.drawHeight,y=u.anchor,_=u.offset,m=u.opacity,v=u.flipHorizontal,b=u.flipVertical,w=d*y.x+_.x+h,x=g*y.y+_.y+f;c.save(),c.translate(w,x),c.scale(this.scale.x,this.scale.y),c.rotate(p),c.beginPath(),c.lineWidth=this.lineWidth;var P=this._points[0];c.moveTo(P.x,P.y);for(var E=0,S=this._points.length;E<S;E++)c.lineTo(this._points[E].x,this._points[E].y);c.lineTo(P.x,P.y),c.closePath(),this.filled&&(c.fillStyle=this.fillColor.toString(),c.fill()),c.strokeStyle=this.lineColor.toString(),v&&(c.translate(d,0),c.scale(-1,1)),b&&(c.translate(0,g),c.scale(1,-1));var k=c.globalAlpha;c.globalAlpha=null!=m?m:1,c.stroke(),c.globalAlpha=k,c.restore()},t}(),vi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bi=function(t){function e(e,n,r,i,o,a){return t.call(this,e,n,r,i,o,a)||this}return vi(e,t),e}(fe(function(){function t(t,e,n,r,i,o){var a=this;this.sprites=[],this.image=null,this.columns=0,this.rows=0,this.spWidth=0,this.spHeight=0,this.spacing=0;var s=!1;if(t instanceof Array?this.sprites=t:(!t||t instanceof me?(this.image=t,this.columns=e,this.rows=n,this.spWidth=r,this.spHeight=i,this.spacing=o||0):(this.columns=t.columns,this.rows=t.rows,this.spWidth=t.spWidth,this.spHeight=t.spHeight,this.image=t.image,this.spacing=t.spacing||0),this.sprites=new Array(this.columns*this.rows),s=!0),this.image instanceof me){var l=!1,u=!1;if(this.image.loaded.then((function(t){l=a.spWidth*a.columns>t.naturalWidth,u=a.spHeight*a.rows>t.naturalHeight})),l)throw new RangeError("SpriteSheet specified is wider, "+this.columns+" cols x "+this.spWidth+" pixels > "+this.image.image.naturalWidth+" pixels than image width");if(u)throw new RangeError("SpriteSheet specified is taller, "+this.rows+" rows x "+this.spHeight+" pixels > "+this.image.image.naturalHeight+" pixels than image height")}if(s)for(var c=0;c<this.rows;c++)for(var h=0;h<this.columns;h++)this.sprites[h+c*this.columns]=new ye(this.image,h*this.spWidth+this.spacing*h+this.spacing,c*this.spHeight+this.spacing*c+this.spacing,this.spWidth,this.spHeight)}return t.prototype.getAnimationByIndices=function(t,e,n){var r=this,i=e.map((function(t){return r.sprites[t]}));return i=i.map((function(t){return t.clone()})),new we(t,i,n)},t.prototype.getAnimationBetween=function(t,e,n,r){var i=this.sprites.slice(e,n);return i=i.map((function(t){return t.clone()})),new we(t,i,r)},t.prototype.getAnimationForAll=function(t,e){var n=this.sprites.map((function(t){return t.clone()}));return new we(t,n,e)},t.prototype.getSprite=function(t){if(t>=0&&t<this.sprites.length)return this.sprites[t];throw new Error("Invalid index: "+t)},t.prototype.getAnimationByCoords=function(t,e,n){for(var r=0,i=0,o=new Array(e.length),a=0;a<e.length;a++){var s=e[a];s.image=s.image||this.image,r=Math.max(r,s.drawWidth),i=Math.max(i,s.drawHeight),o[a]=new ye(s)}var l=new we(t,o,n);return l.drawWidth=r,l.drawHeight=i,l},t}())),wi=function(t){function e(e,n,r,i,o,a,s,l){return t.call(this,e,n,r,i,o,a,s,l)||this}return vi(e,t),e}(fe(function(t){function e(e,n,r,i,o,a,s,l){var u=t.call(this,e instanceof me?{image:e,spWidth:a,spHeight:s,rows:o,columns:i,spacing:l||0}:e)||this;return u._currentColor=tt.Black,u._currentOpacity=1,u._sprites={},u._textShadowOn=!1,u._textShadowDirty=!0,u._textShadowColor=tt.Black,u._textShadowSprites={},u._shadowOffsetX=5,u._shadowOffsetY=5,!e||e instanceof me||(n=e.alphabet,r=e.caseInsensitive),u._alphabet=n,u._caseInsensitive=r,u._sprites=u.getTextSprites(),u}return vi(e,t),e.prototype.getTextSprites=function(){for(var t={},e=0;e<this._alphabet.length;e++){var n=this._alphabet[e];this._caseInsensitive&&(n=n.toLowerCase()),t[n]=this.sprites[e].clone()}return t},e.prototype.setTextShadow=function(t,e,n){for(var r in this._textShadowOn=!0,this._shadowOffsetX=t,this._shadowOffsetY=e,this._textShadowColor=n.clone(),this._textShadowDirty=!0,this._sprites)this._textShadowSprites[r]=this._sprites[r].clone()},e.prototype.useTextShadow=function(t){this._textShadowOn=t,t&&this.setTextShadow(5,5,this._textShadowColor)},e.prototype.draw=function(t,e,n,r,i){if(i=this._parseOptions(i),this._currentColor.toString()!==i.color.toString()||this._currentOpacity!==i.opacity)for(var o in this._currentOpacity=i.opacity,this._currentColor=i.color,this._sprites)this._sprites[o].clearEffects(),this._sprites[o].fill(i.color),this._sprites[o].opacity(i.opacity);if(this._textShadowOn&&this._textShadowDirty&&this._textShadowColor){for(var a in this._textShadowSprites)this._textShadowSprites[a].clearEffects(),this._textShadowSprites[a].addEffect(new ce(this._textShadowColor.clone()));this._textShadowDirty=!1}var s=this.sprites[0],l=s.drawHeight,u=i.fontSize/l,c=e.length*s.drawWidth*u+e.length*i.letterSpacing,h=n;i.textAlign===Wn.Left||i.textAlign===Wn.Start?h=n:i.textAlign===Wn.Right||i.textAlign===Wn.End?h=n-c:i.textAlign===Wn.Center&&(h=n-c/2);var f=r-l*u;i.baseAlign===Vn.Top||i.baseAlign===Vn.Hanging?f=r:i.baseAlign===Vn.Ideographic||i.baseAlign===Vn.Bottom||i.baseAlign===Vn.Alphabetic?f=r-l*u:i.baseAlign===Vn.Middle&&(f=r-l*u/2);for(var p=0;p<e.length;p++){var d=e[p];this._caseInsensitive&&(d=d.toLowerCase());try{this._textShadowOn&&(this._textShadowSprites[d].scale.x=u,this._textShadowSprites[d].scale.y=u,this._textShadowSprites[d].draw(t,h+this._shadowOffsetX,f+this._shadowOffsetY));var g=this._sprites[d];g.scale.x=u,g.scale.y=u,g.draw(t,h,f),h+=g.drawWidth+i.letterSpacing}catch(t){R.getInstance().error("SpriteFont Error drawing char "+d)}}},e.prototype._parseOptions=function(t){return{fontSize:t.fontSize||10,letterSpacing:t.letterSpacing||0,color:t.color||tt.Black,textAlign:void 0===typeof t.textAlign?Wn.Left:t.textAlign,baseAlign:void 0===typeof t.baseAlign?Vn.Bottom:t.baseAlign,maxWidth:t.maxWidth||-1,opacity:t.opacity||0}},e}(bi))),xi=function(){function t(){}return t.type={any:"",blob:"blob",json:"json",text:"text",document:"document",arraybuffer:"arraybuffer"},t}();function Pi(t){return!!t._initialize}function Ei(t){return!!t.onInitialize}function Si(t){return!!t._preupdate}function ki(t){return!!t.onPreUpdate}function Ai(t){return!!t.onPostUpdate}function Ci(t){return!!t.onPostUpdate}function Ti(t){return!!t.onPreDraw}function Oi(t){return!!t.onPostDraw}function Mi(t,e,n){return e+t*(n-e)}function Bi(t){return t*t*t*(t*(6*t-15)+10)}var Di=function(){function t(t){this._perm=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],this._p=new Uint8Array(512),this._defaultPerlinOptions={octaves:1,frequency:1,amplitude:1,persistance:.5},t=y({},this._defaultPerlinOptions,t),this.persistance=t.persistance,this.amplitude=t.amplitude,this.frequency=t.frequency,this.octaves=t.octaves,t.seed?this._random=new d(t.seed):this._random=new d,this._perm=this._random.shuffle(this._perm);for(var e=0;e<512;e++)this._p[e]=255&this._perm[e%256]}return t.prototype.noise=function(){for(var t=this.amplitude,e=this.frequency,n=0,r=0,i=0;i<this.octaves;i++){switch(arguments.length){case 1:n+=this._noise1d(arguments[0]*e)*t;break;case 2:n+=this._noise2d(arguments[0]*e,arguments[1]*e)*t;break;case 3:n+=this._noise3d(arguments[0]*e,arguments[1]*e,arguments[2]*e)*t;break;default:throw new Error("Invalid arguments for perlin noise")}r+=t,t*=this.persistance,e*=2}return n/r},t.prototype.sequence=function(t,e){e||(e=1/t);for(var n=new Array(t),r=0;r<t;r++)n[r]=this.noise(r*e);return n},t.prototype.grid=function(t,e,n){n||(n=1/Math.min(t,e));for(var r=new Array(t*e),i=0;i<e;i++)for(var o=0;o<t;o++)r[o+i*t]=this.noise(o*n,i*n);return r},t.prototype._gradient3d=function(t,e,n,r){var i=15&t,o=i<8?e:n,a=i<4?n:12===i||14===i?e:r;return(0==(1&i)?o:-o)+(0==(2&i)?a:-a)},t.prototype._gradient2d=function(t,e,n){var r=0==(1&t)?e:n;return 0==(2&t)?-r:r},t.prototype._gradient1d=function(t,e){return 0==(1&t)?-e:e},t.prototype._noise1d=function(t){var e=255&Math.floor(t);return(Mi(Bi(t-=Math.floor(t)),this._gradient1d(this._p[e],t),this._gradient1d(this._p[e+1],t-1))+1)/2},t.prototype._noise2d=function(t,e){var n=255&Math.floor(t),r=255&Math.floor(e);t-=Math.floor(t),e-=Math.floor(e);var i=Bi(t),o=Bi(e),a=this._p[n]+r,s=this._p[n+1]+r;return(Mi(o,Mi(i,this._gradient2d(this._p[a],t,e),this._gradient2d(this._p[s],t-1,e)),Mi(i,this._gradient2d(this._p[a+1],t,e-1),this._gradient2d(this._p[s+1],t-1,e-1)))+1)/2},t.prototype._noise3d=function(t,e,n){var r=255&Math.floor(t),i=255&Math.floor(e),o=255&Math.floor(n);t-=Math.floor(t),e-=Math.floor(e),n-=Math.floor(n);var a=Bi(t),s=Bi(e),l=Bi(n),u=this._p[r]+i,c=this._p[r+1]+i,h=this._p[u]+o,f=this._p[c]+o,p=this._p[u+1]+o,d=this._p[c+1]+o;return(Mi(l,Mi(s,Mi(a,this._gradient3d(this._p[h],t,e,n),this._gradient3d(this._p[f],t-1,e,n)),Mi(a,this._gradient3d(this._p[p],t,e-1,n),this._gradient3d(this._p[d],t-1,e-1,n))),Mi(s,Mi(a,this._gradient3d(this._p[h+1],t,e,n-1),this._gradient3d(this._p[f+1],t-1,e,n-1)),Mi(a,this._gradient3d(this._p[p+1],t,e-1,n-1),this._gradient3d(this._p[d+1],t-1,e-1,n-1))))+1)/2},t}(),Ri=function(){function t(t,e){this.generator=t,this.colorFcn=e,e||(this.colorFcn=function(t){return t<125?tt.Black:tt.White})}return t.prototype.image=function(t,e){var n=document.createElement("img"),r=document.createElement("canvas");r.width=t,r.height=e;var i=r.getContext("2d");return this.draw(i,0,0,t,e),n.src=r.toDataURL(),n},t.prototype.draw=function(t,e,n,r,i){for(var o=this.generator.grid(r,i),a=t.getImageData(e,n,r,i),s=0;s<i;s++)for(var l=0;l<r;l++){var u=o[l+r*s],c=255&Math.floor(255*u),h=4*(l+s*a.width),f=this.colorFcn(c);a.data[h]=f.r,a.data[h+1]=f.g,a.data[h+2]=f.b,a.data[h+3]=Math.floor(255*f.a)}t.putImageData(a,e,n)},t}(),ji=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zi=function(){function t(){}return t.create=function(t){return t instanceof AudioBuffer?new Ii(t):new Fi(t)},t}(),Fi=function(){function t(t){this._src=t,this._volume=1,this._duration=void 0,this._loop=!1,this._isPlaying=!1,this._isPaused=!1}return Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._instance&&(this._instance.loop=t,this._wireUpOnEnded())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=v(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration=t},enumerable:!1,configurable:!0}),t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.pause=function(){this._isPlaying&&(this._isPaused=!0,this._isPlaying=!1)},t.prototype.stop=function(){this._isPlaying&&(this._isPlaying=!1,this._isPaused=!1)},t.prototype.play=function(){return this._isPaused&&this._resumePlayBack(),this._isPlaying||this._startPlayBack(),this._playingPromise},t.prototype._startPlayBack=function(){this._isPlaying=!0,this._isPaused=!1,this._playingPromise=new p},t.prototype._resumePlayBack=function(){this._isPaused&&(this._isPaused=!1,this._isPlaying=!0)},t.prototype._wireUpOnEnded=function(){var t=this;this.loop||(this._instance.onended=function(){return t._handleOnEnded()})},t.prototype._handleOnEnded=function(){},t}(),Ii=function(t){function e(e){var n=t.call(this,e)||this;return n._audioContext=An.create(),n._volumeNode=n._audioContext.createGain(),n._currentOffset=0,n._createNewBufferSource(),n}return ji(e,t),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){t=v(t,0,1),this._volume=t,this._isPlaying&&this._volumeNode.gain.setTargetAtTime?this._volumeNode.gain.setTargetAtTime(t,this._audioContext.currentTime,.1):this._volumeNode.gain.value=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_playbackRate",{get:function(){return this._instance?1/(this._instance.playbackRate.value||1):null},enumerable:!1,configurable:!0}),e.prototype.pause=function(){t.prototype.pause.call(this),this._instance.stop(0),this._setPauseOffset()},e.prototype.stop=function(){t.prototype.stop.call(this),this._currentOffset=0,this._instance.stop(0),this._instance.onended||this._handleOnEnded()},e.prototype._startPlayBack=function(){t.prototype._startPlayBack.call(this),this._instance||this._createNewBufferSource(),this._rememberStartTime(),this._volumeNode.connect(this._audioContext.destination),this._instance.start(0,0),this._currentOffset=0,this._playingPromise=new p,this._wireUpOnEnded()},e.prototype._resumePlayBack=function(){t.prototype._resumePlayBack.call(this),this._instance.onended=null,this._createNewBufferSource();var e=this._playbackRate*this._src.duration,n=this._currentOffset%e;this._rememberStartTime(-1e3*n),this._instance.start(0,n),this._wireUpOnEnded()},e.prototype._handleOnEnded=function(){this._isPaused||(this._isPlaying=!1,this._playingPromise.resolve(!0))},e.prototype._rememberStartTime=function(t){this._startTime=(new Date).getTime()+(0|t)},e.prototype._setPauseOffset=function(){this._currentOffset=((new Date).getTime()-this._startTime)*this._playbackRate/1e3},e.prototype._createNewBufferSource=function(){this._instance=this._audioContext.createBufferSource(),this._instance.buffer=this._src,this._instance.loop=this.loop,this._instance.playbackRate.setValueAtTime(1,0),this._instance.connect(this._volumeNode)},e}(Fi);function Li(t){try{var e=new Audio,n=t.match(/.*\.([A-Za-z0-9]+)$/)[1];return!!e.canPlayType("audio/"+n)}catch(t){return R.getInstance().warn("Cannot determine audio support, assuming no support for the Audio Tag",t),!1}}var Ni=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ui=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.call(this,"","")||this;r._loop=!1,r._volume=1,r._duration=void 0,r._isStopped=!1,r._isPaused=!1,r._tracks=[],r._wasPlayingOnHidden=!1,r._processedData=new p,r._audioContext=An.create(),r._detectResponseType();for(var i=0,o=e;i<o.length;i++){var a=o[i];if(Li(a)){r.path=a;break}}return r.path||(r.logger.warn("This browser does not support any of the audio files specified:",e.join(", ")),r.logger.warn("Attempting to use",e[0]),r.path=e[0]),r}return Ni(e,t),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t;for(var e=0,n=this._tracks;e<n.length;e++)n[e].loop=this._loop;this.logger.debug("Set loop for all instances of sound",this.path,"to",this._loop)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t;for(var e=0,n=this._tracks;e<n.length;e++)n[e].volume=this._volume;this.emit("volumechange",new ci(this)),this.logger.debug("Set loop for all instances of sound",this.path,"to",this._volume)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instances",{get:function(){return this._tracks},enumerable:!1,configurable:!0}),e.prototype.wireEngine=function(t){var e=this;t&&(this._engine=t,this._engine.on("hidden",(function(){t.pauseAudioWhenHidden&&e.isPlaying()&&(e._wasPlayingOnHidden=!0,e.pause())})),this._engine.on("visible",(function(){t.pauseAudioWhenHidden&&e._wasPlayingOnHidden&&(e.play(),e._wasPlayingOnHidden=!1)})),this._engine.on("start",(function(){e._isStopped=!1})),this._engine.on("stop",(function(){e.stop(),e._isStopped=!0})))},e.prototype.instanceCount=function(){return this._tracks.length},e.prototype.isPlaying=function(){return this._tracks.some((function(t){return t.isPlaying()}))},e.prototype.play=function(t){return this.isLoaded()?this._isStopped?(this.logger.warn("Cannot start playing. Engine is in a stopped state."),p.resolve(!1)):(this.volume=t||this.volume,this._isPaused?this._resumePlayback():this._startPlayback()):(this.logger.warn("Cannot start playing. Resource",this.path,"is not loaded yet"),p.resolve(!0))},e.prototype.pause=function(){if(this.isPlaying()){for(var t=0,e=this._tracks;t<e.length;t++)e[t].pause();this._isPaused=!0,this.emit("pause",new ci(this)),this.logger.debug("Paused all instances of sound",this.path)}},e.prototype.stop=function(){for(var t=0,e=this._tracks;t<e.length;t++)e[t].stop();this.emit("stop",new ci(this)),this._isPaused=!1,this._tracks.length=0,this.logger.debug("Stopped all instances of sound",this.path)},e.prototype.setData=function(t){this.emit("emptied",new ci(this)),this.data=t,this._processedData=new p},e.prototype.processData=function(t){var e=this;return(t instanceof ArrayBuffer?this._processArrayBufferData(t):this._processBlobData(t)).then((function(t){return e._setProcessedData(t)}))},e.prototype.getTrackId=function(t){return this._tracks.indexOf(t)},e.prototype._resumePlayback=function(){if(this._isPaused){for(var t=[],e=0,n=this._tracks;e<n.length;e++){var r=n[e];t.push(r.play())}return this._isPaused=!1,this.emit("resume",new ci(this)),this.logger.debug("Resuming paused instances for sound",this.path,this._tracks),p.join(t)}return p.resolve(!0)},e.prototype._startPlayback=function(){var t=this,e=this._createNewTrack(),n=new p;return e.then((function(e){e.play().then((function(r){return t.emit("playbackend",new ci(t,e)),t._tracks.splice(t.getTrackId(e),1),n.resolve(r),r})),t.emit("playbackstart",new ci(t,e)),t.logger.debug("Playing new instance for sound",t.path)})),n},e.prototype._processArrayBufferData=function(t){var e=this,n=new p;return this._audioContext.decodeAudioData(t,(function(t){n.resolve(t)}),(function(){e.logger.error("Unable to decode  this browser may not fully support this format, or the file may be corrupt, if this is an mp3 try removing id3 tags and album art from the file."),n.resolve(void 0)})),n},e.prototype._processBlobData=function(e){return(new p).resolve(t.prototype.processData.call(this,e))},e.prototype._setProcessedData=function(t){this._processedData.resolve(t),this._duration="object"==typeof t?t.duration:void 0,this.emit("processed",new hi(this,t))},e.prototype._createNewTrack=function(){var t=this,e=new p;return 0!==this._processedData.state()&&this.processData(this.data),this._processedData.then((function(n){return e.resolve(t._getTrackInstance(n)),n}),(function(e){t.logger.error(e,"Cannot create AudioInstance due to wrong processed data.")})),e},e.prototype._getTrackInstance=function(t){var e=zi.create(t);return e.loop=this.loop,e.volume=this.volume,e.duration=this.duration,this._tracks.push(e),e},e.prototype._detectResponseType=function(){window.AudioContext?this.responseType=xi.type.arraybuffer:this.responseType=xi.type.blob},e}(ee),Hi=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wi=function(t){function e(e,n,r){void 0===n&&(n=tt.Magenta),void 0===r&&(r=!0);var i=t.call(this,e,"arraybuffer",r)||this;return i.path=e,i.color=n,i.bustCache=r,i.loaded=new p,i._isLoaded=!1,i._stream=null,i._gif=null,i._texture=[],i._animation=null,i._transparentColor=null,i._transparentColor=n,i}return Hi(e,t),e.prototype.isLoaded=function(){return this._isLoaded},e.prototype.load=function(){var e=this,n=new p;return t.prototype.load.call(this).then((function(){e._stream=new Qi(e.getData()),e._gif=new Gi(e._stream,e._transparentColor);for(var t=[],r=0;r<e._gif.images.length;r++){var i=new me(e._gif.images[r].src,!1);e._texture.push(i),t.push(i.load())}p.join(t).then((function(){e._isLoaded=!0,n.resolve(e._texture)}))}),(function(){n.reject("Error loading texture.")})),n},e.prototype.asSprite=function(t){return void 0===t&&(t=0),this._texture[t].asSprite()},e.prototype.asSpriteSheet=function(){var t=this._texture.map((function(t){return t.asSprite()}));return new bi(t)},e.prototype.asAnimation=function(t,e){var n=this.asSpriteSheet();return this._animation=n.getAnimationForAll(t,e),this._animation},Object.defineProperty(e.prototype,"readCheckBytes",{get:function(){return this._gif.checkBytes},enumerable:!1,configurable:!0}),e}(ee),Vi=function(t){return t.reduce((function(t,e){return 2*t+e}),0)},qi=function(t){for(var e=[],n=7;n>=0;n--)e.push(!!(t&1<<n));return e},Qi=function(t){var e=this;if(this.data=null,this.len=0,this.position=0,this.readByte=function(){if(e.position>=e.data.byteLength)throw new Error("Attempted to read past end of stream.");return e.data[e.position++]},this.readBytes=function(t){for(var n=[],r=0;r<t;r++)n.push(e.readByte());return n},this.read=function(t){for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e.readByte());return n},this.readUnsigned=function(){var t=e.readBytes(2);return(t[1]<<8)+t[0]},this.data=new Uint8Array(t),this.len=this.data.byteLength,0===this.len)throw new Error("No data loaded from file")},Gi=function(t,e){var n=this;void 0===e&&(e=tt.Magenta),this._st=null,this._handler={},this._transparentColor=null,this.frames=[],this.images=[],this.globalColorTable=[],this.checkBytes=[],this.parseColorTable=function(t){for(var e=[],r=0;r<t;r++){var i="#"+n._st.readBytes(3).map((function(t){var e=t.toString(16);return 1===e.length?"0"+e:e})).join("");e.push(i)}return e},this.readSubBlocks=function(){var t,e;e="";do{t=n._st.readByte(),e+=n._st.read(t)}while(0!==t);return e},this.parseHeader=function(){var t={sig:null,ver:null,width:null,height:null,colorRes:null,globalColorTableSize:null,gctFlag:null,sorted:null,globalColorTable:[],bgColor:null,pixelAspectRatio:null};if(t.sig=n._st.read(3),t.ver=n._st.read(3),"GIF"!==t.sig)throw new Error("Not a GIF file.");t.width=n._st.readUnsigned(),t.height=n._st.readUnsigned();var e=qi(n._st.readByte());t.gctFlag=e.shift(),t.colorRes=Vi(e.splice(0,3)),t.sorted=e.shift(),t.globalColorTableSize=Vi(e.splice(0,3)),t.bgColor=n._st.readByte(),t.pixelAspectRatio=n._st.readByte(),t.gctFlag&&(t.globalColorTable=n.parseColorTable(1<<t.globalColorTableSize+1),n.globalColorTable=t.globalColorTable),n._handler.hdr&&n._handler.hdr(t)&&n.checkBytes.push(n._handler.hdr)},this.parseExt=function(t){switch(t.label=n._st.readByte(),t.label){case 249:t.extType="gce",function(t){n.checkBytes.push(n._st.readByte());var e=qi(n._st.readByte());t.reserved=e.splice(0,3),t.disposalMethod=Vi(e.splice(0,3)),t.userInput=e.shift(),t.transparencyGiven=e.shift(),t.delayTime=n._st.readUnsigned(),t.transparencyIndex=n._st.readByte(),t.terminator=n._st.readByte(),n._handler.gce&&n._handler.gce(t)&&n.checkBytes.push(n._handler.gce)}(t);break;case 254:t.extType="com",function(t){t.comment=n.readSubBlocks(),n._handler.com&&n._handler.com(t)&&n.checkBytes.push(n._handler.com)}(t);break;case 1:t.extType="pte",function(t){n.checkBytes.push(n._st.readByte()),t.ptHeader=n._st.readBytes(12),t.ptData=n.readSubBlocks(),n._handler.pte&&n._handler.pte(t)&&n.checkBytes.push(n._handler.pte)}(t);break;case 255:t.extType="app",function(t){switch(n.checkBytes.push(n._st.readByte()),t.identifier=n._st.read(8),t.authCode=n._st.read(3),t.identifier){case"NETSCAPE":!function(t){n.checkBytes.push(n._st.readByte()),t.unknown=n._st.readByte(),t.iterations=n._st.readUnsigned(),t.terminator=n._st.readByte(),n._handler.app&&n._handler.app.NETSCAPE&&n._handler.app.NETSCAPE(t)&&n.checkBytes.push(n._handler.app)}(t);break;default:!function(t){t.appData=n.readSubBlocks(),n._handler.app&&n._handler.app[t.identifier]&&n._handler.app[t.identifier](t)&&n.checkBytes.push(n._handler.app[t.identifier])}(t)}}(t);break;default:t.extType="unknown",function(t){t.data=n.readSubBlocks(),n._handler.unknown&&n._handler.unknown(t)&&n.checkBytes.push(n._handler.unknown)}(t)}},this.parseImg=function(t){t.leftPos=n._st.readUnsigned(),t.topPos=n._st.readUnsigned(),t.width=n._st.readUnsigned(),t.height=n._st.readUnsigned();var e=qi(n._st.readByte());t.lctFlag=e.shift(),t.interlaced=e.shift(),t.sorted=e.shift(),t.reserved=e.splice(0,2),t.lctSize=Vi(e.splice(0,3)),t.lctFlag&&(t.lct=n.parseColorTable(1<<t.lctSize+1)),t.lzwMinCodeSize=n._st.readByte();var r=n.readSubBlocks();t.pixels=function(t,e){for(var n,r,i=0,o=function(t){for(var n=0,r=0;r<t;r++)e.charCodeAt(i>>3)&1<<(7&i)&&(n|=1<<r),i++;return n},a=[],s=1<<t,l=s+1,u=t+1,c=[],h=function(){c=[],u=t+1;for(var e=0;e<s;e++)c[e]=[e];c[s]=[],c[l]=null};;)if(r=n,(n=o(u))!==s){if(n===l)break;if(n<c.length)r!==s&&c.push(c[r].concat(c[n][0]));else{if(n!==c.length)throw new Error("Invalid LZW code.");c.push(c[r].concat(c[r][0]))}a.push.apply(a,c[n]),c.length===1<<u&&u<12&&u++}else h();return a}(t.lzwMinCodeSize,r),t.interlaced&&(t.pixels=function(t,e){for(var n=new Array(t.length),r=t.length/e,i=function(r,i){var o=t.slice(i*e,(i+1)*e);n.splice.apply(n,[r*e,e].concat(o))},o=[0,4,2,1],a=[8,8,4,2],s=0,l=0;l<4;l++)for(var u=o[l];u<r;u+=a[l])i(u,s),s++;return n}(t.pixels,t.width)),n.frames.push(t),n.arrayToImage(t),n._handler.img&&n._handler.img(t)&&n.checkBytes.push(n._handler)},this.parseBlock=function(){var t={sentinel:n._st.readByte(),type:""};switch(String.fromCharCode(t.sentinel)){case"!":t.type="ext",n.parseExt(t);break;case",":t.type="img",n.parseImg(t);break;case";":t.type="eof",n._handler.eof&&n._handler.eof(t)&&n.checkBytes.push(n._handler.eof);break;default:throw new Error("Unknown block: 0x"+t.sentinel.toString(16))}"eof"!==t.type&&n.parseBlock()},this.arrayToImage=function(t){var e=0,r=document.createElement("canvas");r.id=e.toString(),r.width=t.width,r.height=t.height,e++;for(var i=r.getContext("2d"),o=0,a=0,s=0;s<t.pixels.length;s++)a%t.width==0&&(o++,a=0),n.globalColorTable[t.pixels[s]]===n._transparentColor.toHex()?i.fillStyle="rgba(0, 0, 0, 0)":i.fillStyle=n.globalColorTable[t.pixels[s]],i.fillRect(a,o,1,1),a++;var l=new Image;l.src=r.toDataURL(),n.images.push(l)},this._st=t,this._handler={},this._transparentColor=e,this.parseHeader(),this.parseBlock()},Zi="0.24.5";h()}])},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";t.exports=n(16)},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(4);function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function o(t){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return function(){var e,n=Object(r.a)(t);if(i()){var o=Object(r.a)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return a(this,e)}}},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){t.exports=n(21)},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(4);function i(t,e,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(17)},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){var r;r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var r=n(0),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296===(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(l),a=0,o=0;a<l;o++)55296===(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320===(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,o,s=e||t.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)u[r++]=i;else if((o=a[i])>4)u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(8),a=n(9);!function(t){t[t.TMX=0]="TMX",t[t.JSON=1]="JSON"}(i=e.TiledMapFormat||(e.TiledMapFormat={}));var s=function(t){function e(e,n){void 0===n&&(n=i.JSON);var r=this;switch(n){case i.JSON:r=t.call(this,e,"json")||this;break;default:throw"The format "+n+" is not currently supported. Please export Tiled map as JSON."}return r.mapFormat=n,r.imagePathAccessor=r.externalTilesetPathAccessor=function(t,n){if(0===t.indexOf("/"))return t;var r=e.split("/"),i=r.concat([]);return r.length>0&&i.splice(-1),i.push(t),i.join("/")},r}return r(e,t),e.prototype.load=function(){var e=this,n=new o.Promise;return t.prototype.load.call(this).then((function(t){var r=[];e.data.tilesets.forEach((function(t){if(t.source){var n=new o.Resource(e.externalTilesetPathAccessor(t.source,t),"json");r.push(n.load().then((function(e){Object.assign(t,e)})))}})),o.Promise.join.apply(e,r).then((function(){r=[],e.data.tilesets.forEach((function(t){var n=new o.Texture(e.imagePathAccessor(t.image,t));t.imageTexture=n,r.push(n.load()),o.Logger.getInstance().debug("[Tiled] Loading associated tileset: "+t.image)})),o.Promise.join.apply(e,r).then((function(){n.resolve(t)}),(function(t){n.reject(t)}))}),(function(t){n.reject(t)}))})),n},e.prototype.processData=function(t){if("object"!==typeof t)throw"Tiled map resource "+this.path+" is not the correct content type";if(void 0===t)throw"Tiled map resource "+this.path+" is empty";switch(this.mapFormat){case i.JSON:return l(t)}},e.prototype.getTilesetForTile=function(t){for(var e=this.data.tilesets.length-1;e>=0;e--){var n=this.data.tilesets[e];if(n.firstgid<=t)return n}return null},e.prototype.getTileMap=function(){for(var t=new o.TileMap(0,0,this.data.tilewidth,this.data.tileheight,this.data.height,this.data.width),e=0,n=this.data.tilesets;e<n.length;e++){var r=n[e],i=Math.floor(r.imagewidth/r.tilewidth),a=Math.floor(r.imageheight/r.tileheight),s=new o.SpriteSheet(r.imageTexture,i,a,r.tilewidth,r.tileheight);t.registerSpriteSheet(r.firstgid.toString(),s)}for(var l=0,u=this.data.layers;l<u.length;l++){var c=u[l];if("tilelayer"===c.type)for(var h=0;h<c.data.length;h++){var f=c.data[h];0!==f&&(r=this.getTilesetForTile(f),t.data[h].sprites.push(new o.TileSprite(r.firstgid.toString(),f-r.firstgid)))}}return t},e}(o.Resource);e.TiledResource=s;var l=function(t){if(t.layers)for(var e=0,n=t.layers;e<n.length;e++){var r=n[e];"string"===typeof r.data?"base64"===r.encoding&&(r.data=u.decompressBase64(r.data,r.encoding,r.compression||"")):r.data=u.decompressCsv(r.data)}return t},u={decompressCsv:function(t){return t},decompressBase64:function(t,e,n){var r,i,o,s,l,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c="undefined"!==typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),f="/".charCodeAt(0),p="0".charCodeAt(0),d="a".charCodeAt(0),g="A".charCodeAt(0),y="-".charCodeAt(0),_="_".charCodeAt(0);function m(t){var e=t.charCodeAt(0);return e===h||e===y?62:e===f||e===_?63:e<p?-1:e<p+10?e-p+26+26:e<g+26?e-g:e<d+26?e-d+26:void 0}var v=t.length;l="="===t.charAt(v-2)?2:"="===t.charAt(v-1)?1:0,u=new c(3*t.length/4-l),o=l>0?t.length-4:t.length;var b=0;function w(t){u[b++]=t}for(r=0,i=0;r<o;r+=4,i+=3)w((16711680&(s=m(t.charAt(r))<<18|m(t.charAt(r+1))<<12|m(t.charAt(r+2))<<6|m(t.charAt(r+3))))>>16),w((65280&s)>>8),w(255&s);2===l?w(255&(s=m(t.charAt(r))<<2|m(t.charAt(r+1))>>4)):1===l&&(w((s=m(t.charAt(r))<<10|m(t.charAt(r+1))<<4|m(t.charAt(r+2))>>2)>>8&255),w(255&s)),"zlib"!==n&&"gzip"!==n||(u=a.inflate(u));var x=function(t){for(var e=0,n=t.length-1;n>=0;n--)e=256*e+1*t[n];return e},P=u.length/4,E=new Array(P);for(r=0;r<P;r++)E[r]=x(u.slice(4*r,4*r+3));return E}}},function(e,n){e.exports=t},function(t,e,n){"use strict";var r={};(0,n(0).assign)(r,n(10),n(13),n(6)),t.exports=r},function(t,e,n){"use strict";var r=n(11),i=n(0),o=n(4),a=n(1),s=n(5),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"===typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"===typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),s.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},function(t,e,n){"use strict";var r,i=n(0),o=n(12),a=n(2),s=n(3),l=n(1);function u(t,e){return t.msg=l[e],e}function c(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function f(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function p(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,f(t.strm)}function d(t,e){t.pending_buf[t.pending++]=e}function g(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function y(t,e,n,r){var o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,i.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=a(t.adler,e,o,n):2===t.state.wrap&&(t.adler=s(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function _(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,u=t.window,c=t.w_mask,h=t.prev,f=t.strstart+258,p=u[o+a-1],d=u[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+a]===d&&u[n+a-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=258-(f-o),o=f-258,r>a){if(t.match_start=e,a=r,r>=s)break;p=u[o+a-1],d=u[o+a]}}}while((e=h[e&c])>l&&0!==--i);return a<=t.lookahead?a:t.lookahead}function m(t){var e,n,r,o,a,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-262)){i.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=s?r-s:0}while(--n);e=n=s;do{r=t.prev[--e],t.prev[e]=r>=s?r-s:0}while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=y(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+3-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function v(t,e){for(var n,r;;){if(t.lookahead<262){if(m(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=_(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,r,i;;){if(t.lookahead<262){if(m(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=_(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function w(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function P(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):u(t,-2)}function E(t){var e,n=P(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function S(t,e,n,r,o,a){if(!t)return-2;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>9||8!==n||r<8||r>15||e<0||e>9||a<0||a>4)return u(t,-2);8===r&&(r=9);var l=new x;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,E(t)}r=[new w(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(m(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)})),new w(4,4,8,4,v),new w(4,5,16,8,v),new w(4,6,32,32,v),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],e.deflateInit=function(t,e){return S(t,e,8,15,8,0)},e.deflateInit2=S,e.deflateReset=E,e.deflateResetKeep=P,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,i,a,l;if(!t||!t.state||e>5||e<0)return t?u(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return u(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,d(i,31),d(i,139),d(i,8),i.gzhead?(d(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),d(i,255&i.gzhead.time),d(i,i.gzhead.time>>8&255),d(i,i.gzhead.time>>16&255),d(i,i.gzhead.time>>24&255),d(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),d(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(d(i,255&i.gzhead.extra.length),d(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(d(i,0),d(i,0),d(i,0),d(i,0),d(i,0),d(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),d(i,3),i.status=113);else{var y=8+(i.w_bits-8<<4)<<8;y|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(y|=32),y+=31-y%31,i.status=113,g(i,y),0!==i.strstart&&(g(i,t.adler>>>16),g(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending!==i.pending_buf_size));)d(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,d(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),f(t),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,d(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&f(t),i.pending+2<=i.pending_buf_size&&(d(i,255&t.adler),d(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(f(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&c(e)<=c(n)&&4!==e)return u(t,-5);if(666===i.status&&0!==t.avail_in)return u(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var _=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(m(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=258){if(m(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==_&&4!==_||(i.status=666),1===_||3===_)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),f(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(d(i,255&t.adler),d(i,t.adler>>8&255),d(i,t.adler>>16&255),d(i,t.adler>>24&255),d(i,255&t.total_in),d(i,t.total_in>>8&255),d(i,t.total_in>>16&255),d(i,t.total_in>>24&255)):(g(i,t.adler>>>16),g(i,65535&t.adler)),f(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?u(t,-2):(t.state=null,113===e?u(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,o,s,l,u,c,f,p=e.length;if(!t||!t.state)return-2;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,e,p-n.w_size,n.w_size,0),e=f,p=n.w_size),l=t.avail_in,u=t.next_in,c=t.input,t.avail_in=p,t.next_in=0,t.input=e,m(n);n.lookahead>=3;){r=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=2,m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=l,n.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(0);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);i(u);var c=new Array(60);i(c);var h=new Array(512);i(h);var f=new Array(256);i(f);var p=new Array(29);i(p);var d,g,y,_=new Array(30);function m(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function v(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function P(t,e,n){x(t,n[2*e],n[2*e+1])}function E(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function S(t,e,n){var r,i,o=new Array(16),a=0;for(r=1;r<=15;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=E(o[s]++,s))}}function k(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function A(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function C(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function T(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&C(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!C(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,s,l,u=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],i=t.pending_buf[t.l_buf+u],u++,0===r?P(t,i,e):(P(t,(s=f[i])+256+1,e),0!==(l=o[s])&&x(t,i-=p[s],l),P(t,s=b(--r),n),0!==(l=a[s])&&x(t,r-=_[s],l))}while(u<t.last_lit);P(t,256,e)}function M(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)T(t,o,n);i=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],T(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,T(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=l[2*l[2*(r=t.heap[n])+1]+1]+1)>d&&(o=d,g++),l[2*r+1]=o,r>u||(t.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=l[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==g){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,g-=2}while(g>0);for(o=d;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>u||(l[2*i+1]!==o&&(t.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(t,e),S(o,u,t.bl_count)}function B(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<l&&i===a||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4))}function D(t,e,n){var r,i,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)do{P(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(P(t,i,t.bl_tree),s--),P(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(P(t,17,t.bl_tree),x(t,s-3,3)):(P(t,18,t.bl_tree),x(t,s-11,7));s=0,o=i,0===a?(l=138,u=3):i===a?(l=6,u=3):(l=7,u=4)}}i(_);var R=!1;function j(t,e,n,i){x(t,0+(i?1:0),3),function(t,e,n,i){A(t),i&&(w(t,n),w(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){R||(function(){var t,e,n,r,i,l=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,t=0;t<1<<o[r];t++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(_[r]=i,t=0;t<1<<a[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(_[r]=i<<7,t=0;t<1<<a[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,l[8]++;for(;t<=255;)u[2*t+1]=9,t++,l[9]++;for(;t<=279;)u[2*t+1]=7,t++,l[7]++;for(;t<=287;)u[2*t+1]=8,t++,l[8]++;for(S(u,287,l),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=E(t,5);d=new m(u,o,257,286,15),g=new m(c,a,0,30,15),y=new m(new Array(0),s,0,19,7)}(),R=!0),t.l_desc=new v(t.dyn_ltree,d),t.d_desc=new v(t.dyn_dtree,g),t.bl_desc=new v(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,k(t)},e._tr_stored_block=j,e._tr_flush_block=function(t,e,n,r){var i,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),a=function(t){var e;for(B(t,t.dyn_ltree,t.l_desc.max_code),B(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==e?j(t,e,n,r):4===t.strategy||o===i?(x(t,2+(r?1:0),3),O(t,u,c)):(x(t,4+(r?1:0),3),function(t,e,n,r){var i;for(x(t,e-257,5),x(t,n-1,5),x(t,r-4,4),i=0;i<r;i++)x(t,t.bl_tree[2*l[i]+1],3);D(t,t.dyn_ltree,e-1),D(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),O(t,t.dyn_ltree,t.dyn_dtree)),k(t),r&&A(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),P(t,256,u),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var r=n(14),i=n(0),o=n(4),a=n(6),s=n(1),l=n(5),u=n(17),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,l,u,h,f,p=this.strm,d=this.options.chunkSize,g=this.options.dictionary,y=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof t?p.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(d),p.next_out=0,p.avail_out=d),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(f="string"===typeof g?o.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===y&&(n=a.Z_OK,y=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),u=p.next_out-l,h=o.buf2string(p.output,l),p.next_out=u,p.avail_out=d-u,u&&i.arraySet(p.output,p.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(y=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var r=n(0),i=n(2),o=n(3),a=n(15),s=n(16);function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):-2}function f(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h(t))):-2}function p(t,e){var n,r;return t?(r=new u,t.state=r,r.window=null,0!==(n=f(t,e))&&(t.state=null),n):-2}var d,g,y=!0;function _(t){if(y){var e;for(d=new r.Buf32(512),g=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,g,0,t.work,{bits:5}),y=!1}t.lencode=d,t.lenbits=9,t.distcode=g,t.distbits=5}function m(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=h,e.inflateReset2=f,e.inflateResetKeep=c,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var n,u,c,h,f,p,d,g,y,v,b,w,x,P,E,S,k,A,C,T,O,M,B,D,R=0,j=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),f=t.next_out,c=t.output,d=t.avail_out,h=t.next_in,u=t.input,p=t.avail_in,g=n.hold,y=n.bits,v=p,b=d,M=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(2&n.wrap&&35615===g){n.check=0,j[0]=255&g,j[1]=g>>>8&255,n.check=o(n.check,j,2,0),g=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!==(15&g)){t.msg="unknown compression method",n.mode=30;break}if(y-=4,O=8+(15&(g>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,t.adler=n.check=1,n.mode=512&g?10:12,g=0,y=0;break;case 2:for(;y<16;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(n.flags=g,8!==(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(j[0]=255&g,j[1]=g>>>8&255,n.check=o(n.check,j,2,0)),g=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}n.head&&(n.head.time=g),512&n.flags&&(j[0]=255&g,j[1]=g>>>8&255,j[2]=g>>>16&255,j[3]=g>>>24&255,n.check=o(n.check,j,4,0)),g=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(j[0]=255&g,j[1]=g>>>8&255,n.check=o(n.check,j,2,0)),g=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(j[0]=255&g,j[1]=g>>>8&255,n.check=o(n.check,j,2,0)),g=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>p&&(w=p),w&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,u,h,w,O)),512&n.flags&&(n.check=o(n.check,u,w,h)),p-=w,h+=w,n.length-=w),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;w=0;do{O=u[h+w++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&w<p);if(512&n.flags&&(n.check=o(n.check,u,w,h)),p-=w,h+=w,O)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;w=0;do{O=u[h+w++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&w<p);if(512&n.flags&&(n.check=o(n.check,u,w,h)),p-=w,h+=w,O)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(g!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}g=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}t.adler=n.check=l(g),g=0,y=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=f,t.avail_out=d,t.next_in=h,t.avail_in=p,n.hold=g,n.bits=y,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){g>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}switch(n.last=1&g,y-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6===e){g>>>=2,y-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if((65535&g)!==(g>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,g=0,y=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(w=n.length){if(w>p&&(w=p),w>d&&(w=d),0===w)break t;r.arraySet(c,u,h,w,f),p-=w,h+=w,d-=w,f+=w,n.length-=w;break}n.mode=12;break;case 17:for(;y<14;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(n.nlen=257+(31&g),g>>>=5,y-=5,n.ndist=1+(31&g),g>>>=5,y-=5,n.ncode=4+(15&g),g>>>=4,y-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}n.lens[z[n.have++]]=7&g,g>>>=3,y-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,M){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(R=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,k=65535&R,!((E=R>>>24)<=y);){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(k<16)g>>>=E,y-=E,n.lens[n.have++]=k;else{if(16===k){for(D=E+2;y<D;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(g>>>=E,y-=E,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],w=3+(3&g),g>>>=2,y-=2}else if(17===k){for(D=E+3;y<D;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}y-=E,O=0,w=3+(7&(g>>>=E)),g>>>=3,y-=3}else{for(D=E+7;y<D;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}y-=E,O=0,w=11+(127&(g>>>=E)),g>>>=7,y-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},M=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,M){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},M=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,M){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(p>=6&&d>=258){t.next_out=f,t.avail_out=d,t.next_in=h,t.avail_in=p,n.hold=g,n.bits=y,a(t,b),f=t.next_out,c=t.output,d=t.avail_out,h=t.next_in,u=t.input,p=t.avail_in,g=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(R=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,k=65535&R,!((E=R>>>24)<=y);){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(S&&0===(240&S)){for(A=E,C=S,T=k;S=(R=n.lencode[T+((g&(1<<A+C)-1)>>A)])>>>16&255,k=65535&R,!(A+(E=R>>>24)<=y);){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}g>>>=A,y-=A,n.back+=A}if(g>>>=E,y-=E,n.back+=E,n.length=k,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(D=n.extra;y<D;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(R=n.distcode[g&(1<<n.distbits)-1])>>>16&255,k=65535&R,!((E=R>>>24)<=y);){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(0===(240&S)){for(A=E,C=S,T=k;S=(R=n.distcode[T+((g&(1<<A+C)-1)>>A)])>>>16&255,k=65535&R,!(A+(E=R>>>24)<=y);){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}g>>>=A,y-=A,n.back+=A}if(g>>>=E,y-=E,n.back+=E,64&S){t.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(D=n.extra;y<D;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===d)break t;if(w=b-d,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,x=n.wsize-w):x=n.wnext-w,w>n.length&&(w=n.length),P=n.window}else P=c,x=f-n.offset,w=n.length;w>d&&(w=d),d-=w,n.length-=w;do{c[f++]=P[x++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===d)break t;c[f++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===p)break t;p--,g|=u[h++]<<y,y+=8}if(b-=d,t.total_out+=b,n.total+=b,b&&(t.adler=n.check=n.flags?o(n.check,c,b,f-b):i(n.check,c,b,f-b)),b=d,(n.flags?g:l(g))!==n.check){t.msg="incorrect data check",n.mode=30;break}g=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===p)break t;p--,g+=u[h++]<<y,y+=8}if(g!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}g=0,y=0}n.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=f,t.avail_out=d,t.next_in=h,t.avail_in=p,n.hold=g,n.bits=y,(n.wsize||b!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&m(t,t.output,t.next_out,b-t.avail_out)?(n.mode=31,-4):(v-=t.avail_in,b-=t.avail_out,t.total_in+=v,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?o(n.check,c,b,t.next_out-b):i(n.check,c,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===v&&0===b||4===e)&&0===M&&(M=-5),M)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0===(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:m(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,l,u,c,h,f,p,d,g,y,_,m,v,b,w,x,P,E,S,k;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,k=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,g=n.lencode,y=n.distcode,_=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{d<15&&(p+=S[r++]<<d,d+=8,p+=S[r++]<<d,d+=8),v=g[p&_];e:for(;;){if(p>>>=b=v>>>24,d-=b,0===(b=v>>>16&255))k[o++]=65535&v;else{if(!(16&b)){if(0===(64&b)){v=g[(65535&v)+(p&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&v,(b&=15)&&(d<b&&(p+=S[r++]<<d,d+=8),w+=p&(1<<b)-1,p>>>=b,d-=b),d<15&&(p+=S[r++]<<d,d+=8,p+=S[r++]<<d,d+=8),v=y[p&m];n:for(;;){if(p>>>=b=v>>>24,d-=b,!(16&(b=v>>>16&255))){if(0===(64&b)){v=y[(65535&v)+(p&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&v,d<(b&=15)&&(p+=S[r++]<<d,(d+=8)<b&&(p+=S[r++]<<d,d+=8)),(x+=p&(1<<b)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=b,d-=b,x>(b=o-a)){if((b=x-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(P=0,E=f,0===h){if(P+=u-b,b<w){w-=b;do{k[o++]=f[P++]}while(--b);P=o-x,E=k}}else if(h<b){if(P+=u+h-b,(b-=h)<w){w-=b;do{k[o++]=f[P++]}while(--b);if(P=0,h<w){w-=b=h;do{k[o++]=f[P++]}while(--b);P=o-x,E=k}}}else if(P+=h-b,b<w){w-=b;do{k[o++]=f[P++]}while(--b);P=o-x,E=k}for(;w>2;)k[o++]=E[P++],k[o++]=E[P++],k[o++]=E[P++],w-=3;w&&(k[o++]=E[P++],w>1&&(k[o++]=E[P++]))}else{P=o-x;do{k[o++]=k[P++],k[o++]=k[P++],k[o++]=k[P++],w-=3}while(w>2);w&&(k[o++]=k[P++],w>1&&(k[o++]=k[P++]))}break}}break}}while(r<i&&o<s);r-=w=d>>3,p&=(1<<(d-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var r=n(0),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,u,c,h,f){var p,d,g,y,_,m,v,b,w,x=f.bits,P=0,E=0,S=0,k=0,A=0,C=0,T=0,O=0,M=0,B=0,D=null,R=0,j=new r.Buf16(16),z=new r.Buf16(16),F=null,I=0;for(P=0;P<=15;P++)j[P]=0;for(E=0;E<l;E++)j[e[n+E]]++;for(A=x,k=15;k>=1&&0===j[k];k--);if(A>k&&(A=k),0===k)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(S=1;S<k&&0===j[S];S++);for(A<S&&(A=S),O=1,P=1;P<=15;P++)if(O<<=1,(O-=j[P])<0)return-1;if(O>0&&(0===t||1!==k))return-1;for(z[1]=0,P=1;P<15;P++)z[P+1]=z[P]+j[P];for(E=0;E<l;E++)0!==e[n+E]&&(h[z[e[n+E]]++]=E);if(0===t?(D=F=h,m=19):1===t?(D=i,R-=257,F=o,I-=257,m=256):(D=a,F=s,m=-1),B=0,E=0,P=S,_=c,C=A,T=0,g=-1,y=(M=1<<A)-1,1===t&&M>852||2===t&&M>592)return 1;for(;;){v=P-T,h[E]<m?(b=0,w=h[E]):h[E]>m?(b=F[I+h[E]],w=D[R+h[E]]):(b=96,w=0),p=1<<P-T,S=d=1<<C;do{u[_+(B>>T)+(d-=p)]=v<<24|b<<16|w|0}while(0!==d);for(p=1<<P-1;B&p;)p>>=1;if(0!==p?(B&=p-1,B+=p):B=0,E++,0===--j[P]){if(P===k)break;P=e[n+h[E]]}if(P>A&&(B&y)!==g){for(0===T&&(T=A),_+=S,O=1<<(C=P-T);C+T<k&&!((O-=j[C+T])<=0);)C++,O<<=1;if(M+=1<<C,1===t&&M>852||2===t&&M>592)return 1;u[g=B&y]=A<<24|C<<16|_-c|0}}return 0!==B&&(u[_+B]=P-T<<24|64<<16|0),f.bits=A,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])},t.exports=r(n(0))},,function(t,e,n){"use strict";var r=n(11),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(_(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var P=x.prototype=new w;P.constructor=x,r(P,b.prototype),P.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)S.call(e,r)&&!k.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:E.current}}function C(t){return"object"===typeof t&&null!==t&&t.$$typeof===o}var T=/\/+/g,O=[];function M(t,e,n,r){if(O.length){var i=O.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function B(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function D(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return r(i,e,""===n?"."+R(e,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+R(s=e[u],u);l+=t(s,c,r,i)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=y&&e[y]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=t(s=s.value,c=n+R(s,u++),r,i);else if("object"===s)throw r=""+e,Error(_(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return l}(t,"",e,n)}function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function z(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(C(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(T,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(T,"$&/")+"/"),D(t,z,e=M(e,o,r,i)),B(e)}var I={current:null};function L(){var t=I.current;if(null===t)throw Error(_(321));return t}var N={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;D(t,j,e=M(null,null,e,n)),B(e)},count:function(t){return D(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!C(t))throw Error(_(143));return t}},e.Component=b,e.Fragment=s,e.Profiler=u,e.PureComponent=x,e.StrictMode=l,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(_(267,t));var i=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=E.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)S.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},e.createElement=A,e.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return L().useCallback(t,e)},e.useContext=function(t,e){return L().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return L().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return L().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return L().useLayoutEffect(t,e)},e.useMemo=function(t,e){return L().useMemo(t,e)},e.useReducer=function(t,e,n){return L().useReducer(t,e,n)},e.useRef=function(t){return L().useRef(t)},e.useState=function(t){return L().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var r=n(3),i=n(11),o=n(18);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,h=null,f={onError:function(t){l=!0,u=t}};function p(t,e,n,r,i,o,a,c,h){l=!1,u=null,s.apply(f,arguments)}var d=null,g=null,y=null;function _(t,e,n){var r=t.type||"unknown-event";t.currentTarget=y(n),function(t,e,n,r,i,o,s,f,d){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var g=u;l=!1,u=null,c||(c=!0,h=g)}}(r,e,void 0,t),t.currentTarget=null}var m=null,v={};function b(){if(m)for(var t in v){var e=v[t],n=m.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!x[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in x[n]=e,n=e.eventTypes){var i=void 0,o=n[r],s=e,l=r;if(P.hasOwnProperty(l))throw Error(a(99,l));P[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&w(u[i],s,l);i=!0}else o.registrationName?(w(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function w(t,e,n){if(E[t])throw Error(a(100,t));E[t]=e,S[t]=e.eventTypes[n].dependencies}var x=[],P={},E={},S={};function k(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!v.hasOwnProperty(e)||v[e]!==r){if(v[e])throw Error(a(102,e));v[e]=r,n=!0}}n&&b()}var A=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,T=null,O=null;function M(t){if(t=g(t)){if("function"!==typeof C)throw Error(a(280));var e=t.stateNode;e&&(e=d(e),C(t.stateNode,t.type,e))}}function B(t){T?O?O.push(t):O=[t]:T=t}function D(){if(T){var t=T,e=O;if(O=T=null,M(t),e)for(t=0;t<e.length;t++)M(e[t])}}function R(t,e){return t(e)}function j(t,e,n,r,i){return t(e,n,r,i)}function z(){}var F=R,I=!1,L=!1;function N(){null===T&&null===O||(z(),D())}function U(t,e,n){if(L)return t(e,n);L=!0;try{return F(t,e,n)}finally{L=!1,N()}}var H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,V={},q={};function Q(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){G[t]=new Q(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];G[e]=new Q(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){G[t]=new Q(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){G[t]=new Q(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){G[t]=new Q(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){G[t]=new Q(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){G[t]=new Q(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){G[t]=new Q(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){G[t]=new Q(t,5,!1,t.toLowerCase(),null,!1)}));var Z=/[\-:]([a-z])/g;function X(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Z,X);G[e]=new Q(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Z,X);G[e]=new Q(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Z,X);G[e]=new Q(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){G[t]=new Q(t,1,!1,t.toLowerCase(),null,!1)})),G.xlinkHref=new Q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){G[t]=new Q(t,1,!1,t.toLowerCase(),null,!0)}));var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Y(t,e,n,r){var i=G.hasOwnProperty(e)?G[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!W.call(q,t)||!W.call(V,t)&&(H.test(t)?q[t]=!0:(V[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}K.hasOwnProperty("ReactCurrentDispatcher")||(K.ReactCurrentDispatcher={current:null}),K.hasOwnProperty("ReactCurrentBatchConfig")||(K.ReactCurrentBatchConfig={suspense:null});var $=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,tt=J?Symbol.for("react.element"):60103,et=J?Symbol.for("react.portal"):60106,nt=J?Symbol.for("react.fragment"):60107,rt=J?Symbol.for("react.strict_mode"):60108,it=J?Symbol.for("react.profiler"):60114,ot=J?Symbol.for("react.provider"):60109,at=J?Symbol.for("react.context"):60110,st=J?Symbol.for("react.concurrent_mode"):60111,lt=J?Symbol.for("react.forward_ref"):60112,ut=J?Symbol.for("react.suspense"):60113,ct=J?Symbol.for("react.suspense_list"):60120,ht=J?Symbol.for("react.memo"):60115,ft=J?Symbol.for("react.lazy"):60116,pt=J?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function gt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function yt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case it:return"Profiler";case rt:return"StrictMode";case ut:return"Suspense";case ct:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case at:return"Context.Consumer";case ot:return"Context.Provider";case lt:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return yt(t.type);case pt:return yt(t.render);case ft:if(t=1===t._status?t._result:null)return yt(t)}return null}function _t(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=yt(t.type);n=null,r&&(n=yt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace($,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function mt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function vt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function bt(t){t._valueTracker||(t._valueTracker=function(t){var e=vt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function xt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Pt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=mt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Et(t,e){null!=(e=e.checked)&&Y(t,"checked",e,!1)}function St(t,e){Et(t,e);var n=mt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?At(t,e.type,n):e.hasOwnProperty("defaultValue")&&At(t,e.type,mt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function kt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function At(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Ct(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Tt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:mt(n)}}function Bt(t,e){var n=mt(e.value),r=mt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Dt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Rt="http://www.w3.org/1999/xhtml",jt="http://www.w3.org/2000/svg";function zt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?zt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var It,Lt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==jt||"innerHTML"in t)t.innerHTML=e;else{for((It=It||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=It.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Nt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Ut(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},Wt={},Vt={};function qt(t){if(Wt[t])return Wt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in Vt)return Wt[t]=n[e];return t}A&&(Vt=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var Qt=qt("animationend"),Gt=qt("animationiteration"),Zt=qt("animationstart"),Xt=qt("transitionend"),Kt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yt=new("function"===typeof WeakMap?WeakMap:Map);function $t(t){var e=Yt.get(t);return void 0===e&&(e=new Map,Yt.set(t,e)),e}function Jt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Jt(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Jt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ie(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var oe=null;function ae(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)_(t,e[r],n[r]);else e&&_(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(oe=re(oe,t)),t=oe,oe=null,t){if(ie(t,ae),oe)throw Error(a(95));if(c)throw t=h,c=!1,h=null,t}}function le(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ue(t){if(!A)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var ce=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ce.length&&ce.push(t)}function fe(t,e,n,r){if(ce.length){var i=ce.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=An(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=le(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<x.length;l++){var u=x[l];u&&(u=u.extractEvents(r,e,o,i,a))&&(s=re(s,u))}se(s)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":Ze(e,"scroll",!0);break;case"focus":case"blur":Ze(e,"focus",!0),Ze(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ue(t)&&Ze(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Kt.indexOf(t)&&Ge(t,e)}n.set(t,null)}}var ge,ye,_e,me=!1,ve=[],be=null,we=null,xe=null,Pe=new Map,Ee=new Map,Se=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ae="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ce(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Te(t,e){switch(t){case"focus":case"blur":be=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(e.pointerId)}}function Oe(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=Ce(e,n,r,i,o),null!==e&&(null!==(e=Cn(e))&&ye(e)),t):(t.eventSystemFlags|=r,t)}function Me(t){var e=An(t.target);if(null!==e){var n=Jt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){_e(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;var e=$e(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Cn(e);return null!==n&&ye(n),t.blockedOn=e,!1}return!0}function De(t,e,n){Be(t)&&n.delete(e)}function Re(){for(me=!1;0<ve.length;){var t=ve[0];if(null!==t.blockedOn){null!==(t=Cn(t.blockedOn))&&ge(t);break}var e=$e(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:ve.shift()}null!==be&&Be(be)&&(be=null),null!==we&&Be(we)&&(we=null),null!==xe&&Be(xe)&&(xe=null),Pe.forEach(De),Ee.forEach(De)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,me||(me=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Re)))}function ze(t){function e(e){return je(e,t)}if(0<ve.length){je(ve[0],t);for(var n=1;n<ve.length;n++){var r=ve[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==be&&je(be,t),null!==we&&je(we,t),null!==xe&&je(xe,t),Pe.forEach(e),Ee.forEach(e),n=0;n<Se.length;n++)(r=Se[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Se.length&&null===(n=Se[0]).blockedOn;)Me(n),null===n.blockedOn&&Se.shift()}var Fe={},Ie=new Map,Le=new Map,Ne=["abort","abort",Qt,"animationEnd",Gt,"animationIteration",Zt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xt,"transitionEnd","waiting","waiting"];function Ue(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},Le.set(r,e),Ie.set(r,o),Fe[i]=o}}Ue("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ue("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ue(Ne,2);for(var He="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<He.length;We++)Le.set(He[We],0);var Ve=o.unstable_UserBlockingPriority,qe=o.unstable_runWithPriority,Qe=!0;function Ge(t,e){Ze(e,t,!1)}function Ze(t,e,n){var r=Le.get(e);switch(void 0===r?2:r){case 0:r=Xe.bind(null,e,1,t);break;case 1:r=Ke.bind(null,e,1,t);break;default:r=Ye.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Xe(t,e,n,r){I||z();var i=Ye,o=I;I=!0;try{j(i,t,e,n,r)}finally{(I=o)||N()}}function Ke(t,e,n,r){qe(Ve,Ye.bind(null,t,e,n,r))}function Ye(t,e,n,r){if(Qe)if(0<ve.length&&-1<ke.indexOf(t))t=Ce(null,t,e,n,r),ve.push(t);else{var i=$e(t,e,n,r);if(null===i)Te(t,r);else if(-1<ke.indexOf(t))t=Ce(i,t,e,n,r),ve.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return be=Oe(be,t,e,n,r,i),!0;case"dragenter":return we=Oe(we,t,e,n,r,i),!0;case"mouseover":return xe=Oe(xe,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pe.set(o,Oe(Pe.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ee.set(o,Oe(Ee.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Te(t,r),t=fe(t,r,null,e);try{U(pe,t)}finally{he(t)}}}}function $e(t,e,n,r){if(null!==(n=An(n=le(r)))){var i=Jt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=te(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=fe(t,r,n,e);try{U(pe,t)}finally{he(t)}return null}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Je.hasOwnProperty(t)&&Je[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Je).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Je[e]=Je[t]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62,""))}}function an(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Rt;function ln(t,e){var n=$t(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=S[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function un(){}function cn(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=cn();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=cn((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gn=null,yn=null;function _n(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function mn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var vn="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0;function wn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function xn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+Pn,Sn="__reactEventHandlers$"+Pn,kn="__reactContainere$"+Pn;function An(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[En]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=xn(t);null!==t;){if(n=t[En])return n;t=xn(t)}return e}n=(t=n).parentNode}return null}function Cn(t){return!(t=t[En]||t[kn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Tn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function On(t){return t[Sn]||null}function Mn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Bn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}function Dn(t,e,n){(e=Bn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Rn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Mn(e);for(e=n.length;0<e--;)Dn(n[e],"captured",t);for(e=0;e<n.length;e++)Dn(n[e],"bubbled",t)}}function jn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Bn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function zn(t){t&&t.dispatchConfig.registrationName&&jn(t._targetInst,null,t)}function Fn(t){ie(t,Rn)}var In=null,Ln=null,Nn=null;function Un(){if(Nn)return Nn;var t,e,n=Ln,r=n.length,i="value"in In?In.value:In.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Nn=i.slice(t,1<e?1-e:void 0)}function Hn(){return!0}function Wn(){return!1}function Vn(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Wn,this.isPropagationStopped=Wn,this}function qn(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Qn(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Gn(t){t.eventPool=[],t.getPooled=qn,t.release=Qn}i(Vn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Wn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Vn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Vn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,Gn(n),n},Gn(Vn);var Zn=Vn.extend({data:null}),Xn=Vn.extend({data:null}),Kn=[9,13,27,32],Yn=A&&"CompositionEvent"in window,$n=null;A&&"documentMode"in document&&($n=document.documentMode);var Jn=A&&"TextEvent"in window&&!$n,tr=A&&(!Yn||$n&&8<$n&&11>=$n),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(t,e){switch(t){case"keyup":return-1!==Kn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(t,e,n,r){var i;if(Yn)t:{switch(t){case"compositionstart":var o=nr.compositionStart;break t;case"compositionend":o=nr.compositionEnd;break t;case"compositionupdate":o=nr.compositionUpdate;break t}o=void 0}else ar?ir(t,n)&&(o=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=nr.compositionStart);return o?(tr&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=Un()):(Ln="value"in(In=r)?In.value:In.textContent,ar=!0)),o=Zn.getPooled(o,e,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),Fn(o),i=o):i=null,(t=Jn?function(t,e){switch(t){case"compositionend":return or(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(ar)return"compositionend"===t||!Yn&&ir(t,e)?(t=Un(),Nn=Ln=In=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Xn.getPooled(nr.beforeInput,e,n,r)).data=t,Fn(e)):e=null,null===i?e:null===e?i:[i,e]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!lr[t.type]:"textarea"===e}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Vn.getPooled(cr.change,t,e,n)).type="change",B(n),Fn(t),t}var fr=null,pr=null;function dr(t){se(t)}function gr(t){if(wt(Tn(t)))return t}function yr(t,e){if("change"===t)return e}var _r=!1;function mr(){fr&&(fr.detachEvent("onpropertychange",vr),pr=fr=null)}function vr(t){if("value"===t.propertyName&&gr(pr))if(t=hr(pr,t,le(t)),I)se(t);else{I=!0;try{R(dr,t)}finally{I=!1,N()}}}function br(t,e,n){"focus"===t?(mr(),pr=n,(fr=e).attachEvent("onpropertychange",vr)):"blur"===t&&mr()}function wr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return gr(pr)}function xr(t,e){if("click"===t)return gr(e)}function Pr(t,e){if("input"===t||"change"===t)return gr(e)}A&&(_r=ue("input")&&(!document.documentMode||9<document.documentMode));var Er={eventTypes:cr,_isInputEventSupported:_r,extractEvents:function(t,e,n,r){var i=e?Tn(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yr;else if(ur(i))if(_r)a=Pr;else{a=wr;var s=br}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=xr);if(a&&(a=a(t,e)))return hr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&At(i,"number",i.value)}},Sr=Vn.extend({view:null,detail:null}),kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kr[t])&&!!e[t]}function Cr(){return Ar}var Tr=0,Or=0,Mr=!1,Br=!1,Dr=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Cr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Tr;return Tr=t.screenX,Mr?"mousemove"===t.type?t.screenX-e:0:(Mr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Or;return Or=t.screenY,Br?"mousemove"===t.type?t.screenY-e:0:(Br=!0,0)}}),Rr=Dr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:jr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?An(e):null)&&(e!==Jt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Dr,l=jr.mouseLeave,u=jr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Rr,l=jr.pointerLeave,u=jr.pointerEnter,c="pointer");if(t=null==a?o:Tn(a),o=null==e?o:Tn(e),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=t,l.relatedTarget=o,(n=s.getPooled(u,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(u=c,a=0,t=s=r;t;t=Mn(t))a++;for(t=0,e=u;e;e=Mn(e))t++;for(;0<a-t;)s=Mn(s),a--;for(;0<t-a;)u=Mn(u),t--;for(;a--;){if(s===u||s===u.alternate)break t;s=Mn(s),u=Mn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Mn(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Mn(c);for(c=0;c<s.length;c++)jn(s[c],"bubbled",l);for(c=r.length;0<c--;)jn(r[c],"captured",n);return 0===(64&i)?[l]:[l,n]}};var Fr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Ir=Object.prototype.hasOwnProperty;function Lr(t,e){if(Fr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ir.call(e,n[r])||!Fr(t[n[r]],e[n[r]]))return!1;return!0}var Nr=A&&"documentMode"in document&&11>=document.documentMode,Ur={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Wr=null,Vr=null,qr=!1;function Qr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return qr||null==Hr||Hr!==cn(n)?null:("selectionStart"in(n=Hr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vr&&Lr(Vr,n)?null:(Vr=n,(t=Vn.getPooled(Ur.select,Wr,t,e)).type="select",t.target=Hr,Fn(t),t))}var Gr={eventTypes:Ur,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=$t(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Tn(e):window,t){case"focus":(ur(i)||"true"===i.contentEditable)&&(Hr=i,Wr=e,Vr=null);break;case"blur":Vr=Wr=Hr=null;break;case"mousedown":qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return qr=!1,Qr(n,r);case"selectionchange":if(Nr)break;case"keydown":case"keyup":return Qr(n,r)}return null}},Zr=Vn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Vn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kr=Sr.extend({relatedTarget:null});function Yr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var $r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ti=Sr.extend({key:function(t){if(t.key){var e=$r[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Yr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Jr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Cr,charCode:function(t){return"keypress"===t.type?Yr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Yr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ei=Dr.extend({dataTransfer:null}),ni=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Cr}),ri=Vn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Dr.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Fe,extractEvents:function(t,e,n,r){var i=Ie.get(t);if(!i)return null;switch(t){case"keypress":if(0===Yr(n))return null;case"keydown":case"keyup":t=ti;break;case"blur":case"focus":t=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=ni;break;case Qt:case Gt:case Zt:t=Zr;break;case Xt:t=ri;break;case"scroll":t=Sr;break;case"wheel":t=ii;break;case"copy":case"cut":case"paste":t=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Rr;break;default:t=Vn}return Fn(e=t.getPooled(i,e,n,r)),e}};if(m)throw Error(a(101));m=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),d=On,g=Cn,y=Tn,k({SimpleEventPlugin:oi,EnterLeaveEventPlugin:zr,ChangeEventPlugin:Er,SelectEventPlugin:Gr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(t){0>si||(t.current=ai[si],ai[si]=null,si--)}function ui(t,e){si++,ai[si]=t.current,t.current=e}var ci={},hi={current:ci},fi={current:!1},pi=ci;function di(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function gi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){li(fi),li(hi)}function _i(t,e,n){if(hi.current!==ci)throw Error(a(168));ui(hi,e),ui(fi,n)}function mi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,yt(e)||"Unknown",o));return i({},n,{},r)}function vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,pi=hi.current,ui(hi,t),ui(fi,fi.current),!0}function bi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=mi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,li(fi),li(hi),ui(hi,t)):li(fi),ui(fi,n)}var wi=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Ei=o.unstable_requestPaint,Si=o.unstable_now,ki=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ci=o.unstable_UserBlockingPriority,Ti=o.unstable_NormalPriority,Oi=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Bi={},Di=o.unstable_shouldYield,Ri=void 0!==Ei?Ei:function(){},ji=null,zi=null,Fi=!1,Ii=Si(),Li=1e4>Ii?Si:function(){return Si()-Ii};function Ni(){switch(ki()){case Ai:return 99;case Ci:return 98;case Ti:return 97;case Oi:return 96;case Mi:return 95;default:throw Error(a(332))}}function Ui(t){switch(t){case 99:return Ai;case 98:return Ci;case 97:return Ti;case 96:return Oi;case 95:return Mi;default:throw Error(a(332))}}function Hi(t,e){return t=Ui(t),wi(t,e)}function Wi(t,e,n){return t=Ui(t),xi(t,e,n)}function Vi(t){return null===ji?(ji=[t],zi=xi(Ai,Qi)):ji.push(t),Bi}function qi(){if(null!==zi){var t=zi;zi=null,Pi(t)}Qi()}function Qi(){if(!Fi&&null!==ji){Fi=!0;var t=0;try{var e=ji;Hi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(t+1)),xi(Ai,qi),n}finally{Fi=!1}}}function Gi(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Zi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Xi={current:null},Ki=null,Yi=null,$i=null;function Ji(){$i=Yi=Ki=null}function to(t){var e=Xi.current;li(Xi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function no(t,e){Ki=t,$i=Yi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Oa=!0),t.firstContext=null)}function ro(t,e){if($i!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||($i=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Yi){if(null===Ki)throw Error(a(308));Yi=e,Ki.dependencies={expirationTime:0,firstContext:e,responders:null}}else Yi=Yi.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function so(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function lo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function uo(t,e){var n=t.alternate;null!==n&&ao(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function co(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=t.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,h=null,f=null,p=null;if(null!==l)for(var d=l;;){if((s=d.expirationTime)<r){var g={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=g,h=u):p=p.next=g,s>c&&(c=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ol(s,d.suspenseConfig);t:{var y=t,_=d;switch(s=e,g=n,_.tag){case 1:if("function"===typeof(y=_.payload)){u=y.call(g,u,s);break t}u=y;break t;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(s="function"===typeof(y=_.payload)?y.call(g,u,s):y)||void 0===s)break t;u=i({},u,s);break t;case 2:io=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===l){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=u:p.next=f,o.baseState=h,o.baseQueue=p,al(c),t.expirationTime=c,t.memoizedState=u}}function ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var fo=K.ReactCurrentBatchConfig,po=(new r.Component).refs;function go(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Jt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Qs(),i=fo.suspense;(i=so(r=Gs(r,t,i),i)).payload=e,void 0!==n&&null!==n&&(i.callback=n),lo(t,i),Zs(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Qs(),i=fo.suspense;(i=so(r=Gs(r,t,i),i)).tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),lo(t,i),Zs(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Qs(),r=fo.suspense;(r=so(n=Gs(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),lo(t,r),Zs(t,n)}};function _o(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Lr(n,r)||!Lr(i,o))}function mo(t,e,n){var r=!1,i=ci,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=gi(e)?pi:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?di(t,i):ci),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function bo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=po,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=gi(e)?pi:hi.current,i.context=di(t,o)),co(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(go(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),co(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}var wo=Array.isArray;function xo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===po&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Po(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Eo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=kl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Tl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=xo(t,e,n),r.return=t,r):((r=Al(n.type,n.key,n.props,null,t.mode,r)).ref=xo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ol(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Cl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Tl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=Al(e.type,e.key,e.props,null,t.mode,n)).ref=xo(t,null,e),n.return=t,n;case et:return(e=Ol(e,t.mode,n)).return=t,e}if(wo(e)||gt(e))return(e=Cl(e,t.mode,n,null)).return=t,e;Po(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===i?n.type===nt?h(t,e,n.props.children,r,i):u(t,e,n,r):null;case et:return n.key===i?c(t,e,n,r):null}if(wo(n)||gt(n))return null!==i?null:h(t,e,n,r,null);Po(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?h(e,t,r.props.children,i,r.key):u(e,t,r,i);case et:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||gt(r))return h(e,t=t.get(n)||null,r,i,null);Po(e,r)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,y=null;null!==h&&g<s.length;g++){h.index>g?(y=h,h=null):y=h.sibling;var _=p(i,h,s[g],l);if(null===_){null===h&&(h=y);break}t&&h&&null===_.alternate&&e(i,h),a=o(_,a,g),null===c?u=_:c.sibling=_,c=_,h=y}if(g===s.length)return n(i,h),u;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);g<s.length;g++)null!==(y=d(h,i,g,s[g],l))&&(t&&null!==y.alternate&&h.delete(null===y.key?g:y.key),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y);return t&&h.forEach((function(t){return e(i,t)})),u}function y(i,s,l,u){var c=gt(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,y=s=0,_=null,m=l.next();null!==g&&!m.done;y++,m=l.next()){g.index>y?(_=g,g=null):_=g.sibling;var v=p(i,g,m.value,u);if(null===v){null===g&&(g=_);break}t&&g&&null===v.alternate&&e(i,g),s=o(v,s,y),null===h?c=v:h.sibling=v,h=v,g=_}if(m.done)return n(i,g),c;if(null===g){for(;!m.done;y++,m=l.next())null!==(m=f(i,m.value,u))&&(s=o(m,s,y),null===h?c=m:h.sibling=m,h=m);return c}for(g=r(i,g);!m.done;y++,m=l.next())null!==(m=d(g,i,y,m.value,u))&&(t&&null!==m.alternate&&g.delete(null===m.key?y:m.key),s=o(m,s,y),null===h?c=m:h.sibling=m,h=m);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"===typeof o&&null!==o&&o.type===nt&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case tt:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===nt){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}break;default:if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=xo(t,u,o),r.return=t,t=r;break t}}n(t,u);break}e(t,u),u=u.sibling}o.type===nt?((r=Cl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Al(o.type,o.key,o.props,null,t.mode,l)).ref=xo(t,r,o),l.return=t,t=l)}return s(t);case et:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Ol(o,t.mode,l)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Tl(o,t.mode,l)).return=t,t=r),s(t);if(wo(o))return g(t,r,o,l);if(gt(o))return y(t,r,o,l);if(c&&Po(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var So=Eo(!0),ko=Eo(!1),Ao={},Co={current:Ao},To={current:Ao},Oo={current:Ao};function Mo(t){if(t===Ao)throw Error(a(174));return t}function Bo(t,e){switch(ui(Oo,e),ui(To,t),ui(Co,Ao),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}li(Co),ui(Co,e)}function Do(){li(Co),li(To),li(Oo)}function Ro(t){Mo(Oo.current);var e=Mo(Co.current),n=Ft(e,t.type);e!==n&&(ui(To,t),ui(Co,n))}function jo(t){To.current===t&&(li(Co),li(To))}var zo={current:0};function Fo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Io(t,e){return{responder:t,props:e}}var Lo=K.ReactCurrentDispatcher,No=K.ReactCurrentBatchConfig,Uo=0,Ho=null,Wo=null,Vo=null,qo=!1;function Qo(){throw Error(a(321))}function Go(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function Zo(t,e,n,r,i,o){if(Uo=o,Ho=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Lo.current=null===t||null===t.memoizedState?_a:ma,t=n(r,i),e.expirationTime===Uo){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Vo=Wo=null,e.updateQueue=null,Lo.current=va,t=n(r,i)}while(e.expirationTime===Uo)}if(Lo.current=ya,e=null!==Wo&&null!==Wo.next,Uo=0,Vo=Wo=Ho=null,qo=!1,e)throw Error(a(300));return t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?Ho.memoizedState=Vo=t:Vo=Vo.next=t,Vo}function Ko(){if(null===Wo){var t=Ho.alternate;t=null!==t?t.memoizedState:null}else t=Wo.next;var e=null===Vo?Ho.memoizedState:Vo.next;if(null!==e)Vo=e,Wo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Wo=t).memoizedState,baseState:Wo.baseState,baseQueue:Wo.baseQueue,queue:Wo.queue,next:null},null===Vo?Ho.memoizedState=Vo=t:Vo=Vo.next=t}return Vo}function Yo(t,e){return"function"===typeof e?e(t):e}function $o(t){var e=Ko(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Wo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.expirationTime;if(c<Uo){var h={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,c>Ho.expirationTime&&(Ho.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),r=u.eagerReducer===t?u.eagerState:t(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,Fr(r,e.memoizedState)||(Oa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Jo(t){var e=Ko(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);Fr(o,e.memoizedState)||(Oa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ta(t){var e=Xo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t}).dispatch=ga.bind(null,Ho,t),[e.memoizedState,t]}function ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Ho.updateQueue)?(e={lastEffect:null},Ho.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function na(){return Ko().memoizedState}function ra(t,e,n,r){var i=Xo();Ho.effectTag|=t,i.memoizedState=ea(1|e,n,void 0,void 0===r?null:r)}function ia(t,e,n,r){var i=Ko();r=void 0===r?null:r;var o=void 0;if(null!==Wo){var a=Wo.memoizedState;if(o=a.destroy,null!==r&&Go(r,a.deps))return void ea(e,n,o,r)}Ho.effectTag|=t,i.memoizedState=ea(1|e,n,o,r)}function oa(t,e){return ra(516,4,t,e)}function aa(t,e){return ia(516,4,t,e)}function sa(t,e){return ia(4,2,t,e)}function la(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function ua(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ia(4,2,la.bind(null,e,t),n)}function ca(){}function ha(t,e){return Xo().memoizedState=[t,void 0===e?null:e],t}function fa(t,e){var n=Ko();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Go(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pa(t,e){var n=Ko();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Go(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function da(t,e,n){var r=Ni();Hi(98>r?98:r,(function(){t(!0)})),Hi(97<r?97:r,(function(){var r=No.suspense;No.suspense=void 0===e?null:e;try{t(!1),n()}finally{No.suspense=r}}))}function ga(t,e,n){var r=Qs(),i=fo.suspense;i={expirationTime:r=Gs(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Ho||null!==o&&o===Ho)qo=!0,i.expirationTime=Uo,Ho.expirationTime=Uo;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Fr(s,a))return}catch(l){}Zs(t,r)}}var ya={readContext:ro,useCallback:Qo,useContext:Qo,useEffect:Qo,useImperativeHandle:Qo,useLayoutEffect:Qo,useMemo:Qo,useReducer:Qo,useRef:Qo,useState:Qo,useDebugValue:Qo,useResponder:Qo,useDeferredValue:Qo,useTransition:Qo},_a={readContext:ro,useCallback:ha,useContext:ro,useEffect:oa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ra(4,2,la.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ga.bind(null,Ho,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Xo().memoizedState=t},useState:ta,useDebugValue:ca,useResponder:Io,useDeferredValue:function(t,e){var n=ta(t),r=n[0],i=n[1];return oa((function(){var n=No.suspense;No.suspense=void 0===e?null:e;try{i(t)}finally{No.suspense=n}}),[t,e]),r},useTransition:function(t){var e=ta(!1),n=e[0];return e=e[1],[ha(da.bind(null,e,t),[e,t]),n]}},ma={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:pa,useReducer:$o,useRef:na,useState:function(){return $o(Yo)},useDebugValue:ca,useResponder:Io,useDeferredValue:function(t,e){var n=$o(Yo),r=n[0],i=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===e?null:e;try{i(t)}finally{No.suspense=n}}),[t,e]),r},useTransition:function(t){var e=$o(Yo),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},va={readContext:ro,useCallback:fa,useContext:ro,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:na,useState:function(){return Jo(Yo)},useDebugValue:ca,useResponder:Io,useDeferredValue:function(t,e){var n=Jo(Yo),r=n[0],i=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===e?null:e;try{i(t)}finally{No.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Jo(Yo),n=e[0];return e=e[1],[fa(da.bind(null,e,t),[e,t]),n]}},ba=null,wa=null,xa=!1;function Pa(t,e){var n=El(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ea(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Sa(t){if(xa){var e=wa;if(e){var n=e;if(!Ea(t,e)){if(!(e=wn(n.nextSibling))||!Ea(t,e))return t.effectTag=-1025&t.effectTag|2,xa=!1,void(ba=t);Pa(ba,n)}ba=t,wa=wn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,xa=!1,ba=t}}function ka(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ba=t}function Aa(t){if(t!==ba)return!1;if(!xa)return ka(t),xa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!mn(e,t.memoizedProps))for(e=wa;e;)Pa(t,e),e=wn(e.nextSibling);if(ka(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){wa=wn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}wa=null}}else wa=ba?wn(t.stateNode.nextSibling):null;return!0}function Ca(){wa=ba=null,xa=!1}var Ta=K.ReactCurrentOwner,Oa=!1;function Ma(t,e,n,r){e.child=null===t?ko(e,null,n,r):So(e,t.child,n,r)}function Ba(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=Zo(t,e,n,r,o,i),null===t||Oa?(e.effectTag|=1,Ma(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Za(t,e,i))}function Da(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Al(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ra(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Lr)(i,r)&&t.ref===e.ref)?Za(t,e,o):(e.effectTag|=1,(t=kl(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ra(t,e,n,r,i,o){return null!==t&&Lr(t.memoizedProps,r)&&t.ref===e.ref&&(Oa=!1,i<o)?(e.expirationTime=t.expirationTime,Za(t,e,o)):za(t,e,n,r,o)}function ja(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function za(t,e,n,r,i){var o=gi(n)?pi:hi.current;return o=di(e,o),no(e,i),n=Zo(t,e,n,r,o,i),null===t||Oa?(e.effectTag|=1,Ma(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Za(t,e,i))}function Fa(t,e,n,r,i){if(gi(n)){var o=!0;vi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),mo(e,n,r),bo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=di(e,u=gi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&vo(e,a,r,u),io=!1;var f=e.memoizedState;a.state=f,co(e,r,a,i),l=e.memoizedState,s!==r||f!==l||fi.current||io?("function"===typeof c&&(go(e,n,c,r),l=e.memoizedState),(s=io||_o(e,n,s,r,f,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ao(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Zi(e.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=di(e,u=gi(n)?pi:hi.current),(h="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&vo(e,a,r,u),io=!1,l=e.memoizedState,a.state=l,co(e,r,a,i),f=e.memoizedState,s!==r||l!==f||fi.current||io?("function"===typeof c&&(go(e,n,c,r),f=e.memoizedState),(c=io||_o(e,n,s,r,l,f,u))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return Ia(t,e,n,r,o,i)}function Ia(t,e,n,r,i,o){ja(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&bi(e,n,!1),Za(t,e,o);r=e.stateNode,Ta.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=So(e,t.child,null,o),e.child=So(e,null,s,o)):Ma(t,e,s,o),e.memoizedState=r.state,i&&bi(e,n,!0),e.child}function La(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),Bo(t,e.containerInfo)}var Na,Ua,Ha,Wa={dehydrated:null,retryTime:0};function Va(t,e,n){var r,i=e.mode,o=e.pendingProps,a=zo.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ui(zo,1&a),null===t){if(void 0!==o.fallback&&Sa(e),s){if(s=o.fallback,(o=Cl(null,i,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Cl(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=Wa,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=ko(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=kl(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=kl(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=Wa,e.child=n,i}return n=So(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Cl(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Cl(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=Wa,e.child=o,n}return e.memoizedState=null,e.child=So(e,t,o.children,n)}function qa(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),eo(t.return,e)}function Qa(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ga(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(t,e,r.children,n),0!==(2&(r=zo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&qa(t,n);else if(19===t.tag)qa(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ui(zo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qa(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qa(e,!0,n,null,o,e.lastEffect);break;case"together":Qa(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Za(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&al(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=kl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=kl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Xa(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ka(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(e.type)&&yi(),null;case 3:return Do(),li(fi),li(hi),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Aa(e)||(e.effectTag|=4),null;case 5:jo(e),n=Mo(Oo.current);var o=e.type;if(null!==t&&null!=e.stateNode)Ua(t,e,o,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Mo(Co.current),Aa(e)){r=e.stateNode,o=e.type;var s=e.memoizedProps;switch(r[En]=e,r[Sn]=s,o){case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(t=0;t<Kt.length;t++)Ge(Kt[t],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"form":Ge("reset",r),Ge("submit",r);break;case"details":Ge("toggle",r);break;case"input":Pt(r,s),Ge("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r),ln(n,"onChange");break;case"textarea":Mt(r,s),Ge("invalid",r),ln(n,"onChange")}for(var l in on(o,s),t=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(t=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(t=["children",""+u]):E.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":bt(r),kt(r,s,!0);break;case"textarea":bt(r),Dt(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=un)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=zt(o)),t===sn?"script"===o?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(o,{is:r.is}):(t=l.createElement(o),"select"===o&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,o),t[En]=e,t[Sn]=r,Na(t,e),e.stateNode=t,l=an(o,r),o){case"iframe":case"object":case"embed":Ge("load",t),u=r;break;case"video":case"audio":for(u=0;u<Kt.length;u++)Ge(Kt[u],t);u=r;break;case"source":Ge("error",t),u=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),u=r;break;case"form":Ge("reset",t),Ge("submit",t),u=r;break;case"details":Ge("toggle",t),u=r;break;case"input":Pt(t,r),u=xt(t,r),Ge("invalid",t),ln(n,"onChange");break;case"option":u=Ct(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Ge("invalid",t),ln(n,"onChange");break;case"textarea":Mt(t,r),u=Ot(t,r),Ge("invalid",t),ln(n,"onChange");break;default:u=r}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?nn(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Lt(t,h):"children"===s?"string"===typeof h?("textarea"!==o||""!==h)&&Nt(t,h):"number"===typeof h&&Nt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=h&&ln(n,s):null!=h&&Y(t,s,h,l))}switch(o){case"input":bt(t),kt(t,r,!1);break;case"textarea":bt(t),Dt(t);break;case"option":null!=r.value&&t.setAttribute("value",""+mt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Tt(t,!!r.multiple,n,!1):null!=r.defaultValue&&Tt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(t.onclick=un)}_n(o,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Ha(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Mo(Oo.current),Mo(Co.current),Aa(e)?(n=e.stateNode,r=e.memoizedProps,n[En]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[En]=e,e.stateNode=n)}return null;case 13:return li(zo),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Aa(e):(r=null!==(o=t.memoizedState),n||null===o||null!==(o=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=o,o.nextEffect=s):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&zo.current)?As===bs&&(As=ws):(As!==bs&&As!==ws||(As=xs),0!==Bs&&null!==Es&&(Dl(Es,ks),Rl(Es,Bs)))),(n||r)&&(e.effectTag|=4),null);case 4:return Do(),null;case 10:return to(e),null;case 17:return gi(e.type)&&yi(),null;case 19:if(li(zo),null===(r=e.memoizedState))return null;if(o=0!==(64&e.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(As!==bs||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Fo(s))){for(e.effectTag|=64,Xa(r,!1),null!==(o=t.updateQueue)&&(e.updateQueue=o,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(t=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=t.childExpirationTime,o.expirationTime=t.expirationTime,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ui(zo,1&zo.current|2),e.child}s=s.sibling}}else{if(!o)if(null!==(t=Fo(s))){if(e.effectTag|=64,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Li()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,o=!0,Xa(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Li()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Li(),n.sibling=null,e=zo.current,ui(zo,o?1&e|2:1&e),n):null}throw Error(a(156,e.tag))}function Ya(t){switch(t.tag){case 1:gi(t.type)&&yi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Do(),li(fi),li(hi),0!==(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return jo(t),null;case 13:return li(zo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return li(zo),null;case 4:return Do(),null;case 10:return to(t),null;default:return null}}function $a(t,e){return{value:t,source:e,stack:_t(e)}}Na=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,l,u=e.stateNode;switch(Mo(Co.current),t=null,n){case"input":a=xt(u,a),r=xt(u,r),t=[];break;case"option":a=Ct(u,a),r=Ct(u,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Ot(u,a),r=Ot(u,r),t=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(u.onclick=un)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=c&&ln(o,s),t||u===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&(e.effectTag|=4)}},Ha=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=_t(n)),null!==n&&yt(n.type),e=e.value,null!==t&&1===t.tag&&yt(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function es(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){ml(t,n)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Zi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function is(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function os(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Zi(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ho(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ho(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&_n(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ze(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(t,e,n){switch("function"===typeof xl&&xl(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Hi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){ml(i,o)}}t=t.next}while(t!==r)}))}break;case 1:es(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){ml(t,n)}}(e,n);break;case 5:es(e);break;case 4:cs(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function ls(t){return 5===t.tag||3===t.tag||4===t.tag}function us(t){t:{for(var e=t.return;null!==e;){if(ls(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Nt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=un));else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function cs(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var l=t,u=o,c=n,h=u;;)if(as(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break t;for(;null===h.sibling;){if(null===h.return||h.return===u)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Sn]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Et(n,r),an(t,i),e=an(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Lt(n,l):"children"===s?Nt(n,l):Y(n,s,l,e)}switch(t){case"input":St(n,r);break;case"textarea":Bt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Tt(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Tt(n,!!r.multiple,r.defaultValue,!0):Tt(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,ze(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Rs=Li()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=en("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(a(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Ja),e.forEach((function(e){var r=bl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zs||(zs=!0,Fs=r),ts(t,e)},n}function gs(t,e,n){(n=so(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ts(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Is?Is=new Set([this]):Is.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ys,_s=Math.ceil,ms=K.ReactCurrentDispatcher,vs=K.ReactCurrentOwner,bs=0,ws=3,xs=4,Ps=0,Es=null,Ss=null,ks=0,As=bs,Cs=null,Ts=1073741823,Os=1073741823,Ms=null,Bs=0,Ds=!1,Rs=0,js=null,zs=!1,Fs=null,Is=null,Ls=!1,Ns=null,Us=90,Hs=null,Ws=0,Vs=null,qs=0;function Qs(){return 0!==(48&Ps)?1073741821-(Li()/10|0):0!==qs?qs:qs=1073741821-(Li()/10|0)}function Gs(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Ni();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&Ps))return ks;if(null!==n)t=Gi(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Gi(t,150,100);break;case 97:case 96:t=Gi(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Es&&t===ks&&--t,t}function Zs(t,e){if(50<Ws)throw Ws=0,Vs=null,Error(a(185));if(null!==(t=Xs(t,e))){var n=Ni();1073741823===e?0!==(8&Ps)&&0===(48&Ps)?Js(t):(Ys(t),0===Ps&&qi()):Ys(t),0===(4&Ps)||98!==n&&99!==n||(null===Hs?Hs=new Map([[t,e]]):(void 0===(n=Hs.get(t))||n>e)&&Hs.set(t,e))}}function Xs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Es===i&&(al(e),As===xs&&Dl(i,ks)),Rl(i,e)),i}function Ks(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Bl(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Ys(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Vi(Js.bind(null,t));else{var e=Ks(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Qs();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Bi&&Pi(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Vi(Js.bind(null,t)):Wi(r,$s.bind(null,t),{timeout:10*(1073741821-e)-Li()}),t.callbackNode=e}}}function $s(t,e){if(qs=0,e)return jl(t,e=Qs()),Ys(t),null;var n=Ks(t);if(0!==n){if(e=t.callbackNode,0!==(48&Ps))throw Error(a(327));if(gl(),t===Es&&n===ks||nl(t,n),null!==Ss){var r=Ps;Ps|=16;for(var i=il();;)try{ll();break}catch(l){rl(t,l)}if(Ji(),Ps=r,ms.current=i,1===As)throw e=Cs,nl(t,n),Dl(t,n),Ys(t),e;if(null===Ss)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=As,Es=null,r){case bs:case 1:throw Error(a(345));case 2:jl(t,2<n?2:n);break;case ws:if(Dl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hl(i)),1073741823===Ts&&10<(i=Rs+500-Li())){if(Ds){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,nl(t,n);break}}if(0!==(o=Ks(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=vn(fl.bind(null,t),i);break}fl(t);break;case xs:if(Dl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hl(i)),Ds&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,nl(t,n);break}if(0!==(i=Ks(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Os?r=10*(1073741821-Os)-Li():1073741823===Ts?r=0:(r=10*(1073741821-Ts)-5e3,0>(r=(i=Li())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=vn(fl.bind(null,t),r);break}fl(t);break;case 5:if(1073741823!==Ts&&null!==Ms){o=Ts;var s=Ms;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Li()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Dl(t,n),t.timeoutHandle=vn(fl.bind(null,t),r);break}}fl(t);break;default:throw Error(a(329))}if(Ys(t),t.callbackNode===e)return $s.bind(null,t)}}return null}function Js(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&Ps))throw Error(a(327));if(gl(),t===Es&&e===ks||nl(t,e),null!==Ss){var n=Ps;Ps|=16;for(var r=il();;)try{sl();break}catch(i){rl(t,i)}if(Ji(),Ps=n,ms.current=r,1===As)throw n=Cs,nl(t,e),Dl(t,e),Ys(t),n;if(null!==Ss)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Es=null,fl(t),Ys(t)}return null}function tl(t,e){var n=Ps;Ps|=1;try{return t(e)}finally{0===(Ps=n)&&qi()}}function el(t,e){var n=Ps;Ps&=-2,Ps|=8;try{return t(e)}finally{0===(Ps=n)&&qi()}}function nl(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,bn(n)),null!==Ss)for(n=Ss.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),li(fi),li(hi);break;case 5:jo(r);break;case 4:Do();break;case 13:case 19:li(zo);break;case 10:to(r)}n=n.return}Es=t,Ss=kl(t.current,null),ks=e,As=bs,Cs=null,Os=Ts=1073741823,Ms=null,Bs=0,Ds=!1}function rl(t,e){for(;;){try{if(Ji(),Lo.current=ya,qo)for(var n=Ho.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Uo=0,Vo=Wo=Ho=null,qo=!1,null===Ss||null===Ss.return)return As=1,Cs=e,Ss=null;t:{var i=t,o=Ss.return,a=Ss,s=e;if(e=ks,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&zo.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!c)}}if(f){var g=h.updateQueue;if(null===g){var y=new Set;y.add(l),h.updateQueue=y}else g.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var _=so(1073741823,null);_.tag=2,lo(a,_)}a.expirationTime=1073741823;break t}s=void 0,a=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new ps,s=new Set,m.set(l,s)):void 0===(s=m.get(l))&&(s=new Set,m.set(l,s)),!s.has(a)){s.add(a);var v=vl.bind(null,i,l,a);l.then(v,v)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((yt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_t(a))}5!==As&&(As=2),s=$a(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=e,uo(h,ds(h,l,e));break t;case 1:l=s;var b=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Is||!Is.has(w)))){h.effectTag|=4096,h.expirationTime=e,uo(h,gs(h,l,e));break t}}h=h.return}while(null!==h)}Ss=cl(Ss)}catch(x){e=x;continue}break}}function il(){var t=ms.current;return ms.current=ya,null===t?ya:t}function ol(t,e){t<Ts&&2<t&&(Ts=t),null!==e&&t<Os&&2<t&&(Os=t,Ms=e)}function al(t){t>Bs&&(Bs=t)}function sl(){for(;null!==Ss;)Ss=ul(Ss)}function ll(){for(;null!==Ss&&!Di();)Ss=ul(Ss)}function ul(t){var e=ys(t.alternate,t,ks);return t.memoizedProps=t.pendingProps,null===e&&(e=cl(t)),vs.current=null,e}function cl(t){Ss=t;do{var e=Ss.alternate;if(t=Ss.return,0===(2048&Ss.effectTag)){if(e=Ka(e,Ss,ks),1===ks||1!==Ss.childExpirationTime){for(var n=0,r=Ss.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Ss.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ss.firstEffect),t.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ss:t.firstEffect=Ss,t.lastEffect=Ss))}else{if(null!==(e=Ya(Ss)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ss.sibling))return e;Ss=t}while(null!==Ss);return As===bs&&(As=5),null}function hl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fl(t){var e=Ni();return Hi(99,pl.bind(null,t,e)),null}function pl(t,e){do{gl()}while(null!==Ns);if(0!==(48&Ps))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=hl(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Es&&(Ss=Es=null,ks=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ps;Ps|=32,vs.current=null,gn=Qe;var s=pn();if(dn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(k){l=null;break t}var f=0,p=-1,d=-1,g=0,y=0,_=s,m=null;e:for(;;){for(var v;_!==l||0!==c&&3!==_.nodeType||(p=f+c),_!==h||0!==u&&3!==_.nodeType||(d=f+u),3===_.nodeType&&(f+=_.nodeValue.length),null!==(v=_.firstChild);)m=_,_=v;for(;;){if(_===s)break e;if(m===l&&++g===c&&(p=f),m===h&&++y===u&&(d=f),null!==(v=_.nextSibling))break;m=(_=m).parentNode}_=v}l=-1===p||-1===d?null:{start:p,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;yn={activeElementDetached:null,focusedElem:s,selectionRange:l},Qe=!1,js=i;do{try{dl()}catch(k){if(null===js)throw Error(a(330));ml(js,k),js=js.nextEffect}}while(null!==js);js=i;do{try{for(s=t,l=e;null!==js;){var b=js.effectTag;if(16&b&&Nt(js.stateNode,""),128&b){var w=js.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:us(js),js.effectTag&=-3;break;case 6:us(js),js.effectTag&=-3,hs(js.alternate,js);break;case 1024:js.effectTag&=-1025;break;case 1028:js.effectTag&=-1025,hs(js.alternate,js);break;case 4:hs(js.alternate,js);break;case 8:cs(s,c=js,l),ss(c)}js=js.nextEffect}}catch(k){if(null===js)throw Error(a(330));ml(js,k),js=js.nextEffect}}while(null!==js);if(x=yn,w=pn(),b=x.focusedElem,l=x.selectionRange,w!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&dn(b)&&(w=l.start,void 0===(x=l.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=b.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!x.extend&&s>l&&(c=l,l=s,s=c),c=fn(b,s),h=fn(b,l),c&&h&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==h.node||x.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),s>l?(x.addRange(w),x.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Qe=!!gn,yn=gn=null,t.current=n,js=i;do{try{for(b=t;null!==js;){var P=js.effectTag;if(36&P&&os(b,js.alternate,js),128&P){w=void 0;var E=js.ref;if(null!==E){var S=js.stateNode;switch(js.tag){case 5:w=S;break;default:w=S}"function"===typeof E?E(w):E.current=w}}js=js.nextEffect}}catch(k){if(null===js)throw Error(a(330));ml(js,k),js=js.nextEffect}}while(null!==js);js=null,Ri(),Ps=o}else t.current=n;if(Ls)Ls=!1,Ns=t,Us=e;else for(js=i;null!==js;)e=js.nextEffect,js.nextEffect=null,js=e;if(0===(e=t.firstPendingTime)&&(Is=null),1073741823===e?t===Vs?Ws++:(Ws=0,Vs=t):Ws=0,"function"===typeof wl&&wl(n.stateNode,r),Ys(t),zs)throw zs=!1,t=Fs,Fs=null,t;return 0!==(8&Ps)||qi(),null}function dl(){for(;null!==js;){var t=js.effectTag;0!==(256&t)&&ns(js.alternate,js),0===(512&t)||Ls||(Ls=!0,Wi(97,(function(){return gl(),null}))),js=js.nextEffect}}function gl(){if(90!==Us){var t=97<Us?97:Us;return Us=90,Hi(t,yl)}}function yl(){if(null===Ns)return!1;var t=Ns;if(Ns=null,0!==(48&Ps))throw Error(a(331));var e=Ps;for(Ps|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===t)throw Error(a(330));ml(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return Ps=e,qi(),!0}function _l(t,e,n){lo(t,e=ds(t,e=$a(n,e),1073741823)),null!==(t=Xs(t,1073741823))&&Ys(t)}function ml(t,e){if(3===t.tag)_l(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){_l(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Is||!Is.has(r))){lo(n,t=gs(n,t=$a(e,t),1073741823)),null!==(n=Xs(n,1073741823))&&Ys(n);break}}n=n.return}}function vl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Es===t&&ks===n?As===xs||As===ws&&1073741823===Ts&&Li()-Rs<500?nl(t,ks):Ds=!0:Bl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Ys(t)))}function bl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Gs(e=Qs(),t,null)),null!==(t=Xs(t,e))&&Ys(t)}ys=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)Oa=!0;else{if(r<n){switch(Oa=!1,e.tag){case 3:La(e),Ca();break;case 5:if(Ro(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:gi(e.type)&&vi(e);break;case 4:Bo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,ui(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Va(t,e,n):(ui(zo,1&zo.current),null!==(e=Za(t,e,n))?e.sibling:null);ui(zo,1&zo.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return Ga(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ui(zo,zo.current),!r)return null}return Za(t,e,n)}Oa=!1}}else Oa=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=di(e,hi.current),no(e,n),i=Zo(null,e,r,t,i,n),e.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)){var o=!0;vi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternalFiber=e,bo(e,r,t,n),e=Ia(null,e,r,!0,o,n)}else e.tag=0,Ma(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"===typeof t)return Sl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===lt)return 11;if(t===ht)return 14}return 2}(i),t=Zi(i,t),o){case 0:e=za(null,e,i,t,n);break t;case 1:e=Fa(null,e,i,t,n);break t;case 11:e=Ba(null,e,i,t,n);break t;case 14:e=Da(null,e,i,Zi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,za(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Fa(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 3:if(La(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),co(e,r,null,n),(r=e.memoizedState.element)===i)Ca(),e=Za(t,e,n);else{if((i=e.stateNode.hydrate)&&(wa=wn(e.stateNode.containerInfo.firstChild),ba=e,i=xa=!0),i)for(n=ko(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ma(t,e,r,n),Ca();e=e.child}return e;case 5:return Ro(e),null===t&&Sa(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,mn(r,i)?s=null:null!==o&&mn(r,o)&&(e.effectTag|=16),ja(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Ma(t,e,s,n),e=e.child),e;case 6:return null===t&&Sa(e),null;case 13:return Va(t,e,n);case 4:return Bo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=So(e,null,r,n):Ma(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ba(t,e,r,i=e.elementType===r?i:Zi(r,i),n);case 7:return Ma(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ma(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(ui(Xi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Fr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){e=Za(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),eo(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ma(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.effectTag|=1,Ma(t,e,r,n),e.child;case 14:return o=Zi(i=e.type,e.pendingProps),Da(t,e,i,o=Zi(i.type,o),r,n);case 15:return Ra(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,gi(r)?(t=!0,vi(e)):t=!1,no(e,n),mo(e,r,i),bo(e,r,i,n),Ia(null,e,r,!0,t,n);case 19:return Ga(t,e,n)}throw Error(a(156,e.tag))};var wl=null,xl=null;function Pl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(t,e,n,r){return new Pl(t,e,n,r)}function Sl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function kl(t,e){var n=t.alternate;return null===n?((n=El(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Sl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case nt:return Cl(n.children,i,o,e);case st:s=8,i|=7;break;case rt:s=8,i|=1;break;case it:return(t=El(12,n,e,8|i)).elementType=it,t.type=it,t.expirationTime=o,t;case ut:return(t=El(13,n,e,i)).type=ut,t.elementType=ut,t.expirationTime=o,t;case ct:return(t=El(19,n,e,i)).elementType=ct,t.expirationTime=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ot:s=10;break t;case at:s=9;break t;case lt:s=11;break t;case ht:s=14;break t;case ft:s=16,r=null;break t;case pt:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=El(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Cl(t,e,n,r){return(t=El(7,t,r,e)).expirationTime=n,t}function Tl(t,e,n){return(t=El(6,t,null,e)).expirationTime=n,t}function Ol(t,e,n){return(e=El(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ml(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Bl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Dl(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Rl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function jl(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function zl(t,e,n,r){var i=e.current,o=Qs(),s=fo.suspense;o=Gs(o,i,s);t:if(n){e:{if(Jt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=mi(n,u,l);break t}}n=l}else n=ci;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),lo(i,e),Zs(i,o),o}function Fl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Il(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Ll(t,e){Il(t,e),(t=t.alternate)&&Il(t,e)}function Nl(t,e,n){var r=new Ml(t,e,n=null!=n&&!0===n.hydrate),i=El(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,oo(i),t[kn]=r.current,n&&0!==e&&function(t,e){var n=$t(e);ke.forEach((function(t){de(t,e,n)})),Ae.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Ul(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Hl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Fl(a);s.call(t)}}zl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Nl(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var t=Fl(a);l.call(t)}}el((function(){zl(e,a,t,i)}))}return Fl(a)}function Wl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Vl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(e))throw Error(a(200));return Wl(t,e,null,n)}Nl.prototype.render=function(t){zl(t,this._internalRoot,null,null)},Nl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;zl(null,t,null,(function(){e[kn]=null}))},ge=function(t){if(13===t.tag){var e=Gi(Qs(),150,100);Zs(t,e),Ll(t,e)}},ye=function(t){13===t.tag&&(Zs(t,3),Ll(t,3))},_e=function(t){if(13===t.tag){var e=Qs();Zs(t,e=Gs(e,t,null)),Ll(t,e)}},C=function(t,e,n){switch(e){case"input":if(St(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=On(r);if(!i)throw Error(a(90));wt(r),St(r,i)}}}break;case"textarea":Bt(t,n);break;case"select":null!=(e=n.value)&&Tt(t,!!n.multiple,e,!1)}},R=tl,j=function(t,e,n,r,i){var o=Ps;Ps|=4;try{return Hi(98,t.bind(null,e,n,r,i))}finally{0===(Ps=o)&&qi()}},z=function(){0===(49&Ps)&&(function(){if(null!==Hs){var t=Hs;Hs=null,t.forEach((function(t,e){jl(e,t),Ys(e)})),qi()}}(),gl())},F=function(t,e){var n=Ps;Ps|=2;try{return t(e)}finally{0===(Ps=n)&&qi()}};var ql={Events:[Cn,Tn,On,k,P,Fn,function(t){ie(t,zn)},B,D,Ye,se,gl,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);wl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},xl=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ql,e.createPortal=Vl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&Ps))throw Error(a(187));var n=Ps;Ps|=1;try{return Hi(99,t.bind(null,e))}finally{Ps=n,qi()}},e.hydrate=function(t,e,n){if(!Ul(e))throw Error(a(200));return Hl(null,t,e,!0,n)},e.render=function(t,e,n){if(!Ul(e))throw Error(a(200));return Hl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(a(40));return!!t._reactRootContainer&&(el((function(){Hl(null,null,t,!1,(function(){t._reactRootContainer=null,t[kn]=null}))})),!0)},e.unstable_batchedUpdates=tl,e.unstable_createPortal=function(t,e){return Vl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ul(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Hl(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(19)},function(t,e,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(c,0))},i=function(t,e){u=setTimeout(t,e)},o=function(){clearTimeout(u)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var _=p.now();e.unstable_now=function(){return p.now()-_}}var m=!1,v=null,b=-1,w=5,x=0;a=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var P=new MessageChannel,E=P.port2;P.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();x=t+w;try{v(!0,t)?E.postMessage(null):(m=!1,v=null)}catch(n){throw E.postMessage(null),n}}else m=!1},r=function(t){v=t,m||(m=!0,E.postMessage(null))},i=function(t,n){b=d((function(){t(e.unstable_now())}),n)},o=function(){g(b),b=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<C(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function A(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>C(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function C(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var T=[],O=[],M=1,B=null,D=3,R=!1,j=!1,z=!1;function F(t){for(var e=k(O);null!==e;){if(null===e.callback)A(O);else{if(!(e.startTime<=t))break;A(O),e.sortIndex=e.expirationTime,S(T,e)}e=k(O)}}function I(t){if(z=!1,F(t),!j)if(null!==k(T))j=!0,r(L);else{var e=k(O);null!==e&&i(I,e.startTime-t)}}function L(t,n){j=!1,z&&(z=!1,o()),R=!0;var r=D;try{for(F(n),B=k(T);null!==B&&(!(B.expirationTime>n)||t&&!a());){var s=B.callback;if(null!==s){B.callback=null,D=B.priorityLevel;var l=s(B.expirationTime<=n);n=e.unstable_now(),"function"===typeof l?B.callback=l:B===k(T)&&A(T),F(n)}else A(T);B=k(T)}if(null!==B)var u=!0;else{var c=k(O);null!==c&&i(I,c.startTime-n),u=!1}return u}finally{B=null,D=r,R=!1}}function N(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){j||R||(j=!0,r(L))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return k(T)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:N(t)}else a=N(t),l=s;return t={id:M++,callback:n,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,S(O,t),null===k(T)&&t===k(O)&&(z?o():z=!0,i(I,l-s))):(t.sortIndex=a,S(T,t),j||R||(j=!0,r(L))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=k(T);return n!==B&&null!==B&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<B.expirationTime||a()},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},,function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var c={};function h(){}function f(){}function p(){}var d={};d[i]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==e&&n.call(y,i)&&(d=y);var _=p.prototype=h.prototype=Object.create(d);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=_.constructor=p,p.constructor=f,f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},m(v.prototype),v.prototype[o]=function(){return this},t.AsyncIterator=v,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new v(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(_),s(_,a,"Generator"),_[i]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=E,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}}]]);
//# sourceMappingURL=2.77c3ceb1.chunk.js.map