(this["webpackJsonpthe-office"]=this["webpackJsonpthe-office"]||[]).push([[0],{15:function(e,t,i){e.exports=i(22)},20:function(e,t,i){},22:function(e,t,i){"use strict";i.r(t);var a=i(6),n=i.n(a),r=i(12),s=i.n(r),l=(i(20),i(8)),o=i.n(l),h=i(13),c=i(2),d=i(1),u=i(5),p=i(4),y=i(0),v=i(3),g=i(14),f=i(9),b=i(10),w=i(7),O=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e,a,n){var r;return Object(c.a)(this,i),(r=t.call(this,Object(f.a)(Object(f.a)({},a),{},{collisionType:y.CollisionType.Active}))).engine=e,r.view=n,r.speed=100,r._direction=i.DIRECTION_DOWN,r}return Object(d.a)(i,[{key:"direction",get:function(){return this._direction}}]),Object(d.a)(i,[{key:"draw",value:function(e,t){var a;this.view&&(null===(a=this.view)||void 0===a||a.update());Object(b.a)(Object(w.a)(i.prototype),"draw",this).call(this,e,t)}},{key:"update",value:function(e,t){e.input.keyboard.isHeld(y.Input.Keys.Up)?(this.vel.y=-this.speed,this._direction=i.DIRECTION_UP):e.input.keyboard.wasReleased(y.Input.Keys.Up)&&(this.vel.y=0),e.input.keyboard.isHeld(y.Input.Keys.Down)?(this.vel.y=this.speed,this._direction=i.DIRECTION_DOWN):e.input.keyboard.wasReleased(y.Input.Keys.Down)&&(this.vel.y=0),e.input.keyboard.isHeld(y.Input.Keys.Right)?(this.vel.x=this.speed,this._direction=i.DIRECTION_RIGHT):e.input.keyboard.wasReleased(y.Input.Keys.Right)&&(this.vel.x=0),e.input.keyboard.isHeld(y.Input.Keys.Left)?(this.vel.x=-this.speed,this._direction=i.DIRECTION_LEFT):e.input.keyboard.wasReleased(y.Input.Keys.Left)&&(this.vel.x=0),Object(b.a)(Object(w.a)(i.prototype),"update",this).call(this,e,t)}}]),i}(y.Actor);O.DIRECTION_UP="up",O.DIRECTION_DOWN="down",O.DIRECTION_RIGHT="right",O.DIRECTION_LEFT="left";var m=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e,a){var n;return Object(c.a)(this,i),(n=t.call(this,a)).dialogView=e,n.body.collider.type=y.CollisionType.Passive,n.on("collisionstart",(function(e){e.other instanceof O&&(n.dialogView.visible=!0)})),n.on("collisionend",(function(e){e.other instanceof O&&(n.dialogView.visible=!1)})),n}return Object(d.a)(i,[{key:"onInitialize",value:function(e){}}]),i}(y.Actor),j=function(){function e(t,i){Object(c.a)(this,e),this.engine=t,this.data=i,this.layers=new Map,this.objects=new Map,this.collisions=new Map;var a,n=Object(v.a)(i.layers);try{for(n.s();!(a=n.n()).done;){var r=a.value;this.layers.set(r.name,r)}}catch(s){n.e(s)}finally{n.f()}this.parseObjectLayers()}return Object(d.a)(e,[{key:"getLayer",value:function(e){var t=this.layers.get(e);return t||null}},{key:"getCollisionActors",value:function(){var e,t=[],i=Object(v.a)(this.collisions.values());try{for(i.s();!(e=i.n()).done;){var a=e.value;t.push(new y.Actor({x:a.x+a.width/2,y:a.y+a.height/2,width:a.width,height:a.height,collisionType:y.CollisionType.Fixed}))}}catch(n){i.e(n)}finally{i.f()}return t}},{key:"getDialogTriggers",value:function(e){var t,i=[],a=Object(v.a)(this.objects.values());try{for(a.s();!(t=a.n()).done;){var n=t.value;if("DialogTrigger"===n.type){var r=e.get(n.name);if(!r)throw new Error("No DialogView with name ".concat(n.name," exists"));var s=new m(r,{x:n.x+n.width/2,y:n.y+n.height/2,width:n.width,height:n.height});i.push(s)}}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"getPlayer",value:function(){var t=this.objects.get(e.PLAYER_NAME);if(!t)throw new Error("No Player found in map.");return new O(this.engine,{x:t.x,y:t.y,width:t.width,height:t.height})}},{key:"parseObjectLayers",value:function(){var t,i=Object(v.a)(this.layers.values());try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.type===e.OBJECT_LAYER&&a.objects)if(a.name.startsWith("object")){var n,r=Object(v.a)(a.objects);try{for(r.s();!(n=r.n()).done;){var s=n.value;this.objects.set(s.name,s)}}catch(c){r.e(c)}finally{r.f()}}else if(a.name.startsWith("collision")){var l,o=Object(v.a)(a.objects);try{for(o.s();!(l=o.n()).done;){var h=l.value;this.collisions.set(h.id.toString(),h)}}catch(c){o.e(c)}finally{o.f()}}}}catch(c){i.e(c)}finally{i.f()}}}]),e}();j.OBJECT_LAYER="objectgroup",j.TILE_LAYER="tilelayer",j.PLAYER_NAME="player";var D=function(){function e(t,i,a){Object(c.a)(this,e),this.engine=t,this.player=i,this.texture=a,this.upAnimation=void 0,this.leftAnimation=void 0,this.rightAnimation=void 0,this.downAnimation=void 0,this.idleDownSprite=void 0,this.idleUpSprite=void 0,this.idleLeftSprite=void 0,this.idleRightSprite=void 0;var n=new y.SpriteSheet(this.texture,3,4,16,16);this.downAnimation=n.getAnimationByIndices(this.engine,[0,1,2],e.ANIMATION_SPEED),this.leftAnimation=n.getAnimationByIndices(this.engine,[3,4,5],e.ANIMATION_SPEED),this.rightAnimation=n.getAnimationByIndices(this.engine,[6,7,8],e.ANIMATION_SPEED),this.upAnimation=n.getAnimationByIndices(this.engine,[9,10,11],e.ANIMATION_SPEED),this.idleDownSprite=n.getSprite(1),this.idleLeftSprite=n.getSprite(4),this.idleRightSprite=n.getSprite(7),this.idleUpSprite=n.getSprite(10),this.player.addDrawing("up",this.upAnimation),this.player.addDrawing("left",this.leftAnimation),this.player.addDrawing("right",this.rightAnimation),this.player.addDrawing("down",this.downAnimation),this.player.addDrawing("idleUp",this.idleUpSprite),this.player.addDrawing("idleDown",this.idleDownSprite),this.player.addDrawing("idleRight",this.idleRightSprite),this.player.addDrawing("idleLeft",this.idleLeftSprite),this.player.setDrawing("idleDown")}return Object(d.a)(e,[{key:"update",value:function(){this.player.vel.x>0?this.player.setDrawing("right"):this.player.vel.x<0?this.player.setDrawing("left"):this.player.vel.y>0?this.player.setDrawing("down"):this.player.vel.y<0?this.player.setDrawing("up"):this.player.direction===O.DIRECTION_UP?this.player.setDrawing("idleUp"):this.player.direction===O.DIRECTION_DOWN?this.player.setDrawing("idleDown"):this.player.direction===O.DIRECTION_LEFT?this.player.setDrawing("idleLeft"):this.player.setDrawing("idleRight")}}]),e}();D.ANIMATION_SPEED=100;var I=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(e,a,n){var r;return Object(c.a)(this,i),(r=t.call(this,{x:a,y:n,visible:!1})).nameLabel=void 0,r.emailLabel=void 0,r.nameLabel=new y.Label(e.name,a,n,"Arial"),r.emailLabel=new y.Label(e.email,a,n-30,"Arial"),r.add(r.nameLabel),r.add(r.emailLabel),r}return Object(d.a)(i,[{key:"hide",value:function(){this.nameLabel.visible=!1,this.emailLabel.visible=!1}},{key:"show",value:function(){this.nameLabel.visible=!0,this.emailLabel.visible=!0}}]),i}(y.ScreenElement),E=function(){function e(t,i){Object(c.a)(this,e),this.engine=t,this.config=i,this.level1=void 0,this.spriteSheets=new Map,this.playerTexture=void 0,this.level1=new g.TiledResource("/assets/maps/level1.json"),this.playerTexture=new y.Texture("/assets/characters/player.png")}return Object(d.a)(e,[{key:"init",value:function(){var e=this.level1.getTileMap();this.parseMap(),this.engine.add(e)}},{key:"parseMap",value:function(){var e=this.level1.getData(),t=new j(this.engine,e),i=t.getPlayer(),a=new Map;a.set("openContactDialog",new I(this.config.contact,50,50));var n=t.getDialogTriggers(a);i.view=new D(this.engine,i,this.playerTexture),this.engine.add(i);var r,s=Object(v.a)(a.values());try{for(s.s();!(r=s.n()).done;){var l=r.value;this.engine.currentScene.add(l)}}catch(y){s.e(y)}finally{s.f()}var o,h=Object(v.a)(t.getCollisionActors());try{for(h.s();!(o=h.n()).done;){var c=o.value;this.engine.add(c)}}catch(y){h.e(y)}finally{h.f()}var d,u=Object(v.a)(n);try{for(u.s();!(d=u.n()).done;){var p=d.value;this.engine.add(p)}}catch(y){u.e(y)}finally{u.f()}}},{key:"getSpriteSheet",value:function(e){var t=this.spriteSheets.get(e);return t||null}},{key:"getLoadableResources",value:function(){return[this.level1,this.playerTexture]}}]),e}(),A={contact:{name:"Arjan Frans",email:"arjanfrans.com@gmail.com"},social:{instagram:"arjan.frans"},programming:{github:"arjanfrans"}},T=function(e){Object(u.a)(i,e);var t=Object(p.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t,i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.Engine({width:800,height:600,canvasElementId:"game"}),i=new E(t,A),a=new y.Loader(i.getLoadableResources()),e.next=5,t.start(a);case 5:i.init();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("canvas",{id:"game"})}}]),i}(n.a.Component);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(T,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.479cc2ff.chunk.js.map